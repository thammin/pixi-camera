<!DOCTYPE html>
<html>
<head>
<title>---</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
<meta charset=utf-8></head>
<body></body>
<script>
(function d(p,e,t){function r(i,o){if(!e[i]){if(!p[i]){var s="function"==typeof require&&require;if(!o&&s)return s(i,!0);if(n)return n(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var c=e[i]={exports:{}};p[i][0].call(c.exports,function(t){var e=p[i][1][t];return r(e?e:t)},c,c.exports,d,p,e,t)}return e[i].exports}for(var n="function"==typeof require&&require,a=0;a<t.length;a++)r(t[a]);return r})({1:[function(e,t){var r=Math.sin,a=Math.cos;const n=e("eventemitter3"),i=e("pixi.js");class o extends n{constructor(e,t){super(),this.width=e,this.height=t,this.position=new i.ObservablePoint(this.update,this,0,0),this.scale=new i.ObservablePoint(this.update,this,1,1),this.pivot=new i.ObservablePoint(this.update,this,0,0),this.skew=new i.ObservablePoint(this.updateSkew,this,0,0),this.frustrum=new i.Rectangle(0,0,this.width,this.height),this.frustrumCenter=new i.Point,this.frustrumChanged=!0,this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this.on("changeSize",this.changeSize)}updateSkew(){this._cx=a(this._rotation+this.skew._y),this._sx=r(this._rotation+this.skew._y),this._cy=-r(this._rotation-this.skew._x),this._sy=a(this._rotation-this.skew._x),this.update()}update(){this.frustrum.x=this.position.x*this.scale.x+this.pivot.x,this.frustrum.y=this.position.y*this.scale.y+this.pivot.y,this.frustrum.width=this.width*this.scale.x,this.frustrum.height=this.height*this.scale.y,this.frustrumChanged=!0,this.emit("frustrumChanged",this)}get rotation(){return this._rotation}set rotation(e){this._rotation=e,this.updateSkew()}changeSize(e,t){this.width=e,this.height=t,this.update()}getFrustrumCenter(){return this.frustrumCenter.set((this.frustrum.left+this.frustrum.right)/2,(this.frustrum.top+this.frustrum.bottom)/2),this.frustrumCenter}}t.exports=o},{eventemitter3:6,"pixi.js":147}],2:[function(e){function r(){x&&(T.innerHTML=x.visible)}var a=Math.floor;const n=e("pixi.js"),o=e("."),s=e("pixi-hammer"),l=e("gsap");document.body.style.margin="0px";const u=new n.Application(555,555);document.body.appendChild(u.view);const p=new n.Graphics;p.beginFill(16777215,0.5),p.drawRect(100,100,300,300),u.stage.addChild(p);const c=new o({width:300,height:300});c.position.set(100,100),u.stage.addChild(c),c.camera.pivot.set(100,0);for(var _=0;_<900;_++){const e=new n.Graphics;e.beginFill(a(16777215*Math.random())),e.drawRect(10*(_%30),10*a(_/30),10,10),c.addChild(e)}console.log(`scene: ${u.renderer.width}x${u.renderer.height}`),console.log(`world: ${c.width}x${c.height}`);let i=new n.Graphics;i.beginFill(0),i.drawRect(0,0,u.renderer.width,u.renderer.height),c.hitArea=i;const h=new s(u);let f;h.listen(c,"panstart",function(){f={origin:new n.Point},f.origin.copy(this.camera.position)}),h.listen(c,"panmove",{threshold:0},function(t){f&&(this.camera.position.set(f.origin.x-t.deltaX,f.origin.y-t.deltaY),r())});const g=800,t=5;let d;h.listen(c,"panend",function(r){f=void 0,d&&d.kill(),d=l.TweenLite.to(this.camera.position,g/1e3,{x:this.camera.position.x+-r.velocityX*g/t,y:this.camera.position.y+-r.velocityY*g/t,ease:l.Quart.easeOut})});let m=!1,y;u.view.addEventListener("wheel",function(t){t.preventDefault(),m?clearTimeout(y):(c.setOrigin(),m=!0);let e=0.5*(t.deltaY/1e3);c.camera.scale.set(Math.min(Math.max(c.camera.scale.x+e,0.5),2)),y=setTimeout(()=>{m=!1},250)});let x;h.listen(c,"tap",function(){x?(x.scale.set(2),c.updateCullingBound(x)):(x=new n.Graphics,x.name="box",x.clear(),x.beginFill(16777215,0.7),x.drawRect(100,100,100,100),x.position.set(70),x.pivot.set(50),x.scale.set(1.5),c.addChild(x),r())});const T=document.createElement("div");T.style.position="absolute",T.style.top=T.style.left="50px",T.style.color="white",document.body.appendChild(T)},{".":3,gsap:7,"pixi-hammer":31,"pixi.js":147}],3:[function(e,t){t.exports=e("./world.js")},{"./world.js":198}],4:[function(e,t,r){"use strict";"use restrict";function a(e){var t=32;return e&=-e,e&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}var n=32;r.INT_BITS=n,r.INT_MAX=2147483647,r.INT_MIN=-1<<n-1,r.sign=function(e){return(0<e)-(0>e)},r.abs=function(e){var t=e>>n-1;return(e^t)-t},r.min=function(e,t){return t^(e^t)&-(e<t)},r.max=function(e,t){return e^(e^t)&-(e<t)},r.isPow2=function(e){return!(e&e-1)&&!!e},r.log2=function(e){var t,r;return t=(65535<e)<<4,e>>>=t,r=(255<e)<<3,e>>>=r,t|=r,r=(15<e)<<2,e>>>=r,t|=r,r=(3<e)<<1,e>>>=r,t|=r,t|e>>1},r.log10=function(e){return 1e9<=e?9:1e8<=e?8:1e7<=e?7:1e6<=e?6:1e5<=e?5:1e4<=e?4:1e3<=e?3:100<=e?2:10<=e?1:0},r.popCount=function(e){return e-=1431655765&e>>>1,e=(858993459&e)+(858993459&e>>>2),16843009*(252645135&e+(e>>>4))>>>24},r.countTrailingZeros=a,r.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1},r.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)},r.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,1&27030>>>e};var i=Array(256);(function(e){for(var t=0;256>t;++t){var a=t,n=t,r=7;for(a>>>=1;a;a>>>=1)n<<=1,n|=1&a,--r;e[t]=255&n<<r}})(i),r.reverse=function(e){return i[255&e]<<24|i[255&e>>>8]<<16|i[255&e>>>16]<<8|i[255&e>>>24]},r.interleave2=function(e,t){return e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1},r.deinterleave2=function(e,t){return e=1431655765&e>>>t,e=858993459&(e|e>>>1),e=252645135&(e|e>>>2),e=16711935&(e|e>>>4),e=65535&(e|e>>>16),e<<16>>16},r.interleave3=function(e,t,r){return e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e|=t<<1,r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),e|r<<2},r.deinterleave3=function(e,t){return e=1227133513&e>>>t,e=3272356035&(e|e>>>2),e=251719695&(e|e>>>4),e=4278190335&(e|e>>>8),e=1023&(e|e>>>16),e<<22>>22},r.nextCombination=function(e){var r=e|e-1;return r+1|(~r&-~r)-1>>>a(e)+1}},{}],5:[function(e,t){"use strict";function r(e,t,r){r=r||2;var n=t&&t.length,s=n?t[0]*r:e.length,l=a(e,0,s,r,!0),d=[];if(!l)return d;var p,c,_,h,f,g,m;if(n&&(l=u(e,t,l,r)),e.length>80*r){p=_=e[0],c=h=e[1];for(var y=r;y<s;y+=r)f=e[y],g=e[y+1],f<p&&(p=f),g<c&&(c=g),f>_&&(_=f),g>h&&(h=g);m=Math.max(_-p,h-c),m=0===m?0:1/m}return o(l,d,r,p,c,m),d}function a(e,t,r,a,n){var o,i;if(n===0<A(e,t,r,a))for(o=t;o<r;o+=a)i=b(o,e[o],e[o+1],i);else for(o=r-a;o>=t;o-=a)i=b(o,e[o],e[o+1],i);return i&&v(i,i.next)&&(R(i),i=i.next),i}function n(e,t){if(!e)return e;t||(t=e);var r=e,a;do if(a=!1,!r.steiner&&(v(r,r.next)||0===T(r.prev,r,r.next))){if(R(r),r=t=r.prev,r===r.next)break;a=!0}else r=r.next;while(a||r!==t);return t}function o(e,t,r,a,u,p,c){if(e){!c&&p&&h(e,a,u,p);for(var _=e,f,g;e.prev!==e.next;){if(f=e.prev,g=e.next,p?s(e,a,u,p):i(e)){t.push(f.i/r),t.push(e.i/r),t.push(g.i/r),R(e),e=g.next,_=g.next;continue}if(e=g,e===_){c?1===c?(e=l(e,t,r),o(e,t,r,a,u,p,2)):2===c&&d(e,t,r,a,u,p):o(n(e),t,r,a,u,p,1);break}}}}function i(e){var t=e.prev,r=e,a=e.next;if(0<=T(t,r,a))return!1;for(var n=e.next.next;n!==e.prev;){if(y(t.x,t.y,r.x,r.y,a.x,a.y,n.x,n.y)&&0<=T(n.prev,n,n.next))return!1;n=n.next}return!0}function s(e,t,r,n){var i=e.prev,a=e,o=e.next;if(0<=T(i,a,o))return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,l=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,d=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,u=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,c=g(s,l,t,r,n),_=g(d,u,t,r,n),h=e.nextZ;h&&h.z<=_;){if(h!==e.prev&&h!==e.next&&y(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&0<=T(h.prev,h,h.next))return!1;h=h.nextZ}for(h=e.prevZ;h&&h.z>=c;){if(h!==e.prev&&h!==e.next&&y(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&0<=T(h.prev,h,h.next))return!1;h=h.prevZ}return!0}function l(e,t,r){var n=e;do{var i=n.prev,a=n.next.next;!v(i,a)&&E(i,n,n.next,a)&&S(i,a)&&S(a,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(a.i/r),R(n),R(n.next),n=e=a),n=n.next}while(n!==e);return n}function d(e,t,r,i,s,l){var d=e;do{for(var a=d.next.next;a!==d.prev;){if(d.i!==a.i&&x(d,a)){var u=O(d,a);return d=n(d,d.next),u=n(u,u.next),o(d,t,r,i,s,l),void o(u,t,r,i,s,l)}a=a.next}d=d.next}while(d!==e)}function u(e,t,r,o){var s=[],l,i,d,u,_;for(l=0,i=t.length;l<i;l++)d=t[l]*o,u=l<i-1?t[l+1]*o:e.length,_=a(e,d,u,o,!1),_===_.next&&(_.steiner=!0),s.push(m(_));for(s.sort(p),l=0;l<s.length;l++)c(s[l],r),r=n(r,r.next);return r}function p(e,t){return e.x-t.x}function c(e,t){if(t=_(e,t),t){var r=O(t,e);n(r,r.next)}}function _(e,t){var r=t,a=e.x,n=e.y,i=-Infinity,o;do{if(n<=r.y&&n>=r.next.y&&r.next.y!==r.y){var s=r.x+(n-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>i){if(i=s,s===a){if(n===r.y)return r;if(n===r.next.y)return r.next}o=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!o)return null;if(a===i)return o.prev;var l=o,d=o.x,u=o.y,p=Infinity,c;for(r=o.next;r!==l;)a>=r.x&&r.x>=d&&a!==r.x&&y(n<u?a:i,n,d,u,n<u?i:a,n,r.x,r.y)&&(c=M(n-r.y)/(a-r.x),(c<p||c===p&&r.x>o.x)&&S(r,e)&&(o=r,p=c)),r=r.next;return o}function h(e,t,r,a){var n=e;do null===n.z&&(n.z=g(n.x,n.y,t,r,a)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,f(n)}function f(t){var r=1,a,n,i,o,e,s,l,d;do{for(n=t,t=null,e=null,s=0;n;){for(s++,i=n,l=0,a=0;a<r&&(l++,i=i.nextZ,!!i);a++);for(d=r;0<l||0<d&&i;)0!==l&&(0===d||!i||n.z<=i.z)?(o=n,n=n.nextZ,l--):(o=i,i=i.nextZ,d--),e?e.nextZ=o:t=o,o.prevZ=e,e=o;n=i}e.nextZ=null,r*=2}while(1<s);return t}function g(e,t,r,a,n){return e=32767*(e-r)*n,t=32767*(t-a)*n,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function m(e){var t=e,r=e;do t.x<r.x&&(r=t),t=t.next;while(t!==e);return r}function y(e,t,r,a,n,i,o,s){return 0<=(n-o)*(t-s)-(e-o)*(i-s)&&0<=(e-o)*(a-s)-(r-o)*(t-s)&&0<=(r-o)*(i-s)-(n-o)*(a-s)}function x(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!P(e,t)&&S(e,t)&&S(t,e)&&C(e,t)}function T(e,t,a){return(t.y-e.y)*(a.x-t.x)-(t.x-e.x)*(a.y-t.y)}function v(e,t){return e.x===t.x&&e.y===t.y}function E(e,t,r,a){return v(e,t)&&v(r,a)||v(e,a)&&v(r,t)||0<T(e,t,r)!=0<T(e,t,a)&&0<T(r,a,e)!=0<T(r,a,t)}function P(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&E(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function S(e,t){return 0>T(e.prev,e,e.next)?0<=T(e,t,e.next)&&0<=T(e,e.prev,t):0>T(e,t,e.prev)||0>T(e,e.next,t)}function C(e,t){var r=e,a=!1,n=(e.x+t.x)/2,i=(e.y+t.y)/2;do r.y>i!=r.next.y>i&&r.next.y!==r.y&&n<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(a=!a),r=r.next;while(r!==e);return a}function O(e,t){var r=new w(e.i,e.x,e.y),a=new w(t.i,t.x,t.y),n=e.next,i=t.prev;return e.next=t,t.prev=e,r.next=n,n.prev=r,a.next=r,r.prev=a,i.next=a,a.prev=i,a}function b(e,t,r,a){var n=new w(e,t,r);return a?(n.next=a.next,n.prev=a,a.next.prev=n,a.next=n):(n.prev=n,n.next=n),n}function R(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function w(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(e,t,r,a){for(var n=0,o=t,i=r-a;o<r;o+=a)n+=(e[i]-e[o])*(e[o+1]+e[i+1]),i=o;return n}var M=Math.abs;t.exports=r,t.exports.default=r,r.deviation=function(e,t,r,n){var o=t&&t.length,s=o?t[0]*r:e.length,l=M(A(e,0,s,r));if(o)for(var d=0,i=t.length;d<i;d++){var u=t[d]*r,p=d<i-1?t[d+1]*r:e.length;l-=M(A(e,u,p,r))}var _=0;for(d=0;d<n.length;d+=3){var h=n[d]*r,a=n[d+1]*r,f=n[d+2]*r;_+=M((e[h]-e[f])*(e[a+1]-e[h+1])-(e[h]-e[a])*(e[f+1]-e[h+1]))}return 0===l&&0===_?0:M((_-l)/l)},r.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},a=0,n=0;n<e.length;n++){for(var i=0;i<e[n].length;i++)for(var o=0;o<t;o++)r.vertices.push(e[n][i][o]);0<n&&(a+=e[n-1].length,r.holes.push(a))}return r}},{}],6:[function(e,t){"use strict";function r(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function n(e,t,r,n,i){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new a(r,n||e,i),s=d?d+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function i(){this._events=new r,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,d="~";Object.create&&(r.prototype=Object.create(null),!new r().__proto__&&(d=!1)),i.prototype.eventNames=function(){var e=[],t,r;if(0===this._eventsCount)return e;for(r in t=this._events)s.call(t,r)&&e.push(d?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e},i.prototype.listeners=function(e){var t=d?d+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,n=r.length,i=Array(n);a<n;a++)i[a]=r[a].fn;return i},i.prototype.listenerCount=function(e){var t=d?d+e:e,r=this._events[t];return r?r.fn?1:r.length:0},i.prototype.emit=function(e,t,r,a,n,o){var s=d?d+e:e;if(!this._events[s])return!1;var l=this._events[s],u=arguments.length,p,c;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,a),!0;case 5:return l.fn.call(l.context,t,r,a,n),!0;case 6:return l.fn.call(l.context,t,r,a,n,o),!0;}for(c=1,p=Array(u-1);c<u;c++)p[c-1]=arguments[c];l.fn.apply(l.context,p)}else{var i=l.length,_;for(c=0;c<i;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),u){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,a);break;default:if(!p)for(_=1,p=Array(u-1);_<u;_++)p[_-1]=arguments[_];l[c].fn.apply(l[c].context,p);}}return!0},i.prototype.on=function(e,t,r){return n(this,e,t,r,!1)},i.prototype.once=function(e,t,r){return n(this,e,t,r,!0)},i.prototype.removeListener=function(e,t,r,a){var n=d?d+e:e;if(!this._events[n])return this;if(!t)return o(this,n),this;var s=this._events[n];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||o(this,n);else{for(var l=0,i=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||r&&s[l].context!==r)&&i.push(s[l]);i.length?this._events[n]=1===i.length?i[0]:i:o(this,n)}return this},i.prototype.removeAllListeners=function(e){var t;return e?(t=d?d+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=d,i.EventEmitter=i,"undefined"!=typeof t&&(t.exports=i)},{}],7:[function(e,t){var r=Math.pow,n=Math.round,o=Math.atan2,s=Math.sqrt,a=Math.PI,l=Math.abs,u=Math.min,_=Math.sin,f=Math.cos;(function(e){var d="undefined"!=typeof t&&t.exports&&"undefined"!=typeof e?e:this||window;(d._gsQueue||(d._gsQueue=[])).push(function(){"use strict";d._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=function(e){var t=[],r=e.length,a;for(a=0;a!==r;t.push(e[a++]));return t},o=function(e,t,r){var a=e.cycle,n,i;for(n in a)i=a[n],e[n]="function"==typeof i?i(r,t[r]):i[r%i.length];delete e.cycle},s=function(e,t,r){n.call(this,e,t,r),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=s.prototype.render},a=1e-10,d=n._internals,u=d.isSelector,c=d.isArray,i=s.prototype=n.to({},0.1,{}),l=[];s.version="1.20.3",i.constructor=s,i.kill()._gc=!1,s.killTweensOf=s.killDelayedCallsTo=n.killTweensOf,s.getTweensOf=n.getTweensOf,s.lagSmoothing=n.lagSmoothing,s.ticker=n.ticker,s.render=n.render,i.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),n.prototype.invalidate.call(this)},i.updateTo=function(e,t){var r=this.ratio,a=this.vars.immediateRender||e.immediateRender,i;for(i in t&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),e)this.vars[i]=e[i];if(this._initted||a)if(t)this._initted=!1,a&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this),0.998<this._time/this._duration){var o=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(o,!0,!1)}else if(this._initted=!1,this._init(),0<this._time||a)for(var s=this._firstPT,l;s;)l=s.s+s.c,s.c*=1/(1-r),s.s=l-s.c,s=s._next;return this},i.render=function(e,t,i){!this._initted&&0===this._duration&&this.vars.repeat&&this.invalidate();var o=this._dirty?this.totalDuration():this._totalDuration,s=this._time,l=this._totalTime,u=this._cycle,p=this._duration,c=this._rawPrevTime,_,h,f,g,m,r,y,x,T;if(e>=o-1e-7&&0<=e?(this._totalTime=o,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=p,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),!this._reversed&&(_=!0,h="onComplete",i=i||this._timeline.autoRemoveChildren),0===p&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(e=0),(0>c||0>=e&&-1e-7<=e||c===a&&"isPause"!==this.data)&&c!==e&&(i=!0,c>a&&(h="onReverseComplete")),this._rawPrevTime=x=!t||e||c===e?e:a)):1e-7>e?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==l||0===p&&0<c)&&(h="onReverseComplete",_=this._reversed),0>e&&(this._active=!1,0===p&&(this._initted||!this.vars.lazy||i)&&(0<=c&&(i=!0),this._rawPrevTime=x=!t||e||c===e?e:a)),!this._initted&&(i=!0)):(this._totalTime=this._time=e,0!==this._repeat&&(g=p+this._repeatDelay,this._cycle=this._totalTime/g>>0,0!==this._cycle&&this._cycle===this._totalTime/g&&l<=e&&this._cycle--,this._time=this._totalTime-this._cycle*g,this._yoyo&&0!=(1&this._cycle)&&(this._time=p-this._time,T=this._yoyoEase||this.vars.yoyoEase,T&&(!this._yoyoEase&&(!0!==T||this._initted?this._yoyoEase=T=!0===T?this._ease:T instanceof Ease?T:Ease.map[T]:(T=this.vars.ease,this._yoyoEase=T=T?T instanceof Ease?T:"function"==typeof T?new Ease(T,this.vars.easeParams):Ease.map[T]||n.defaultEase:n.defaultEase)),this.ratio=T?1-T.getRatio((p-this._time)/p):0)),this._time>p?this._time=p:0>this._time&&(this._time=0)),this._easeType&&!T?(m=this._time/p,r=this._easeType,y=this._easePower,(1===r||3===r&&0.5<=m)&&(m=1-m),3===r&&(m*=2),1===y?m*=m:2===y?m*=m*m:3===y?m*=m*m*m:4===y&&(m*=m*m*m*m),this.ratio=1===r?1-m:2===r?m:0.5>this._time/p?m/2:1-m/2):!T&&(this.ratio=this._ease.getRatio(this._time/p))),s===this._time&&!i&&u===this._cycle)return void(l!==this._totalTime&&this._onUpdate&&!t&&this._callback("onUpdate"));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=s,this._totalTime=l,this._rawPrevTime=c,this._cycle=u,d.lazyTweens.push(this),void(this._lazy=[e,t]);!this._time||_||T?_&&this._ease._calcEnd&&!T&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/p)}for(!1!==this._lazy&&(this._lazy=!1),this._active||this._paused||this._time===s||!(0<=e)||(this._active=!0),0===l&&(2===this._initted&&0<e&&this._init(),this._startAt&&(0<=e?this._startAt.render(e,!0,i):!h&&(h="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===p)&&!t&&this._callback("onStart")),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>e&&this._startAt&&this._startTime&&this._startAt.render(e,!0,i),!t&&(this._totalTime!==l||h)&&this._callback("onUpdate")),this._cycle===u||t||this._gc||!this.vars.onRepeat||this._callback("onRepeat"),h&&(!this._gc||i)&&(0>e&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,!0,i),_&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[h]&&this._callback(h),0===p&&this._rawPrevTime===a&&x!==a&&(this._rawPrevTime=0))},s.to=function(e,t,r){return new s(e,t,r)},s.from=function(e,t,r){return r.runBackwards=!0,r.immediateRender=!1!=r.immediateRender,new s(e,t,r)},s.fromTo=function(e,t,r,a){return a.startAt=r,a.immediateRender=!1!=a.immediateRender&&!1!=r.immediateRender,new s(e,t,a)},s.staggerTo=s.allTo=function(e,t,d,_,h,f,g){_=_||0;var m=0,y=[],a=function(){d.onComplete&&d.onComplete.apply(d.onCompleteScope||this,arguments),h.apply(g||d.callbackScope||this,f||l)},x=d.cycle,T=d.startAt&&d.startAt.cycle,b,v,E,i;for(c(e)||("string"==typeof e&&(e=n.selector(e)||e),u(e)&&(e=r(e))),e=e||[],0>_&&(e=r(e),e.reverse(),_*=-1),b=e.length-1,E=0;E<=b;E++){for(i in v={},d)v[i]=d[i];if(x&&(o(v,e,E),null!=v.duration&&(t=v.duration,delete v.duration)),T){for(i in T=v.startAt={},d.startAt)T[i]=d.startAt[i];o(v.startAt,e,E)}v.delay=m+(v.delay||0),E===b&&h&&(v.onComplete=a),y[E]=new s(e[E],t,v),m+=_}return y},s.staggerFrom=s.allFrom=function(e,t,r,a,n,i,o){return r.runBackwards=!0,r.immediateRender=!1!=r.immediateRender,s.staggerTo(e,t,r,a,n,i,o)},s.staggerFromTo=s.allFromTo=function(e,t,r,a,n,i,o,l){return a.startAt=r,a.immediateRender=!1!=a.immediateRender&&!1!=r.immediateRender,s.staggerTo(e,t,a,n,i,o,l)},s.delayedCall=function(e,t,r,a,n){return new s(t,0,{delay:e,onComplete:t,onCompleteParams:r,callbackScope:a,onReverseComplete:t,onReverseCompleteParams:r,immediateRender:!1,useFrames:n,overwrite:0})},s.set=function(e,t){return new s(e,0,t)},s.isTweening=function(e){return 0<n.getTweensOf(e,!0).length};var p=function(e,t){for(var r=[],a=0,i=e._first;i;)i instanceof n?r[a++]=i:(t&&(r[a++]=i),r=r.concat(p(i,t)),a=r.length),i=i._next;return r},_=s.getAllTweens=function(t){return p(e._rootTimeline,t).concat(p(e._rootFramesTimeline,t))};s.killAll=function(e,r,n,o){null==r&&(r=!0),null==n&&(n=!0);var s=_(!1!=o),a=s.length,l=r&&n&&o,d,u,p;for(p=0;p<a;p++)u=s[p],(l||u instanceof t||(d=u.target===u.vars.onComplete)&&n||r&&!d)&&(e?u.totalTime(u._reversed?0:u.totalDuration()):u._enabled(!1,!1))},s.killChildTweensOf=function(e,t){if(null!=e){var o=d.tweenLookup,_,a,h,p,i;if("string"==typeof e&&(e=n.selector(e)||e),u(e)&&(e=r(e)),c(e)){for(p=e.length;-1<--p;)s.killChildTweensOf(e[p],t);return}for(h in _=[],o)for(a=o[h].target.parentNode;a;)a===e&&(_=_.concat(o[h].tweens)),a=a.parentNode;for(i=_.length,p=0;p<i;p++)t&&_[p].totalTime(_[p].totalDuration()),_[p]._enabled(!1,!1)}};var h=function(e,r,n,o){r=!1!==r,n=!1!==n,o=!1!==o;for(var s=_(o),a=r&&n&&o,l=s.length,i,d;-1<--l;)d=s[l],(a||d instanceof t||(i=d.target===d.vars.onComplete)&&n||r&&!i)&&d.paused(e)};return s.pauseAll=function(e,t,r){h(!0,e,t,r)},s.resumeAll=function(e,t,r){h(!1,e,t,r)},s.globalTimeScale=function(r){var i=e._rootTimeline,o=n.ticker.time;return arguments.length?(r=r||a,i._startTime=o-(o-i._startTime)*i._timeScale/r,i=e._rootFramesTimeline,o=n.ticker.frame,i._startTime=o-(o-i._startTime)*i._timeScale/r,i._timeScale=e._rootTimeline._timeScale=r,r):i._timeScale},i.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()},i.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},i.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},i.duration=function(t){return arguments.length?e.prototype.duration.call(this,t):this._duration},i.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},i.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},i.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},i.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},s},!0),d._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,r){var a=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var r=this.vars,a,n;for(n in r)a=r[n],u(a)&&-1!==a.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(a));u(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},n=1e-10,i=r._internals,o=a._internals={},s=i.isSelector,u=i.isArray,l=i.lazyTweens,c=i.lazyRender,_=d._gsDefine.globals,h=function(e){var t={},r;for(r in e)t[r]=e[r];return t},f=function(e,t,r){var a=e.cycle,n,i;for(n in a)i=a[n],e[n]="function"==typeof i?i(r,t[r]):i[r%i.length];delete e.cycle},g=o.pauseCallback=function(){},m=function(e){var t=[],r=e.length,a;for(a=0;a!==r;t.push(e[a++]));return t},y=a.prototype=new t;return a.version="1.20.3",y.constructor=a,y.kill()._gc=y._forcingPlayhead=y._hasPause=!1,y.to=function(e,t,a,n){var i=a.repeat&&_.TweenMax||r;return t?this.add(new i(e,t,a),n):this.set(e,a,n)},y.from=function(e,t,a,n){return this.add((a.repeat&&_.TweenMax||r).from(e,t,a),n)},y.fromTo=function(e,t,a,n,i){var o=n.repeat&&_.TweenMax||r;return t?this.add(o.fromTo(e,t,a,n),i):this.set(e,n,i)},y.staggerTo=function(e,t,n,o,l,d,u,p){var c=new a({onComplete:d,onCompleteParams:u,callbackScope:p,smoothChildTiming:this.smoothChildTiming}),_=n.cycle,g,y;for("string"==typeof e&&(e=r.selector(e)||e),e=e||[],s(e)&&(e=m(e)),o=o||0,0>o&&(e=m(e),e.reverse(),o*=-1),y=0;y<e.length;y++)g=h(n),g.startAt&&(g.startAt=h(g.startAt),g.startAt.cycle&&f(g.startAt,e,y)),_&&(f(g,e,y),null!=g.duration&&(t=g.duration,delete g.duration)),c.to(e[y],t,g,y*o);return this.add(c,l)},y.staggerFrom=function(e,t,r,a,n,i,o,s){return r.immediateRender=!1!=r.immediateRender,r.runBackwards=!0,this.staggerTo(e,t,r,a,n,i,o,s)},y.staggerFromTo=function(e,t,r,a,n,i,o,s,l){return a.startAt=r,a.immediateRender=!1!=a.immediateRender&&!1!=r.immediateRender,this.staggerTo(e,t,a,n,i,o,s,l)},y.call=function(e,t,a,n){return this.add(r.delayedCall(0,e,t,a),n)},y.set=function(e,t,a){return a=this._parseTimeOrLabel(a,0,!0),null==t.immediateRender&&(t.immediateRender=a===this._time&&!this._paused),this.add(new r(e,0,t),a)},a.exportRoot=function(e,t){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var n=new a(e),i=n._timeline,o,s,l,d;for(null==t&&(t=!0),i._remove(n,!0),n._startTime=0,n._rawPrevTime=n._time=n._totalTime=i._time,l=i._first;l;)d=l._next,t&&l instanceof r&&l.target===l.vars.onComplete||(s=l._startTime-l._delay,0>s&&(o=1),n.add(l,s)),l=d;return i.add(n,0),o&&n.totalDuration(),n},y.add=function(n,o,s,d){var p,c,l,i,_,h;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,n)),!(n instanceof e)){if(n instanceof Array||n&&n.push&&u(n)){for(s=s||"normal",d=d||0,p=o,c=n.length,l=0;l<c;l++)u(i=n[l])&&(i=new a({tweens:i})),this.add(i,p),"string"!=typeof i&&"function"!=typeof i&&("sequence"===s?p=i._startTime+i.totalDuration()/i._timeScale:"start"===s&&(i._startTime-=i.delay())),p+=d;return this._uncache(!0)}if("string"==typeof n)return this.addLabel(n,o);if("function"==typeof n)n=r.delayedCall(0,n);else throw"Cannot add "+n+" into the timeline; it is not a tween, timeline, function, or string."}if(t.prototype.add.call(this,n,o),n._time&&n.render((this.rawTime()-n._startTime)*n._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(_=this,h=_.rawTime()>n._startTime;_._timeline;)h&&_._timeline.smoothChildTiming?_.totalTime(_._totalTime,!0):_._gc&&_._enabled(!0,!1),_=_._timeline;return this},y.remove=function(t){if(t instanceof e){this._remove(t,!1);var r=t._timeline=t.vars.useFrames?e._rootFramesTimeline:e._rootTimeline;return t._startTime=(t._paused?t._pauseTime:r._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&u(t)){for(var a=t.length;-1<--a;)this.remove(t[a]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},y._remove=function(e,r){t.prototype._remove.call(this,e,r);var a=this._last;return a?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},y.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},y.insert=y.insertMultiple=function(e,t,r,a){return this.add(e,t||0,r,a)},y.appendMultiple=function(e,t,r,a){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),r,a)},y.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},y.addPause=function(e,a,n,i){var o=r.delayedCall(0,g,n,i||this);return o.vars.onComplete=o.vars.onReverseComplete=a,o.data="isPause",this._hasPause=!0,this.add(o,e)},y.removeLabel=function(e){return delete this._labels[e],this},y.getLabelTime=function(e){return null==this._labels[e]?-1:this._labels[e]},y._parseTimeOrLabel=function(t,r,a,n){var o,s;if(n instanceof e&&n.timeline===this)this.remove(n);else if(n&&(n instanceof Array||n.push&&u(n)))for(s=n.length;-1<--s;)n[s]instanceof e&&n[s].timeline===this&&this.remove(n[s]);if(o="number"!=typeof t||r?99999999999<this.duration()?this.recent().endTime(!1):this._duration:0,"string"==typeof r)return this._parseTimeOrLabel(r,a&&"number"==typeof t&&null==this._labels[r]?t-o:0,a);if(r=r||0,"string"==typeof t&&(isNaN(t)||null!=this._labels[t])){if(s=t.indexOf("="),-1===s)return null==this._labels[t]?a?this._labels[t]=o+r:r:this._labels[t]+r;r=parseInt(t.charAt(s-1)+"1",10)*+t.substr(s+1),t=1<s?this._parseTimeOrLabel(t.substr(0,s-1),0,a):o}else null==t&&(t=o);return+t+r},y.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),!1!==t)},y.stop=function(){return this.paused(!0)},y.gotoAndPlay=function(e,t){return this.play(e,t)},y.gotoAndStop=function(e,t){return this.pause(e,t)},y.render=function(e,t,r){this._gc&&this._enabled(!0,!1);var a=this._time,i=this._dirty?this.totalDuration():this._totalDuration,o=this._startTime,s=this._timeScale,d=this._paused,u,p,_,h,f,g,m;if(a!==this._time&&(e+=this._time-a),e>=i-1e-7&&0<=e)this._totalTime=this._time=i,this._reversed||this._hasPausedChild()||(p=!0,h="onComplete",f=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=e&&-1e-7<=e||0>this._rawPrevTime||this._rawPrevTime===n)&&this._rawPrevTime!==e&&this._first&&(f=!0,this._rawPrevTime>n&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:n,e=i+1e-4;else if(!(1e-7>e)){if(this._hasPause&&!this._forcingPlayhead&&!t){if(e>=a)for(u=this._first;u&&u._startTime<=e&&!g;)u._duration||"isPause"!==u.data||u.ratio||0===u._startTime&&0===this._rawPrevTime||(g=u),u=u._next;else for(u=this._last;u&&u._startTime>=e&&!g;)!u._duration&&"isPause"===u.data&&0<u._rawPrevTime&&(g=u),u=u._prev;g&&(this._time=e=g._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=e}else if(this._totalTime=this._time=0,(0!==a||0===this._duration&&this._rawPrevTime!==n&&(0<this._rawPrevTime||0>e&&0<=this._rawPrevTime))&&(h="onReverseComplete",p=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(f=p=!0,h="onReverseComplete"):0<=this._rawPrevTime&&this._first&&(f=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:n,0===e&&p)for(u=this._first;u&&0===u._startTime;)u._duration||(p=!1),u=u._next;e=0,this._initted||(f=!0)}if(this._time!==a&&this._first||r||f||g){if(this._initted||(this._initted=!0),this._active||this._paused||this._time===a||!(0<e)||(this._active=!0),0!==a||!this.vars.onStart||0===this._time&&this._duration||t||this._callback("onStart"),m=this._time,m>=a)for(u=this._first;u&&(_=u._next,m===this._time&&(!this._paused||d));)(u._active||u._startTime<=m&&!u._paused&&!u._gc)&&(g===u&&this.pause(),u._reversed?u.render((u._dirty?u.totalDuration():u._totalDuration)-(e-u._startTime)*u._timeScale,t,r):u.render((e-u._startTime)*u._timeScale,t,r)),u=_;else for(u=this._last;u&&(_=u._prev,m===this._time&&(!this._paused||d));){if(u._active||u._startTime<=a&&!u._paused&&!u._gc){if(g===u){for(g=u._prev;g&&g.endTime()>this._time;)g.render(g._reversed?g.totalDuration()-(e-g._startTime)*g._timeScale:(e-g._startTime)*g._timeScale,t,r),g=g._prev;g=null,this.pause()}u._reversed?u.render((u._dirty?u.totalDuration():u._totalDuration)-(e-u._startTime)*u._timeScale,t,r):u.render((e-u._startTime)*u._timeScale,t,r)}u=_}this._onUpdate&&!t&&(l.length&&c(),this._callback("onUpdate")),h&&!this._gc&&(o===this._startTime||s!==this._timeScale)&&(0===this._time||i>=this.totalDuration())&&(p&&(l.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[h]&&this._callback(h))}},y._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof a&&e._hasPausedChild())return!0;e=e._next}return!1},y.getChildren=function(e,t,n,i){i=i||-9999999999;for(var o=[],a=this._first,s=0;a;)a._startTime<i||(a instanceof r?!1!==t&&(o[s++]=a):(!1!==n&&(o[s++]=a),!1!==e&&(o=o.concat(a.getChildren(!0,t,n)),s=o.length))),a=a._next;return o},y.getTweensOf=function(e,t){var n=this._gc,o=[],a=0,s,l;for(n&&this._enabled(!0,!0),s=r.getTweensOf(e),l=s.length;-1<--l;)(s[l].timeline===this||t&&this._contains(s[l]))&&(o[a++]=s[l]);return n&&this._enabled(!1,!0),o},y.recent=function(){return this._recent},y._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},y.shiftChildren=function(e,t,r){r=r||0;for(var a=this._first,n=this._labels,i;a;)a._startTime>=r&&(a._startTime+=e),a=a._next;if(t)for(i in n)n[i]>=r&&(n[i]+=e);return this._uncache(!0)},y._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var r=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),a=r.length,n=!1;-1<--a;)r[a]._kill(e,t)&&(n=!0);return n},y.clear=function(e){var t=this.getChildren(!1,!0,!0),r=t.length;for(this._time=this._totalTime=0;-1<--r;)t[r]._enabled(!1,!1);return!1!==e&&(this._labels={}),this._uncache(!0)},y.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},y._enabled=function(e,r){if(e===this._gc)for(var a=this._first;a;)a._enabled(e,!0),a=a._next;return t.prototype._enabled.call(this,e,r)},y.totalTime=function(){this._forcingPlayhead=!0;var t=e.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,t},y.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},y.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t=0,r=this._last,a=999999999999,n,i;r;)n=r._prev,r._dirty&&r.totalDuration(),r._startTime>a&&this._sortChildren&&!r._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(r,r._startTime-r._delay),this._calculatingDuration=0):a=r._startTime,0>r._startTime&&!r._paused&&(t-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale,this._time-=r._startTime,this._totalTime-=r._startTime,this._rawPrevTime-=r._startTime),this.shiftChildren(-r._startTime,!1,-9999999999),a=0),i=r._startTime+r._totalDuration/r._timeScale,i>t&&(t=i),r=n;this._duration=this._totalDuration=t,this._dirty=!1}return this._totalDuration}return e&&this.totalDuration()?this.timeScale(this._totalDuration/e):this},y.paused=function(t){if(!t)for(var r=this._first,a=this._time;r;)r._startTime===a&&"isPause"===r.data&&(r._rawPrevTime=0),r=r._next;return e.prototype.paused.apply(this,arguments)},y.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},y.rawTime=function(e){return e&&(this._paused||this._repeat&&0<this.time()&&1>this.totalProgress())?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(e)-this._startTime)*this._timeScale},a},!0),d._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,r,t){var a=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},n=1e-10,i=r._internals,o=i.lazyTweens,s=i.lazyRender,u=d._gsDefine.globals,c=new t(null,null,1,0),_=a.prototype=new e;return _.constructor=a,_.kill()._gc=!1,a.version="1.20.3",_.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},_.addCallback=function(e,t,a,n){return this.add(r.delayedCall(0,e,a,n),t)},_.removeCallback=function(e,t){if(e)if(null==t)this._kill(null,e);else for(var r=this.getTweensOf(e,!1),a=r.length,n=this._parseTimeOrLabel(t);-1<--a;)r[a]._startTime===n&&r[a]._enabled(!1,!1);return this},_.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},_.tweenTo=function(e,a){a=a||{};var n={ease:c,useFrames:this.usesFrames(),immediateRender:!1},i=a.repeat&&u.TweenMax||r,o,s,d;for(s in a)n[s]=a[s];return n.time=this._parseTimeOrLabel(e),o=l(+n.time-this._time)/this._timeScale||1e-3,d=new i(this,o,n),n.onStart=function(){d.target.paused(!0),d.vars.time!==d.target.time()&&o===d.duration()&&d.duration(l(d.vars.time-d.target.time())/d.target._timeScale),a.onStart&&a.onStart.apply(a.onStartScope||a.callbackScope||d,a.onStartParams||[])},d},_.tweenFromTo=function(e,r,a){a=a||{},e=this._parseTimeOrLabel(e),a.startAt={onComplete:this.seek,onCompleteParams:[e],callbackScope:this},a.immediateRender=!1!==a.immediateRender;var n=this.tweenTo(r,a);return n.duration(l(n.vars.time-e)/this._timeScale||1e-3)},_.render=function(e,t,r){this._gc&&this._enabled(!0,!1);var a=this._time,i=this._dirty?this.totalDuration():this._totalDuration,l=this._duration,d=this._totalTime,u=this._startTime,p=this._timeScale,c=this._rawPrevTime,_=this._paused,h=this._cycle,f,g,m,y,x,T,b,v;if(a!==this._time&&(e+=this._time-a),e>=i-1e-7&&0<=e)this._locked||(this._totalTime=i,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(g=!0,y="onComplete",x=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=e&&-1e-7<=e||0>c||c===n)&&c!==e&&this._first&&(x=!0,c>n&&(y="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:n,this._yoyo&&0!=(1&this._cycle)?this._time=e=0:(this._time=l,e=l+1e-4);else if(1e-7>e){if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==a||0===l&&c!==n&&(0<c||0>e&&0<=c)&&!this._locked)&&(y="onReverseComplete",g=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(x=g=!0,y="onReverseComplete"):0<=c&&this._first&&(x=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=l||!t||e||this._rawPrevTime===e?e:n,0===e&&g)for(f=this._first;f&&0===f._startTime;)f._duration||(g=!1),f=f._next;e=0,this._initted||(x=!0)}}else if(0===l&&0>c&&(x=!0),this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,0!==this._repeat&&(T=l+this._repeatDelay,this._cycle=this._totalTime/T>>0,0!==this._cycle&&this._cycle===this._totalTime/T&&d<=e&&this._cycle--,this._time=this._totalTime-this._cycle*T,this._yoyo&&0!=(1&this._cycle)&&(this._time=l-this._time),this._time>l?(this._time=l,e=l+1e-4):0>this._time?this._time=e=0:e=this._time)),this._hasPause&&!this._forcingPlayhead&&!t){if(e=this._time,e>=a||this._repeat&&h!==this._cycle)for(f=this._first;f&&f._startTime<=e&&!b;)f._duration||"isPause"!==f.data||f.ratio||0===f._startTime&&0===this._rawPrevTime||(b=f),f=f._next;else for(f=this._last;f&&f._startTime>=e&&!b;)!f._duration&&"isPause"===f.data&&0<f._rawPrevTime&&(b=f),f=f._prev;b&&b._startTime<l&&(this._time=e=b._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==h&&!this._locked){var E=this._yoyo&&0!=(1&h),P=E===(this._yoyo&&0!=(1&this._cycle)),S=this._totalTime,C=this._cycle,O=this._rawPrevTime,R=this._time;if(this._totalTime=h*l,this._cycle<h?E=!E:this._totalTime+=l,this._time=a,this._rawPrevTime=0===l?c-1e-4:c,this._cycle=h,this._locked=!0,a=E?0:l,this.render(a,t,0===l),t||this._gc||!this.vars.onRepeat||(this._cycle=C,this._locked=!1,this._callback("onRepeat")),a!==this._time)return;if(P&&(this._cycle=h,this._locked=!0,a=E?l+1e-4:-1e-4,this.render(a,!0,!1)),this._locked=!1,this._paused&&!_)return;this._time=R,this._totalTime=S,this._cycle=C,this._rawPrevTime=O}if((this._time===a||!this._first)&&!r&&!x&&!b)return void(d!==this._totalTime&&this._onUpdate&&!t&&this._callback("onUpdate"));if(this._initted||(this._initted=!0),this._active||this._paused||this._totalTime===d||!(0<e)||(this._active=!0),0!==d||!this.vars.onStart||0===this._totalTime&&this._totalDuration||t||this._callback("onStart"),v=this._time,v>=a)for(f=this._first;f&&(m=f._next,v===this._time&&(!this._paused||_));)(f._active||f._startTime<=this._time&&!f._paused&&!f._gc)&&(b===f&&this.pause(),f._reversed?f.render((f._dirty?f.totalDuration():f._totalDuration)-(e-f._startTime)*f._timeScale,t,r):f.render((e-f._startTime)*f._timeScale,t,r)),f=m;else for(f=this._last;f&&(m=f._prev,v===this._time&&(!this._paused||_));){if(f._active||f._startTime<=a&&!f._paused&&!f._gc){if(b===f){for(b=f._prev;b&&b.endTime()>this._time;)b.render(b._reversed?b.totalDuration()-(e-b._startTime)*b._timeScale:(e-b._startTime)*b._timeScale,t,r),b=b._prev;b=null,this.pause()}f._reversed?f.render((f._dirty?f.totalDuration():f._totalDuration)-(e-f._startTime)*f._timeScale,t,r):f.render((e-f._startTime)*f._timeScale,t,r)}f=m}this._onUpdate&&!t&&(o.length&&s(),this._callback("onUpdate")),y&&!this._locked&&!this._gc&&(u===this._startTime||p!==this._timeScale)&&(0===this._time||i>=this.totalDuration())&&(g&&(o.length&&s(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[y]&&this._callback(y))},_.getActive=function(e,t,r){null==e&&(e=!0),null==t&&(t=!0),null==r&&(r=!1);var n=[],a=this.getChildren(e,t,r),o=0,s=a.length,l,i;for(l=0;l<s;l++)i=a[l],i.isActive()&&(n[o++]=i);return n},_.getLabelAfter=function(e){e||0===e||(e=this._time);var t=this.getLabelsArray(),r=t.length,a;for(a=0;a<r;a++)if(t[a].time>e)return t[a].name;return null},_.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),r=t.length;-1<--r;)if(t[r].time<e)return t[r].name;return null},_.getLabelsArray=function(){var e=[],t=0,r;for(r in this._labels)e[t++]={time:this._labels[r],name:r};return e.sort(function(e,t){return e.time-t.time}),e},_.invalidate=function(){return this._locked=!1,e.prototype.invalidate.call(this)},_.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()||0},_.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()||0},_.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},_.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},_.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},_.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},_.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},_.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},a},!0),function(){var e=[],t=[],n=[],u={},r=d._gsDefine.globals,_=function(e,t,r,a){r===a&&(r=a-(a-t)/1e6),e===t&&(t=e+(r-e)/1e6),this.a=e,this.b=t,this.c=r,this.d=a,this.da=a-e,this.ca=r-e,this.ba=t-e},c=function(e,t,r,n){var i={a:e},o={},s={},l={c:n},u=(e+t)/2,p=(t+r)/2,c=(r+n)/2,_=(u+p)/2,h=(p+c)/2,f=(h-_)/8;return i.b=u+(e-u)/4,o.b=_+f,i.c=o.a=(i.b+o.b)/2,o.c=s.a=(_+h)/2,s.b=h-f,l.b=c+(n-c)/4,s.c=l.a=(s.b+l.b)/2,[i,o,s,l]},h=function(r,a,o,s,d){var u=r.length-1,l=0,p=r[0].a,_,i,h,f,g,m,y,x,T,b,v,E,P;for(_=0;_<u;_++)g=r[l],i=g.a,h=g.d,f=r[l+1].d,d?(v=e[_],E=t[_],P=0.25*((E+v)*a)/(s?0.5:n[_]||0.5),m=h-(h-i)*(s?0.5*a:0===v?0:P/v),y=h+(f-h)*(s?0.5*a:0===E?0:P/E),x=h-(m+((y-m)*(3*v/(v+E)+0.5)/4||0))):(m=h-0.5*((h-i)*a),y=h+0.5*((f-h)*a),x=h-(m+y)/2),m+=x,y+=x,g.c=T=m,g.b=0===_?p=g.a+0.6*(g.c-g.a):p,g.da=h-i,g.ca=T-i,g.ba=p-i,o?(b=c(i,p,T,h),r.splice(l,1,b[0],b[1],b[2],b[3]),l+=4):l++,p=y;g=r[l],g.b=p,g.c=p+0.4*(g.d-p),g.da=g.d-g.a,g.ca=g.c-g.a,g.ba=p-g.a,o&&(b=c(g.a,p,g.c,g.d),r.splice(l,1,b[0],b[1],b[2],b[3]))},f=function(r,n,o,s){var d=[],a,l,i,u,p,c;if(s)for(r=[s].concat(r),l=r.length;-1<--l;)"string"==typeof(c=r[l][n])&&"="===c.charAt(1)&&(r[l][n]=s[n]+ +(c.charAt(0)+c.substr(2)));if(a=r.length-2,0>a)return d[0]=new _(r[0][n],0,0,r[0][n]),d;for(l=0;l<a;l++)i=r[l][n],u=r[l+1][n],d[l]=new _(i,0,0,u),o&&(p=r[l+2][n],e[l]=(e[l]||0)+(u-i)*(u-i),t[l]=(t[l]||0)+(p-u)*(p-u));return d[l]=new _(r[l][n],0,0,r[l+1][n]),d},g=function(o,d,c,_,g,m){var y={},x=[],T=m||o[0],b,i,p,a,v,r,E,P;for(i in g="string"==typeof g?","+g+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==d&&(d=1),o[0])x.push(i);if(1<o.length){for(P=o[o.length-1],E=!0,b=x.length;-1<--b;)if(i=x[b],0.05<l(T[i]-P[i])){E=!1;break}E&&(o=o.concat(),m&&o.unshift(m),o.push(o[1]),m=o[o.length-3])}for(e.length=t.length=n.length=0,b=x.length;-1<--b;)i=x[b],u[i]=-1!==g.indexOf(","+i+","),y[i]=f(o,i,u[i],m);for(b=e.length;-1<--b;)e[b]=s(e[b]),t[b]=s(t[b]);if(!_){for(b=x.length;-1<--b;)if(u[i])for(p=y[x[b]],r=p.length-1,a=0;a<r;a++)v=p[a+1].da/t[a]+p[a].da/e[a]||0,n[a]=(n[a]||0)+v*v;for(b=n.length;-1<--b;)n[b]=s(n[b])}for(b=x.length,a=c?4:1;-1<--b;)i=x[b],p=y[i],h(p,d,c,_,u[i]),E&&(p.splice(0,a),p.splice(p.length-a,a));return y},m=function(e,t,r){t=t||"soft";var n={},o="cubic"===t?3:2,s="soft"===t,u=[],h,a,f,c,d,g,i,m,l,p,y;if(s&&r&&(e=[r].concat(e)),null==e||e.length<o+1)throw"invalid Bezier data";for(l in e[0])u.push(l);for(g=u.length;-1<--g;){for(l=u[g],n[l]=d=[],p=0,m=e.length,i=0;i<m;i++)h=null==r?e[i][l]:"string"==typeof(y=e[i][l])&&"="===y.charAt(1)?r[l]+ +(y.charAt(0)+y.substr(2)):+y,s&&1<i&&i<m-1&&(d[p++]=(h+d[p-2])/2),d[p++]=h;for(m=p-o+1,p=0,i=0;i<m;i+=o)h=d[i],a=d[i+1],f=d[i+2],c=2==o?0:d[i+3],d[p++]=y=3==o?new _(h,a,f,c):new _(h,(2*a+h)/3,(2*a+f)/3,f);d.length=p}return n},i=function(e,t,r){for(var a=e.length,n,o,l,s,d,u,c,p,i,_,h;-1<--a;)for(_=e[a],l=_.a,s=_.d-l,d=_.c-l,u=_.b-l,n=o=0,p=1;p<=r;p++)c=1/r*p,i=1-c,n=o-(o=(c*c*s+3*i*(c*d+i*u))*c),h=a*r+p-1,t[h]=(t[h]||0)+n*n},y=function(e,t){t=t>>0||6;var r=[],a=[],n=0,o=0,d=t-1,u=[],c=[],_,p,h,l;for(_ in e)i(e[_],r,t);for(h=r.length,p=0;p<h;p++)n+=s(r[p]),l=p%t,c[l]=n,l===d&&(o+=n,l=p/t>>0,u[l]=c,a[l]=o,n=0,c=[]);return{length:o,lengths:a,segments:u}},x=d._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(e,t,r){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._mod={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var a=t.values||[],n={},o=a[0],s=t.autoRotate||r.vars.orientToBezier,l,d,u,i,p;for(l in this._autoRotate=s?s instanceof Array?s:[["x","y","rotation",!0===s?0:+s||0]]:null,o)this._props.push(l);for(u=this._props.length;-1<--u;)l=this._props[u],this._overwriteProps.push(l),d=this._func[l]="function"==typeof e[l],n[l]=d?e[l.indexOf("set")||"function"!=typeof e["get"+l.substr(3)]?l:"get"+l.substr(3)]():parseFloat(e[l]),p||n[l]===a[0][l]||(p=n);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?g(a,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,p):m(a,t.type,n),this._segCount=this._beziers[l].length,this._timeRes){var c=y(this._beziers,this._timeRes);this._length=c.length,this._lengths=c.lengths,this._segments=c.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(s=this._autoRotate)for(this._initialRotations=[],s[0]instanceof Array||(this._autoRotate=s=[s]),u=s.length;-1<--u;){for(i=0;3>i;i++)l=s[u][i],this._func[l]="function"==typeof e[l]&&e[l.indexOf("set")||"function"!=typeof e["get"+l.substr(3)]?l:"get"+l.substr(3)];l=s[u][2],this._initialRotations[u]=(this._func[l]?this._func[l].call(this._target):this._target[l])||0,this._overwriteProps.push(l)}return this._startRatio=r.vars.runBackwards?1:0,!0},set:function(e){var r=this._segCount,n=this._func,s=this._target,d=e!==this._startRatio,u,c,_,i,p,h,t,f,l,g;if(!this._timeRes)u=0>e?0:1<=e?r-1:r*e>>0,h=(e-u*(1/r))*r;else{if(l=this._lengths,g=this._curSeg,e*=this._length,_=this._li,e>this._l2&&_<r-1){for(f=r-1;_<f&&(this._l2=l[++_])<=e;);this._l1=l[_-1],this._li=_,this._curSeg=g=this._segments[_],this._s2=g[this._s1=this._si=0]}else if(e<this._l1&&0<_){for(;0<_&&(this._l1=l[--_])>=e;);0===_&&e<this._l1?this._l1=0:_++,this._l2=l[_],this._li=_,this._curSeg=g=this._segments[_],this._s1=g[(this._si=g.length-1)-1]||0,this._s2=g[this._si]}if(u=_,e-=this._l1,_=this._si,e>this._s2&&_<g.length-1){for(f=g.length-1;_<f&&(this._s2=g[++_])<=e;);this._s1=g[_-1],this._si=_}else if(e<this._s1&&0<_){for(;0<_&&(this._s1=g[--_])>=e;);0===_&&e<this._s1?this._s1=0:_++,this._s2=g[_],this._si=_}h=(_+(e-this._s1)/(this._s2-this._s1))*this._prec||0}for(c=1-h,_=this._props.length;-1<--_;)i=this._props[_],p=this._beziers[i][u],t=(h*h*p.da+3*c*(h*p.ca+c*p.ba))*h+p.a,this._mod[i]&&(t=this._mod[i](t,s)),n[i]?s[i](t):s[i]=t;if(this._autoRotate){var m=this._autoRotate,y,x,T,b,v,E,P;for(_=m.length;-1<--_;)i=m[_][2],E=m[_][3]||0,P=!0===m[_][4]?1:180/a,p=this._beziers[m[_][0]],y=this._beziers[m[_][1]],p&&y&&(p=p[u],y=y[u],x=p.a+(p.b-p.a)*h,b=p.b+(p.c-p.b)*h,x+=(b-x)*h,b+=(p.c+(p.d-p.c)*h-b)*h,T=y.a+(y.b-y.a)*h,v=y.b+(y.c-y.b)*h,T+=(v-T)*h,v+=(y.c+(y.d-y.c)*h-v)*h,t=d?o(v-T,b-x)*P+E:this._initialRotations[_],this._mod[i]&&(t=this._mod[i](t,s)),n[i]?s[i](t):s[i]=t)}}}),T=x.prototype;x.bezierThrough=g,x.cubicToQuadratic=c,x._autoCSS=!0,x.quadraticToCubic=function(e,t,r){return new _(e,(2*t+e)/3,(2*t+r)/3,r)},x._cssRegister=function(){var e=r.CSSPlugin;if(e){var t=e._internals,a=t._parseToProxy,n=t._setPluginRatio,o=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(r,t,s,d,u,c){t instanceof Array&&(t={values:t}),c=new x;var _=t.values,h=_.length-1,l=[],f={},g,i,p;if(0>h)return u;for(g=0;g<=h;g++)p=a(r,_[g],d,u,c,h!==g),l[g]=p.end;for(i in t)f[i]=t[i];return f.values=l,u=new o(r,"bezier",0,0,p.pt,2),u.data=p,u.plugin=c,u.setRatio=n,0===f.autoRotate&&(f.autoRotate=!0),f.autoRotate&&!(f.autoRotate instanceof Array)&&(g=!0===f.autoRotate?0:+f.autoRotate,f.autoRotate=null==p.end.left?null!=p.end.x&&[["x","y","rotation",g,!1]]:[["left","top","rotation",g,!1]]),f.autoRotate&&(!d._transform&&d._enableTransforms(!1),p.autoRotate=d._target._gsTransform,p.proxy.rotation=p.autoRotate.rotation||0,d._overwriteProps.push("rotation")),c._onInitTween(p.proxy,f,d._tween),u}})}},T._mod=function(e){for(var t=this._overwriteProps,r=t.length,a;-1<--r;)a=e[t[r]],a&&"function"==typeof a&&(this._mod[t[r]]=a)},T._kill=function(e){var t=this._props,r,a;for(r in this._beziers)if(r in e)for(delete this._beziers[r],delete this._func[r],a=t.length;-1<--a;)t[a]===r&&t.splice(a,1);if(t=this._autoRotate,t)for(a=t.length;-1<--a;)e[t[a][2]]&&t.splice(a,1);return this._super._kill.call(this,e)}}(),d._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,r){var h=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=h.prototype.setRatio},c=d._gsDefine.globals,g={},t=h.prototype=new e("css"),m,y,T,x;t.constructor=h,h.version="1.20.3",h.API=2,h.defaultTransformPerspective=0,h.defaultSkewType="compensated",h.defaultSmoothOrigin=!0,t="px",h.suffixMap={top:t,right:t,bottom:t,left:t,width:t,height:t,fontSize:t,padding:t,margin:t,perspective:t,lineHeight:""};var E=/(?:\-|\.|\b)(\d|\.|e\-)+/g,P=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,b=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,S=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,C=/(?:\d|\-|\+|=|#|\.)*/g,O=/opacity *= *([^)]*)/i,R=/opacity:([^;]*)/i,w=/alpha\(opacity *=.+?\)/i,v=/^(rgb|hsl)/,A=/([A-Z])/g,M=/-([a-z])/gi,D=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,I=function(e,t){return t.toUpperCase()},k=/(?:Left|Right|Width)/i,L=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,N=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,B=/,(?=[^\)]*(?:\(|$))/gi,F=/[\s,\(]/i,U=a/180,X=180/a,G={},j={style:{}},Y=d.document||{createElement:function(){return j}},W=function(e,t){return Y.createElementNS?Y.createElementNS(t||"http://www.w3.org/1999/xhtml",e):Y.createElement(e)},z=W("div"),H=W("img"),V=h._internals={_specialProps:g},q=(d.navigator||{}).userAgent||"",Z=function(){var e=q.indexOf("Android"),t=W("a");return(be=-1!==q.indexOf("Safari")&&-1===q.indexOf("Chrome")&&(-1===e||3<parseFloat(q.substr(e+8,2))),Ee=be&&6>parseFloat(q.substr(q.indexOf("Version/")+8,2)),ve=-1!==q.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(q)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(q))&&(Pe=parseFloat(RegExp.$1)),!!t)&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),K=function(e){return O.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Q=function(e){d.console&&console.log(e)},J="",$="",ee=function(t,r){r=r||z;var e=r.style,n,a;if(void 0!==e[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),n=["O","Moz","ms","Ms","Webkit"],a=5;-1<--a&&void 0===e[n[a]+t];);return 0<=a?($=3===a?"ms":n[a],J="-"+$.toLowerCase()+"-",$+t):null},te=Y.defaultView?Y.defaultView.getComputedStyle:function(){},re=h.getStyle=function(e,t,r,a,n){var i;return Z||"opacity"!==t?(!a&&e.style[t]?i=e.style[t]:(r=r||te(e))?i=r[t]||r.getPropertyValue(t)||r.getPropertyValue(t.replace(A,"-$1").toLowerCase()):e.currentStyle&&(i=e.currentStyle[t]),null==n||i&&"none"!==i&&"auto"!==i&&"auto auto"!==i?i:n):K(e)},ae=V.convertToPixels=function(e,t,a,n,i){if("px"===n||!n&&"lineHeight"!==t)return a;if("auto"===n||!a)return 0;var o=k.test(t),s=e,l=z.style,d=0>a,u=1===a,p,c,_;if(d&&(a=-a),u&&(a*=100),"lineHeight"===t&&!n)c=te(e).lineHeight,e.style.lineHeight=a,p=parseFloat(te(e).lineHeight),e.style.lineHeight=c;else if("%"===n&&-1!==t.indexOf("border"))p=a/100*(o?e.clientWidth:e.clientHeight);else{if(l.cssText="border:0 solid red;position:"+re(e,"position")+";line-height:0;","%"===n||!s.appendChild||"v"===n.charAt(0)||"rem"===n){if(s=e.parentNode||Y.body,-1!==re(s,"display").indexOf("flex")&&(l.position="absolute"),c=s._gsCache,_=r.ticker.frame,c&&o&&c.time===_)return c.width*a/100;l[o?"width":"height"]=a+n}else l[o?"borderLeftWidth":"borderTopWidth"]=a+n;s.appendChild(z),p=parseFloat(z[o?"offsetWidth":"offsetHeight"]),s.removeChild(z),o&&"%"===n&&!1!==h.cacheWidths&&(c=s._gsCache=s._gsCache||{},c.time=_,c.width=100*(p/a)),0!==p||i||(p=ae(e,t,a,n,!0))}return u&&(p/=100),d?-p:p},ne=V.calculateOffset=function(e,t,r){if("absolute"!==re(e,"position",r))return 0;var a="left"===t?"Left":"Top",n=re(e,"margin"+a,r);return e["offset"+a]-(ae(e,t,parseFloat(n),n.replace(C,""))||0)},ie=function(e,t){var r={},a,n,i;if(t=t||te(e,null)){if(a=t.length)for(;-1<--a;)i=t[a],(-1===i.indexOf("-transform")||Xe===i)&&(r[i.replace(M,I)]=t.getPropertyValue(i));else for(a in t)(-1===a.indexOf("Transform")||Ue===a)&&(r[a]=t[a]);}else if(t=e.currentStyle||e.style)for(a in t)"string"==typeof a&&void 0===r[a]&&(r[a.replace(M,I)]=t[a]);return Z||(r.opacity=K(e)),n=et(e,t,!1),r.rotation=n.rotation,r.skewX=n.skewX,r.scaleX=n.scaleX,r.scaleY=n.scaleY,r.x=n.x,r.y=n.y,je&&(r.z=n.z,r.rotationX=n.rotationX,r.rotationY=n.rotationY,r.scaleZ=n.scaleZ),r.filters&&delete r.filters,r},oe=function(e,t,r,a,n){var i={},o=e.style,s,l,d;for(l in r)"cssText"!==l&&"length"!==l&&isNaN(l)&&(t[l]!==(s=r[l])||n&&n[l])&&-1===l.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(i[l]="auto"===s&&("left"===l||"top"===l)?ne(e,l):(""===s||"auto"===s||"none"===s)&&"string"==typeof t[l]&&""!==t[l].replace(S,"")?0:s,void 0!==o[l]&&(d=new Ae(o,l,o[l],d)));if(a)for(l in a)"className"!==l&&(i[l]=a[l]);return{difs:i,firstMPT:d}},se={width:["Left","Right"],height:["Top","Bottom"]},le=["marginLeft","marginRight","marginTop","marginBottom"],de=function(e,t,r){if("svg"===(e.nodeName+"").toLowerCase())return(r||te(e))[t]||0;if(e.getCTM&&Qe(e))return e.getBBox()[t]||0;var n=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),o=se[t],a=o.length;for(r=r||te(e,null);-1<--a;)n-=parseFloat(re(e,"padding"+o[a],r,!0))||0,n-=parseFloat(re(e,"border"+o[a]+"Width",r,!0))||0;return n},ue=function(e,t){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";(null==e||""===e)&&(e="0 0");var r=e.split(" "),a=-1===e.indexOf("left")?-1===e.indexOf("right")?r[0]:"100%":"0%",n=-1===e.indexOf("top")?-1===e.indexOf("bottom")?r[1]:"100%":"0%",o;if(3<r.length&&!t){for(r=e.split(", ").join(",").split(","),e=[],o=0;o<r.length;o++)e.push(ue(r[o]));return e.join(",")}return null==n?n="center"===a?"50%":"0":"center"===n&&(n="50%"),("center"===a||isNaN(parseFloat(a))&&-1===(a+"").indexOf("="))&&(a="50%"),e=a+" "+n+(2<r.length?" "+r[2]:""),t&&(t.oxp=-1!==a.indexOf("%"),t.oyp=-1!==n.indexOf("%"),t.oxr="="===a.charAt(1),t.oyr="="===n.charAt(1),t.ox=parseFloat(a.replace(S,"")),t.oy=parseFloat(n.replace(S,"")),t.v=e),t||e},pe=function(t,r){return"function"==typeof t&&(t=t(Ce,Se)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(r)||0},ce=function(e,t){return"function"==typeof e&&(e=e(Ce,Se)),null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},_e=function(e,t,r,a){var n=1e-6,i,o,s,l,d;return"function"==typeof e&&(e=e(Ce,Se)),null==e?l=t:"number"==typeof e?l=e:(i=360,o=e.split("_"),d="="===e.charAt(1),s=(d?parseInt(e.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===e.indexOf("rad")?1:X)-(d?0:t),o.length&&(a&&(a[r]=t+s),-1!==e.indexOf("short")&&(s%=i,s!==s%(i/2)&&(s=0>s?s+i:s-i)),-1!==e.indexOf("_cw")&&0>s?s=(s+9999999999*i)%i-(0|s/i)*i:-1!==e.indexOf("ccw")&&0<s&&(s=(s-9999999999*i)%i-(0|s/i)*i)),l=t+s),l<n&&l>-n&&(l=0),l},he={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},fe=function(e,t,r){return e=0>e?e+1:1<e?e-1:e,0|255*(1>6*e?t+6*((r-t)*e):0.5>e?r:2>3*e?t+6*((r-t)*(2/3-e)):t)+0.5},ge=h.parseColor=function(e,t){var n,a,r,i,o,p,s,l,c,_,d;if(!e)n=he.black;else if("number"==typeof e)n=[e>>16,255&e>>8,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),he[e])n=he[e];else if("#"===e.charAt(0))4===e.length&&(a=e.charAt(1),r=e.charAt(2),i=e.charAt(3),e="#"+a+a+r+r+i+i),e=parseInt(e.substr(1),16),n=[e>>16,255&e>>8,255&e];else if("hsl"!==e.substr(0,3))n=e.match(E)||he.transparent;else if(n=d=e.match(E),!t)o=+n[0]%360/360,p=+n[1]/100,s=+n[2]/100,r=0.5>=s?s*(p+1):s+p-s*p,a=2*s-r,3<n.length&&(n[3]=+n[3]),n[0]=fe(o+1/3,a,r),n[1]=fe(o,a,r),n[2]=fe(o-1/3,a,r);else if(-1!==e.indexOf("="))return e.match(P);n[0]=+n[0],n[1]=+n[1],n[2]=+n[2],3<n.length&&(n[3]=+n[3])}return t&&!d&&(a=n[0]/255,r=n[1]/255,i=n[2]/255,l=Math.max(a,r,i),c=u(a,r,i),s=(l+c)/2,l===c?o=p=0:(_=l-c,p=0.5<s?_/(2-l-c):_/(l+c),o=l===a?(r-i)/_+(r<i?6:0):l===r?(i-a)/_+2:(a-r)/_+4,o*=60),n[0]=0|o+0.5,n[1]=0|100*p+0.5,n[2]=0|100*s+0.5),n},me=function(e,t){var r=e.match(ye)||[],a=0,n="",o,i,s;if(!r.length)return e;for(o=0;o<r.length;o++)i=r[o],s=e.substr(a,e.indexOf(i,a)-a),a+=s.length+i.length,i=ge(i,t),3===i.length&&i.push(1),n+=s+(t?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return n+e.substr(a)},ye="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b",xe,Te,be,ve,Ee,Pe,Se,Ce;for(t in he)ye+="|"+t+"\\b";ye=new RegExp(ye+")","gi"),h.colorStringFilter=function(e){var t=e[0]+" "+e[1],r;ye.test(t)&&(r=-1!==t.indexOf("hsl(")||-1!==t.indexOf("hsla("),e[0]=me(e[0],r),e[1]=me(e[1],r)),ye.lastIndex=0},r.defaultStringFilter||(r.defaultStringFilter=h.colorStringFilter);var Oe=function(e,t,r,n){if(null==e)return function(e){return e};var o=t?(e.match(ye)||[""])[0]:"",a=e.split(o).join("").match(b)||[],s=e.substr(0,e.indexOf(a[0])),l=")"===e.charAt(e.length-1)?")":"",d=-1===e.indexOf(" ")?",":" ",u=a.length,p=0<u?a[0].replace(E,""):"",c;return u?t?(c=function(e){var t,_,h,i;if("number"==typeof e)e+=p;else if(n&&B.test(e)){for(i=e.replace(B,"|").split("|"),h=0;h<i.length;h++)i[h]=c(i[h]);return i.join(",")}if(t=(e.match(ye)||[o])[0],_=e.split(t).join("").match(b)||[],h=_.length,u>h--)for(;++h<u;)_[h]=r?_[0|(h-1)/2]:a[h];return s+_.join(d)+d+t+l+(-1===e.indexOf("inset")?"":" inset")},c):(c=function(e){var t,o,_;if("number"==typeof e)e+=p;else if(n&&B.test(e)){for(o=e.replace(B,"|").split("|"),_=0;_<o.length;_++)o[_]=c(o[_]);return o.join(",")}if(t=e.match(b)||[],_=t.length,u>_--)for(;++_<u;)t[_]=r?t[0|(_-1)/2]:a[_];return s+t.join(d)+l},c):function(e){return e}},Re=function(e){return e=e.split(","),function(r,t,n,o,s,l,d){var u=(t+"").split(" "),a;for(d={},a=0;4>a;a++)d[e[a]]=u[a]=u[a]||u[(a-1)/2>>0];return o.parse(r,d,s,l)}},we=V._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t=this.data,r=t.proxy,a=t.firstMPT,o=1e-6,s,l,d,i,u;a;)s=r[a.v],a.r?s=n(s):s<o&&s>-o&&(s=0),a.t[a.p]=s,a=a._next;if(t.autoRotate&&(t.autoRotate.rotation=t.mod?t.mod(r.rotation,this.t):r.rotation),1===e||0===e)for(a=t.firstMPT,u=1===e?"e":"b";a;){if(l=a.t,!l.type)l[u]=l.s+l.xs0;else if(1===l.type){for(i=l.xs0+l.s+l.xs1,d=1;d<l.l;d++)i+=l["xn"+d]+l["xs"+(d+1)];l[u]=i}a=a._next}},Ae=function(e,t,a,n,i){this.t=e,this.p=t,this.v=a,this.r=i,n&&(n._prev=this,this._next=n)},Me=V._parseToProxy=function(e,t,r,a,n,o){var s=a,l={},d={},u=r._transform,c=G,_,i,p,h,f;for(r._transform=null,G=t,a=f=r.parse(e,t,a,n),G=c,o&&(r._transform=u,s&&(s._prev=null,s._prev&&(s._prev._next=null)));a&&a!==s;){if(1>=a.type&&(i=a.p,d[i]=a.s+a.c,l[i]=a.s,o||(h=new Ae(a,"s",i,h,a.r),a.c=0),1===a.type))for(_=a.l;0<--_;)p="xn"+_,i=a.p+"_"+p,d[i]=a.data[p],l[i]=a[p],o||(h=new Ae(a,p,i,h,a.rxp[p]));a=a._next}return{proxy:l,end:d,firstMPT:h,pt:f}},De=V.CSSPropTween=function(a,t,i,o,s,l,d,n,r,u,p){this.t=a,this.p=t,this.s=i,this.c=o,this.n=d||t,a instanceof De||x.push(this.n),this.r=n,this.type=l||0,r&&(this.pr=r,m=!0),this.b=void 0===u?i:u,this.e=void 0===p?i+o:p,s&&(this._next=s,s._prev=this)},Ie=function(e,t,r,a,n,i){var o=new De(e,t,r,a-r,n,-1,i);return o.b=r,o.e=o.xs0=a,o},ke=h.parseComplex=function(r,t,a,n,o,s,d,u,p,c){a=a||s||"","function"==typeof n&&(n=n(Ce,Se)),d=new De(r,t,0,0,d,c?2:1,null,!1,u,a,n),n+="",o&&ye.test(n+a)&&(n=[a,n],h.colorStringFilter(n),a=n[0],n=n[1]);var _=a.split(", ").join(",").split(" "),f=n.split(", ").join(",").split(" "),g=_.length,l=!1!==xe,m,i,y,x,T,b,v,S,C,O,R,w,A;for((-1!==n.indexOf(",")||-1!==a.indexOf(","))&&(-1!==(n+a).indexOf("rgb")||-1!==(n+a).indexOf("hsl")?(_=_.join(" ").replace(B,", ").split(" "),f=f.join(" ").replace(B,", ").split(" ")):(_=_.join(" ").split(",").join(", ").split(" "),f=f.join(" ").split(",").join(", ").split(" ")),g=_.length),g!==f.length&&(_=(s||"").split(" "),g=_.length),d.plugin=p,d.setRatio=c,ye.lastIndex=0,m=0;m<g;m++)if(x=_[m],T=f[m],S=parseFloat(x),S||0===S)d.appendXtra("",S,pe(T,S),T.replace(P,""),l&&-1!==T.indexOf("px"),!0);else if(o&&ye.test(x))w=T.indexOf(")")+1,w=")"+(w?T.substr(w):""),A=-1!==T.indexOf("hsl")&&Z,O=T,x=ge(x,A),T=ge(T,A),C=6<x.length+T.length,C&&!Z&&0===T[3]?(d["xs"+d.l]+=d.l?" transparent":"transparent",d.e=d.e.split(f[m]).join("transparent")):(!Z&&(C=!1),A?d.appendXtra(O.substr(0,O.indexOf("hsl"))+(C?"hsla(":"hsl("),x[0],pe(T[0],x[0]),",",!1,!0).appendXtra("",x[1],pe(T[1],x[1]),"%,",!1).appendXtra("",x[2],pe(T[2],x[2]),C?"%,":"%"+w,!1):d.appendXtra(O.substr(0,O.indexOf("rgb"))+(C?"rgba(":"rgb("),x[0],T[0]-x[0],",",!0,!0).appendXtra("",x[1],T[1]-x[1],",",!0).appendXtra("",x[2],T[2]-x[2],C?",":w,!0),C&&(x=4>x.length?1:x[3],d.appendXtra("",x,(4>T.length?1:T[3])-x,w,!1))),ye.lastIndex=0;else if(b=x.match(E),!b)d["xs"+d.l]+=d.l||d["xs"+d.l]?" "+T:T;else{if(v=T.match(P),!v||v.length!==b.length)return d;for(y=0,i=0;i<b.length;i++)R=b[i],O=x.indexOf(R,y),d.appendXtra(x.substr(y,O-y),+R,pe(v[i],R),"",l&&"px"===x.substr(O+R.length,2),0===i),y=O+R.length;d["xs"+d.l]+=x.substr(y)}if(-1!==n.indexOf("=")&&d.data){for(w=d.xs0+d.data.s,m=1;m<d.l;m++)w+=d["xs"+m]+d.data["xn"+m];d.e=w+d["xs"+m]}return d.l||(d.type=-1,d.xs0=d.e),d.xfirst||d},Le=9;for(t=De.prototype,t.l=t.pr=0;0<--Le;)t["xn"+Le]=0,t["xs"+Le]="";t.xs0="",t._next=t._prev=t.xfirst=t.data=t.plugin=t.setRatio=t.rxp=null,t.appendXtra=function(e,t,a,n,i,r){var o=this,s=o.l;return(o["xs"+s]+=r&&(s||o["xs"+s])?" "+e:e||"",!a&&0!==s&&!o.plugin)?(o["xs"+s]+=t+(n||""),o):(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=n||"",0<s)?(o.data["xn"+s]=t+a,o.rxp["xn"+s]=i,o["xn"+s]=t,o.plugin||(o.xfirst=new De(o,"xn"+s,t,a,o.xfirst||o,0,o.n,i,o.pr),o.xfirst.xs0=0),o):(o.data={s:t+a},o.rxp={},o.s=t,o.c=a,o.r=i,o)};var Ne=function(e,t){t=t||{},this.p=t.prefix?ee(e)||e:e,g[e]=g[this.p]=this,this.format=t.formatter||Oe(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},i=V._registerComplexSpecialProp=function(e,t,r){"object"!=typeof t&&(t={parser:r});var n=e.split(","),a=t.defaultValue,o,i;for(r=r||[a],o=0;o<n.length;o++)t.prefix=0===o&&t.prefix,t.defaultValue=r[o]||a,i=new Ne(n[o],t)},Be=V._registerPluginProp=function(e){if(!g[e]){var r=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";i(e,{parser:function(a,t,e,n,i,o,s){var l=c.com.greensock.plugins[r];return l?(l._cssRegister(),g[e].parse(a,t,e,n,i,o,s)):(Q("Error: "+r+" js file not loaded."),i)}})}};t=Ne.prototype,t.parseComplex=function(r,t,a,e,n,o){var s=this.keyword,d,i,u,p,l,c;if(this.multi&&(B.test(a)||B.test(t)?(i=t.replace(B,"|").split("|"),u=a.replace(B,"|").split("|")):s&&(i=[t],u=[a])),u){for(p=u.length>i.length?u.length:i.length,d=0;d<p;d++)t=i[d]=i[d]||this.dflt,a=u[d]=u[d]||this.dflt,s&&(l=t.indexOf(s),c=a.indexOf(s),l!==c&&(-1===c?i[d]=i[d].split(s).join(""):-1===l&&(i[d]+=" "+s)));t=i.join(", "),a=u.join(", ")}return ke(r,this.p,t,a,this.clrs,this.dflt,e,this.pr,n,o)},t.parse=function(r,t,e,a,n,i){return this.parseComplex(r.style,this.format(re(r,this.p,T,!1,this.dflt)),this.format(t),n,i)},h.registerSpecialProp=function(e,r,a){i(e,{parser:function(n,t,e,i,o,s){var l=new De(n,e,0,0,o,2,e,!1,a);return l.plugin=s,l.setRatio=r(n,t,i._tween,e),l},priority:a})},h.useSVGTransformAttr=!0;var Fe=["scaleX","scaleY","scaleZ","x","y","z","skewX","skewY","rotation","rotationX","rotationY","perspective","xPercent","yPercent"],Ue=ee("transform"),Xe=J+"transform",Ge=ee("transformOrigin"),je=null!==ee("perspective"),Ye=V.Transform=function(){this.perspective=parseFloat(h.defaultTransformPerspective)||0,this.force3D=!1!==h.defaultForce3D&&je&&(h.defaultForce3D||"auto")},We=d.SVGElement,ze=function(e,t,r){var a=Y.createElementNS("http://www.w3.org/2000/svg",e),n=/([a-z])([A-Z])/g,i;for(i in r)a.setAttributeNS(null,i.replace(n,"$1-$2").toLowerCase(),r[i]);return t.appendChild(a),a},He=Y.documentElement||{},Ve=function(){var e=Pe||/Android/i.test(q)&&!d.chrome,t,r,a;return Y.createElementNS&&!e&&(t=ze("svg",He),r=ze("rect",t,{width:100,height:50,x:100}),a=r.getBoundingClientRect().width,r.style[Ge]="50% 50%",r.style[Ue]="scaleX(0.5)",e=a===r.getBoundingClientRect().width&&!(ve&&je),He.removeChild(t)),e}(),qe=function(t,e,r,n,i,o){var s=t._gsTransform,l=$e(t,!0),u,p,_,f,g,m,a,y,x,d,T,v,E,P;s&&(E=s.xOrigin,P=s.yOrigin),(!n||2>(u=n.split(" ")).length)&&(a=t.getBBox(),0===a.x&&0===a.y&&0===a.width+a.height&&(a={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),e=ue(e).split(" "),u=[(-1===e[0].indexOf("%")?parseFloat(e[0]):parseFloat(e[0])/100*a.width)+a.x,(-1===e[1].indexOf("%")?parseFloat(e[1]):parseFloat(e[1])/100*a.height)+a.y]),r.xOrigin=f=parseFloat(u[0]),r.yOrigin=g=parseFloat(u[1]),n&&l!==Je&&(m=l[0],a=l[1],y=l[2],x=l[3],d=l[4],T=l[5],v=m*x-a*y,v&&(p=f*(x/v)+g*(-y/v)+(y*T-x*d)/v,_=f*(-a/v)+g*(m/v)-(m*T-a*d)/v,f=r.xOrigin=u[0]=p,g=r.yOrigin=u[1]=_)),s&&(o&&(r.xOffset=s.xOffset,r.yOffset=s.yOffset,s=r),i||!1!==i&&!1!==h.defaultSmoothOrigin?(p=f-E,_=g-P,s.xOffset+=p*l[0]+_*l[2]-p,s.yOffset+=p*l[1]+_*l[3]-_):s.xOffset=s.yOffset=0),o||t.setAttribute("data-svg-origin",u.join(" "))},Ze=function(e){var t=W("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,a=this.nextSibling,n=this.style.cssText,i;if(He.appendChild(t),t.appendChild(this),this.style.display="block",e)try{i=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Ze}catch(t){}else this._originalGetBBox&&(i=this._originalGetBBox());return a?r.insertBefore(this,a):r.appendChild(this),He.removeChild(t),this.style.cssText=n,i},Ke=function(t){try{return t.getBBox()}catch(e){return Ze.call(t,!0)}},Qe=function(t){return!!(We&&t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&Ke(t))},Je=[1,0,0,1,0,0],$e=function(t,e){var r=t._gsTransform||new Ye,a=1e5,i=t.style,o,l,d,u,n,p;if(Ue?l=re(t,Xe,null,!0):t.currentStyle&&(l=t.currentStyle.filter.match(L),l=l&&4===l.length?[l[0].substr(4),+l[2].substr(4),+l[1].substr(4),l[3].substr(4),r.x||0,r.y||0].join(","):""),o=!l||"none"===l||"matrix(1, 0, 0, 1, 0, 0)"===l,Ue&&((p=!te(t)||"none"===te(t).display)||!t.parentNode)&&(p&&(u=i.display,i.display="block"),!t.parentNode&&(n=1,He.appendChild(t)),l=re(t,Xe,null,!0),o=!l||"none"===l||"matrix(1, 0, 0, 1, 0, 0)"===l,u?i.display=u:p&&it(i,"display"),n&&He.removeChild(t)),(r.svg||t.getCTM&&Qe(t))&&(o&&-1!==(i[Ue]+"").indexOf("matrix")&&(l=i[Ue],o=0),d=t.getAttribute("transform"),o&&d&&(-1===d.indexOf("matrix")?-1!==d.indexOf("translate")&&(l="matrix(1,0,0,1,"+d.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",o=0):(l=d,o=0))),o)return Je;for(d=(l||"").match(E)||[],Le=d.length;-1<--Le;)u=+d[Le],d[Le]=(n=u-(u|=0))?(0|n*a+(0>n?-0.5:0.5))/a+u:u;return e&&6<d.length?[d[0],d[1],d[4],d[5],d[12],d[13]]:d},et=V.getTransform=function(e,t,n,u){if(e._gsTransform&&n&&!u)return e._gsTransform;var p=n?e._gsTransform||new Ye:new Ye,g=0>p.scaleX,y=2e-5,x=1e5,T=je?parseFloat(re(e,Ge,t,!1,"0 0 0").split(" ")[2])||p.zOrigin||0:0,v=parseFloat(h.defaultTransformPerspective)||0,E,m,i,P,S,C;if(p.svg=!!(e.getCTM&&Qe(e)),p.svg&&(qe(e,re(e,Ge,t,!1,"50% 50%")+"",p,e.getAttribute("data-svg-origin")),at=h.useSVGTransformAttr||Ve),E=$e(e),E!==Je){if(16===E.length){var O=E[0],R=E[1],w=E[2],A=E[3],M=E[4],D=E[5],I=E[6],L=E[7],N=E[8],B=E[9],F=E[10],U=E[12],G=E[13],j=E[14],Y=E[11],W=o(I,F),z,H,V,q,Z;p.zOrigin&&(j=-p.zOrigin,U=N*j-E[12],G=B*j-E[13],j=F*j+p.zOrigin-E[14]),p.rotationX=W*X,W&&(q=f(-W),Z=_(-W),z=M*q+N*Z,H=D*q+B*Z,V=I*q+F*Z,N=M*-Z+N*q,B=D*-Z+B*q,F=I*-Z+F*q,Y=L*-Z+Y*q,M=z,D=H,I=V),W=o(-w,F),p.rotationY=W*X,W&&(q=f(-W),Z=_(-W),z=O*q-N*Z,H=R*q-B*Z,V=w*q-F*Z,B=R*Z+B*q,F=w*Z+F*q,Y=A*Z+Y*q,O=z,R=H,w=V),W=o(R,O),p.rotation=W*X,W&&(q=f(W),Z=_(W),z=O*q+R*Z,H=M*q+D*Z,V=N*q+B*Z,R=R*q-O*Z,D=D*q-M*Z,B=B*q-N*Z,O=z,M=H,N=V),p.rotationX&&359.9<l(p.rotationX)+l(p.rotation)&&(p.rotationX=p.rotation=0,p.rotationY=180-p.rotationY),W=o(M,D),p.scaleX=(0|s(O*O+R*R+w*w)*x+0.5)/x,p.scaleY=(0|s(D*D+I*I)*x+0.5)/x,p.scaleZ=(0|s(N*N+B*B+F*F)*x+0.5)/x,O/=p.scaleX,M/=p.scaleY,R/=p.scaleX,D/=p.scaleY,l(W)>y?(p.skewX=W*X,M=0,"simple"!==p.skewType&&(p.scaleY*=1/f(W))):p.skewX=0,p.perspective=Y?1/(0>Y?-Y:Y):0,p.x=U,p.y=G,p.z=j,p.svg&&(p.x-=p.xOrigin-(p.xOrigin*O-p.yOrigin*M),p.y-=p.yOrigin-(p.yOrigin*R-p.xOrigin*D))}else if(!je||u||!E.length||p.x!==E[4]||p.y!==E[5]||!p.rotationX&&!p.rotationY){var K=6<=E.length,k=K?E[0]:1,a=E[1]||0,b=E[2]||0,c=K?E[3]:1;p.x=E[4]||0,p.y=E[5]||0,i=s(k*k+a*a),P=s(c*c+b*b),S=k||a?o(a,k)*X:p.rotation||0,C=b||c?o(b,c)*X+S:p.skewX||0,p.scaleX=i,p.scaleY=P,p.rotation=S,p.skewX=C,je&&(p.rotationX=p.rotationY=p.z=0,p.perspective=v,p.scaleZ=1),p.svg&&(p.x-=p.xOrigin-(p.xOrigin*k+p.yOrigin*b),p.y-=p.yOrigin-(p.xOrigin*a+p.yOrigin*c))}for(m in 90<l(p.skewX)&&270>l(p.skewX)&&(g?(p.scaleX*=-1,p.skewX+=0>=p.rotation?180:-180,p.rotation+=0>=p.rotation?180:-180):(p.scaleY*=-1,p.skewX+=0>=p.skewX?180:-180)),p.zOrigin=T,p)p[m]<y&&p[m]>-y&&(p[m]=0)}return n&&(e._gsTransform=p,p.svg&&(at&&e.style[Ue]?r.delayedCall(1e-3,function(){it(e.style,Ue)}):!at&&e.getAttribute("transform")&&r.delayedCall(1e-3,function(){e.removeAttribute("transform")}))),p},tt=function(e){var r=this.data,t=-r.rotation*U,i=t+r.skewX*U,o=1e5,s=(0|f(t)*r.scaleX*o)/o,l=(0|_(t)*r.scaleX*o)/o,u=(0|_(i)*-r.scaleY*o)/o,p=(0|f(i)*r.scaleY*o)/o,g=this.t.style,y=this.t.currentStyle,x,T;if(y){T=l,l=-u,u=-T,x=y.filter,g.filter="";var v=this.t.offsetWidth,E=this.t.offsetHeight,h="absolute"!==y.position,P="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+l+", M21="+u+", M22="+p,m=r.x+v*r.xPercent/100,S=r.y+E*r.yPercent/100,R,w;if(null!=r.ox&&(R=(r.oxp?0.01*(v*r.ox):r.ox)-v/2,w=(r.oyp?0.01*(E*r.oy):r.oy)-E/2,m+=R-(R*s+w*l),S+=w-(R*u+w*p)),h?(R=v/2,w=E/2,P+=", Dx="+(R-(R*s+w*l)+m)+", Dy="+(w-(R*u+w*p)+S)+")"):P+=", sizingMethod='auto expand')",g.filter=-1===x.indexOf("DXImageTransform.Microsoft.Matrix(")?P+" "+x:x.replace(N,P),0!==e&&1!==e||1!=s||0!=l||0!=u||1!=p||h&&-1===P.indexOf("Dx=0, Dy=0")||O.test(x)&&100!==parseFloat(RegExp.$1)||-1!==x.indexOf(x.indexOf("Alpha"))||g.removeAttribute("filter"),!h){var A=8>Pe?1:-1,M,D,I;for(R=r.ieOffsetX||0,w=r.ieOffsetY||0,r.ieOffsetX=n((v-((0>s?-s:s)*v+(0>l?-l:l)*E))/2+m),r.ieOffsetY=n((E-((0>p?-p:p)*E+(0>u?-u:u)*v))/2+S),Le=0;4>Le;Le++)D=le[Le],M=y[D],T=-1===M.indexOf("px")?ae(this.t,D,parseFloat(M),M.replace(C,""))||0:parseFloat(M),I=T===r[D]?2>Le?R-r.ieOffsetX:w-r.ieOffsetY:2>Le?-r.ieOffsetX:-r.ieOffsetY,g[D]=(r[D]=n(T-I*(0===Le||2===Le?1:A)))+"px"}}},rt=V.set3DTransformRatio=V.setTransformRatio=function(e){var r=Math.tan,a=this.data,t=this.t.style,n=a.rotation,i=a.rotationX,o=a.rotationY,l=a.scaleX,d=a.scaleY,u=a.scaleZ,p=a.x,c=a.y,h=a.z,g=a.svg,m=a.perspective,y=a.force3D,x=a.skewY,T=a.skewX,b,v,E,P,S,C,O,R,w,A,M,D,I,k,L,N,B,F,X,G,j,Y,W;if(x&&(T+=x,n+=x),((1===e||0===e)&&"auto"===y&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!y)&&!h&&!m&&!o&&!i&&1===u||at&&g||!je)return void(n||T||g?(n*=U,Y=T*U,W=1e5,v=f(n)*l,S=_(n)*l,E=_(n-Y)*-d,C=f(n-Y)*d,Y&&"simple"===a.skewType&&(b=r(Y-x*U),b=s(1+b*b),E*=b,C*=b,x&&(b=r(x*U),b=s(1+b*b),v*=b,S*=b)),g&&(p+=a.xOrigin-(a.xOrigin*v+a.yOrigin*E)+a.xOffset,c+=a.yOrigin-(a.xOrigin*S+a.yOrigin*C)+a.yOffset,at&&(a.xPercent||a.yPercent)&&(L=this.t.getBBox(),p+=0.01*a.xPercent*L.width,c+=0.01*a.yPercent*L.height),L=1e-6,p<L&&p>-L&&(p=0),c<L&&c>-L&&(c=0)),X=(0|v*W)/W+","+(0|S*W)/W+","+(0|E*W)/W+","+(0|C*W)/W+","+p+","+c+")",g&&at?this.t.setAttribute("transform","matrix("+X):t[Ue]=(a.xPercent||a.yPercent?"translate("+a.xPercent+"%,"+a.yPercent+"%) matrix(":"matrix(")+X):t[Ue]=(a.xPercent||a.yPercent?"translate("+a.xPercent+"%,"+a.yPercent+"%) matrix(":"matrix(")+l+",0,0,"+d+","+p+","+c+")");if(ve&&(L=1e-4,l<L&&l>-L&&(l=u=2e-5),d<L&&d>-L&&(d=u=2e-5),m&&!a.z&&!a.rotationX&&!a.rotationY&&(m=0)),n||T)n*=U,N=v=f(n),B=S=_(n),T&&(n-=T*U,N=f(n),B=_(n),"simple"===a.skewType&&(b=r((T-x)*U),b=s(1+b*b),N*=b,B*=b,a.skewY&&(b=r(x*U),b=s(1+b*b),v*=b,S*=b))),E=-B,C=N;else{if(!o&&!i&&1===u&&!m&&!g)return void(t[Ue]=(a.xPercent||a.yPercent?"translate("+a.xPercent+"%,"+a.yPercent+"%) translate3d(":"translate3d(")+p+"px,"+c+"px,"+h+"px)"+(1!==l||1!==d?" scale("+l+","+d+")":""));v=C=1,E=S=0}A=1,P=O=R=w=M=D=0,I=m?-1/m:0,k=a.zOrigin,L=1e-6,G=",",j="0",n=o*U,n&&(N=f(n),B=_(n),R=-B,M=I*-B,P=v*B,O=S*B,A=N,I*=N,v*=N,S*=N),n=i*U,n&&(N=f(n),B=_(n),b=E*N+P*B,F=C*N+O*B,w=A*B,D=I*B,P=E*-B+P*N,O=C*-B+O*N,A*=N,I*=N,E=b,C=F),1!==u&&(P*=u,O*=u,A*=u,I*=u),1!==d&&(E*=d,C*=d,w*=d,D*=d),1!==l&&(v*=l,S*=l,R*=l,M*=l),(k||g)&&(k&&(p+=P*-k,c+=O*-k,h+=A*-k+k),g&&(p+=a.xOrigin-(a.xOrigin*v+a.yOrigin*E)+a.xOffset,c+=a.yOrigin-(a.xOrigin*S+a.yOrigin*C)+a.yOffset),p<L&&p>-L&&(p=j),c<L&&c>-L&&(c=j),h<L&&h>-L&&(h=0)),X=a.xPercent||a.yPercent?"translate("+a.xPercent+"%,"+a.yPercent+"%) matrix3d(":"matrix3d(",X+=(v<L&&v>-L?j:v)+G+(S<L&&S>-L?j:S)+G+(R<L&&R>-L?j:R),X+=G+(M<L&&M>-L?j:M)+G+(E<L&&E>-L?j:E)+G+(C<L&&C>-L?j:C),i||o||1!==u?(X+=G+(w<L&&w>-L?j:w)+G+(D<L&&D>-L?j:D)+G+(P<L&&P>-L?j:P),X+=G+(O<L&&O>-L?j:O)+G+(A<L&&A>-L?j:A)+G+(I<L&&I>-L?j:I)+G):X+=",0,0,0,0,1,0,",X+=p+G+c+G+h+G+(m?1+-h/m:1)+")",t[Ue]=X},at;t=Ye.prototype,t.x=t.y=t.z=t.skewX=t.skewY=t.rotation=t.rotationX=t.rotationY=t.zOrigin=t.xPercent=t.yPercent=t.xOffset=t.yOffset=0,t.scaleX=t.scaleY=t.scaleZ=1,i("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(r,t,e,a,n,o,s){if(a._lastParsedTransform===s)return n;a._lastParsedTransform=s;var l=s.scale&&"function"==typeof s.scale?s.scale:0,d;"function"==typeof s[e]&&(d=s[e],s[e]=t),l&&(s.scale=l(Ce,r));var u=r._gsTransform,c=r.style,_=1e-6,g=Fe.length,i=s,m={},b="transformOrigin",E=et(r,T,!0,i.parseTransform),P=i.transform&&("function"==typeof i.transform?i.transform(Ce,Se):i.transform),S,C,O,R,w,A,x,y,M;if(E.skewType=i.skewType||E.skewType||h.defaultSkewType,a._transform=E,P&&"string"==typeof P&&Ue)C=z.style,C[Ue]=P,C.display="block",C.position="absolute",Y.body.appendChild(z),S=et(z,null,!1),"simple"===E.skewType&&(S.scaleY*=f(S.skewX*U)),E.svg&&(A=E.xOrigin,x=E.yOrigin,S.x-=E.xOffset,S.y-=E.yOffset,(i.transformOrigin||i.svgOrigin)&&(P={},qe(r,ue(i.transformOrigin),P,i.svgOrigin,i.smoothOrigin,!0),A=P.xOrigin,x=P.yOrigin,S.x-=P.xOffset-E.xOffset,S.y-=P.yOffset-E.yOffset),(A||x)&&(y=$e(z,!0),S.x-=A-(A*y[0]+x*y[2]),S.y-=x-(A*y[1]+x*y[3]))),Y.body.removeChild(z),S.perspective||(S.perspective=E.perspective),null!=i.xPercent&&(S.xPercent=ce(i.xPercent,E.xPercent)),null!=i.yPercent&&(S.yPercent=ce(i.yPercent,E.yPercent));else if("object"==typeof i){if(S={scaleX:ce(null==i.scaleX?i.scale:i.scaleX,E.scaleX),scaleY:ce(null==i.scaleY?i.scale:i.scaleY,E.scaleY),scaleZ:ce(i.scaleZ,E.scaleZ),x:ce(i.x,E.x),y:ce(i.y,E.y),z:ce(i.z,E.z),xPercent:ce(i.xPercent,E.xPercent),yPercent:ce(i.yPercent,E.yPercent),perspective:ce(i.transformPerspective,E.perspective)},w=i.directionalRotation,null!=w)if("object"==typeof w)for(C in w)i[C]=w[C];else i.rotation=w;"string"==typeof i.x&&-1!==i.x.indexOf("%")&&(S.x=0,S.xPercent=ce(i.x,E.xPercent)),"string"==typeof i.y&&-1!==i.y.indexOf("%")&&(S.y=0,S.yPercent=ce(i.y,E.yPercent)),S.rotation=_e("rotation"in i?i.rotation:"shortRotation"in i?i.shortRotation+"_short":"rotationZ"in i?i.rotationZ:E.rotation,E.rotation,"rotation",m),je&&(S.rotationX=_e("rotationX"in i?i.rotationX:"shortRotationX"in i?i.shortRotationX+"_short":E.rotationX||0,E.rotationX,"rotationX",m),S.rotationY=_e("rotationY"in i?i.rotationY:"shortRotationY"in i?i.shortRotationY+"_short":E.rotationY||0,E.rotationY,"rotationY",m)),S.skewX=_e(i.skewX,E.skewX),S.skewY=_e(i.skewY,E.skewY)}for(je&&null!=i.force3D&&(E.force3D=i.force3D,R=!0),O=E.force3D||E.z||E.rotationX||E.rotationY||S.z||S.rotationX||S.rotationY||S.perspective,O||null==i.scale||(S.scaleZ=1);-1<--g;)M=Fe[g],P=S[M]-E[M],(P>_||P<-_||null!=i[M]||null!=G[M])&&(R=!0,n=new De(E,M,E[M],P,n),M in m&&(n.e=m[M]),n.xs0=0,n.plugin=o,a._overwriteProps.push(n.n));return P=i.transformOrigin,E.svg&&(P||i.svgOrigin)&&(A=E.xOffset,x=E.yOffset,qe(r,ue(P),S,i.svgOrigin,i.smoothOrigin),n=Ie(E,"xOrigin",(u?E:S).xOrigin,S.xOrigin,n,b),n=Ie(E,"yOrigin",(u?E:S).yOrigin,S.yOrigin,n,b),(A!==E.xOffset||x!==E.yOffset)&&(n=Ie(E,"xOffset",u?A:E.xOffset,E.xOffset,n,b),n=Ie(E,"yOffset",u?x:E.yOffset,E.yOffset,n,b)),P="0px 0px"),(P||je&&O&&E.zOrigin)&&(Ue?(R=!0,M=Ge,P=(P||re(r,M,T,!1,"50% 50%"))+"",n=new De(c,M,0,0,n,-1,b),n.b=c[M],n.plugin=o,je?(C=E.zOrigin,P=P.split(" "),E.zOrigin=(2<P.length&&(0===C||"0px"!==P[2])?parseFloat(P[2]):C)||0,n.xs0=n.e=P[0]+" "+(P[1]||"50%")+" 0px",n=new De(E,"zOrigin",0,0,n,-1,n.n),n.b=C,n.xs0=n.e=E.zOrigin):n.xs0=n.e=P):ue(P+"",E)),R&&(a._transformType=!(E.svg&&at)&&(O||3===this._transformType)?3:2),d&&(s[e]=d),l&&(s.scale=l),n},prefix:!0}),i("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),i("borderRadius",{defaultValue:"0px",parser:function(r,t,e,a,n){t=this.format(t);var o=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],s=r.style,l,d,i,u,p,c,_,f,g,m,h,x,b,v,E,P;for(g=parseFloat(r.offsetWidth),m=parseFloat(r.offsetHeight),l=t.split(" "),d=0;d<o.length;d++)this.p.indexOf("border")&&(o[d]=ee(o[d])),p=u=re(r,o[d],T,!1,"0px"),-1!==p.indexOf(" ")&&(u=p.split(" "),p=u[0],u=u[1]),c=i=l[d],_=parseFloat(p),x=p.substr((_+"").length),b="="===c.charAt(1),b?(f=parseInt(c.charAt(0)+"1",10),c=c.substr(2),f*=parseFloat(c),h=c.substr((f+"").length-(0>f?1:0))||""):(f=parseFloat(c),h=c.substr((f+"").length)),""===h&&(h=y[e]||x),h!==x&&(v=ae(r,"borderLeft",_,x),E=ae(r,"borderTop",_,x),"%"===h?(p=100*(v/g)+"%",u=100*(E/m)+"%"):"em"===h?(P=ae(r,"borderLeft",1,"em"),p=v/P+"em",u=E/P+"em"):(p=v+"px",u=E+"px"),b&&(c=parseFloat(p)+f+h,i=parseFloat(u)+f+h)),n=ke(s,o[d],p+" "+u,c+" "+i,!1,"0px",n);return n},prefix:!0,formatter:Oe("0px 0px 0px 0px",!1,!0)}),i("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(r,t,e,a,n){return ke(r.style,e,this.format(re(r,e,T,!1,"0px 0px")),this.format(t),!1,"0px",n)},prefix:!0,formatter:Oe("0px 0px",!1,!0)}),i("backgroundPosition",{defaultValue:"0 0",parser:function(r,t,e,a,n,o){var s="background-position",l=T||te(r,null),d=this.format((l?Pe?l.getPropertyValue(s+"-x")+" "+l.getPropertyValue(s+"-y"):l.getPropertyValue(s):r.currentStyle.backgroundPositionX+" "+r.currentStyle.backgroundPositionY)||"0 0"),u=this.format(t),p,c,_,i,h,f;if(-1!==d.indexOf("%")!=(-1!==u.indexOf("%"))&&2>u.split(",").length&&(f=re(r,"backgroundImage").replace(D,""),f&&"none"!==f)){for(p=d.split(" "),c=u.split(" "),H.setAttribute("src",f),_=2;-1<--_;)d=p[_],i=-1!==d.indexOf("%"),i!==(-1!==c[_].indexOf("%"))&&(h=0===_?r.offsetWidth-H.width:r.offsetHeight-H.height,p[_]=i?parseFloat(d)/100*h+"px":100*(parseFloat(d)/h)+"%");d=p.join(" ")}return this.parseComplex(r.style,d,u,n,o)},formatter:ue}),i("backgroundSize",{defaultValue:"0 0",formatter:function(e){return e+="",ue(-1===e.indexOf(" ")?e+" "+e:e)}}),i("perspective",{defaultValue:"0px",prefix:!0}),i("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),i("transformStyle",{prefix:!0}),i("backfaceVisibility",{prefix:!0}),i("userSelect",{prefix:!0}),i("margin",{parser:Re("marginTop,marginRight,marginBottom,marginLeft")}),i("padding",{parser:Re("paddingTop,paddingRight,paddingBottom,paddingLeft")}),i("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(r,t,e,a,n,i){var o,s,l;return 9>Pe?(s=r.currentStyle,l=8>Pe?" ":",",o="rect("+s.clipTop+l+s.clipRight+l+s.clipBottom+l+s.clipLeft+")",t=this.format(t).split(",").join(l)):(o=this.format(re(r,this.p,T,!1,this.dflt)),t=this.format(t)),this.parseComplex(r.style,o,t,n,i)}}),i("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),i("autoRound,strictUnits",{parser:function(r,t,e,a,n){return n}}),i("border",{defaultValue:"0px solid #000",parser:function(r,t,e,a,n,i){var o=re(r,"borderTopWidth",T,!1,"0px"),s=this.format(t).split(" "),l=s[0].replace(C,"");return"px"!==l&&(o=parseFloat(o)/ae(r,"borderTopWidth",1,l)+l),this.parseComplex(r.style,this.format(o+" "+re(r,"borderTopStyle",T,!1,"solid")+" "+re(r,"borderTopColor",T,!1,"#000")),s.join(" "),n,i)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(ye)||["#000"])[0]}}),i("borderWidth",{parser:Re("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),i("float,cssFloat,styleFloat",{parser:function(r,t,e,a,n){var i=r.style,o="cssFloat"in i?"cssFloat":"styleFloat";return new De(i,o,0,0,n,-1,e,!1,0,i[o],t)}});var nt=function(e){var r=this.t,t=r.filter||re(this.data,"filter")||"",a=0|this.s+this.c*e,n;100==a&&(-1===t.indexOf("atrix(")&&-1===t.indexOf("radient(")&&-1===t.indexOf("oader(")?(r.removeAttribute("filter"),n=!re(this.data,"filter")):(r.filter=t.replace(w,""),n=!0)),n||(this.xn1&&(r.filter=t=t||"alpha(opacity="+a+")"),-1===t.indexOf("pacity")?(0!=a||!this.xn1)&&(r.filter=t+" alpha(opacity="+a+")"):r.filter=t.replace(O,"opacity="+a))};i("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(r,t,a,n,i,o){var s=parseFloat(re(r,"opacity",T,!1,"1")),l=r.style,d="autoAlpha"===a;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+s),d&&1===s&&"hidden"===re(r,"visibility",T)&&0!==t&&(s=0),Z?i=new De(l,"opacity",s,t-s,i):(i=new De(l,"opacity",100*s,100*(t-s),i),i.xn1=d?1:0,l.zoom=1,i.type=2,i.b="alpha(opacity="+i.s+")",i.e="alpha(opacity="+(i.s+i.c)+")",i.data=r,i.plugin=o,i.setRatio=nt),d&&(i=new De(l,"visibility",0,0,i,-1,null,!1,0,0===s?"hidden":"inherit",0===t?"hidden":"inherit"),i.xs0="inherit",n._overwriteProps.push(i.n),n._overwriteProps.push(a)),i}});var it=function(e,t){t&&(e.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),e.removeProperty(t.replace(A,"-$1").toLowerCase())):e.removeAttribute(t))},ot=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,r=this.t.style;t;)t.v?r[t.p]=t.v:it(r,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};i("className",{parser:function(r,t,e,a,n,i,o){var s=r.getAttribute("class")||"",l=r.style.cssText,d,u,p,c,_;if(n=a._classNamePT=new De(r,e,0,0,n,2),n.setRatio=ot,n.pr=-11,m=!0,n.b=s,u=ie(r,T),p=r._gsClassPT,p){for(c={},_=p.data;_;)c[_.p]=1,_=_._next;p.setRatio(1)}return r._gsClassPT=n,n.e="="===t.charAt(1)?s.replace(new RegExp("(?:\\s|^)"+t.substr(2)+"(?![\\w-])"),"")+("+"===t.charAt(0)?" "+t.substr(2):""):t,r.setAttribute("class",n.e),d=oe(r,u,ie(r),o,c),r.setAttribute("class",s),n.data=d.firstMPT,r.style.cssText=l,n=n.xfirst=a.parse(r,d.difs,n,i),n}});var st=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t=this.t.style,r=g.transform.parse,n,a,o,i,s;if("all"===this.e)t.cssText="",i=!0;else for(n=this.e.split(" ").join("").split(","),o=n.length;-1<--o;)a=n[o],g[a]&&(g[a].parse===r?i=!0:a="transformOrigin"===a?Ge:g[a].p),it(t,a);i&&(it(t,Ue),s=this.t._gsTransform,s&&(s.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(i("clearProps",{parser:function(r,t,e,a,n){return n=new De(r,e,0,0,n,2),n.setRatio=st,n.e=t,n.pr=-10,n.data=a._tween,m=!0,n}}),t=["bezier","throwProps","physicsProps","physics2D"],Le=t.length;Le--;)Be(t[Le]);t=h.prototype,t._firstPT=t._lastParsedTransform=t._transform=null,t._onInitTween=function(e,t,r,a){if(!e.nodeType)return!1;this._target=Se=e,this._tween=r,this._vars=t,Ce=a,xe=t.autoRound,m=!1,y=t.suffixMap||h.suffixMap,T=te(e,""),x=this._overwriteProps;var n=e.style,i,o,s,l,d,u,p,c,_;if(Te&&""===n.zIndex&&(i=re(e,"zIndex",T),("auto"===i||""===i)&&this._addLazySet(n,"zIndex",0)),"string"==typeof t&&(l=n.cssText,i=ie(e,T),n.cssText=l+";"+t,i=oe(e,i,ie(e)).difs,!Z&&R.test(t)&&(i.opacity=parseFloat(RegExp.$1)),t=i,n.cssText=l),this._firstPT=t.className?o=g.className.parse(e,t.className,"className",this,null,null,t):o=this.parse(e,t,null),this._transformType){for(_=3===this._transformType,Ue?be&&(Te=!0,""===n.zIndex&&(p=re(e,"zIndex",T),("auto"===p||""===p)&&this._addLazySet(n,"zIndex",0)),Ee&&this._addLazySet(n,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(_?"visible":"hidden"))):n.zoom=1,s=o;s&&s._next;)s=s._next;c=new De(e,"transform",0,0,null,2),this._linkCSSP(c,null,s),c.setRatio=Ue?rt:tt,c.data=this._transform||et(e,T,!0),c.tween=r,c.pr=-1,x.pop()}if(m){for(;o;){for(u=o._next,s=l;s&&s.pr>o.pr;)s=s._next;(o._prev=s?s._prev:d)?o._prev._next=o:l=o,(o._next=s)?s._prev=o:d=o,o=u}this._firstPT=l}return!0},t.parse=function(e,t,r,a){var n=e.style,i,o,s,l,d,u,p,c,_,h;for(i in t){if(u=t[i],"function"==typeof u&&(u=u(Ce,Se)),o=g[i],o)r=o.parse(e,u,i,this,r,a,t);else if("--"===i.substr(0,2)){this._tween._propLookup[i]=this._addTween.call(this._tween,e.style,"setProperty",te(e).getPropertyValue(i)+"",u+"",i,!1,i);continue}else d=re(e,i,T)+"",_="string"==typeof u,"color"===i||"fill"===i||"stroke"===i||-1!==i.indexOf("Color")||_&&v.test(u)?(!_&&(u=ge(u),u=(3<u.length?"rgba(":"rgb(")+u.join(",")+")"),r=ke(n,i,d,u,!0,"transparent",r,0,a)):_&&F.test(u)?r=ke(n,i,d,u,!0,null,r,0,a):(s=parseFloat(d),p=s||0===s?d.substr((s+"").length):"",(""===d||"auto"===d)&&("width"===i||"height"===i?(s=de(e,i,T),p="px"):"left"===i||"top"===i?(s=ne(e,i,T),p="px"):(s="opacity"===i?1:0,p="")),h=_&&"="===u.charAt(1),h?(l=parseInt(u.charAt(0)+"1",10),u=u.substr(2),l*=parseFloat(u),c=u.replace(C,"")):(l=parseFloat(u),c=_?u.replace(C,""):""),""===c&&(c=i in y?y[i]:p),u=l||0===l?(h?l+s:l)+c:t[i],p!==c&&(""!==c||"lineHeight"===i)&&(l||0===l)&&s&&(s=ae(e,i,s,p),"%"===c?(s/=ae(e,i,100,"%")/100,!0!==t.strictUnits&&(d=s+"%")):"em"===c||"rem"===c||"vw"===c||"vh"===c?s/=ae(e,i,1,c):"px"!==c&&(l=ae(e,i,l,c),c="px"),h&&(l||0===l)&&(u=l+s+c)),h&&(l+=s),(s||0===s)&&(l||0===l)?(r=new De(n,i,s,l-s,r,0,i,!1!==xe&&("px"===c||"zIndex"==i),0,d,u),r.xs0=c):void 0!==n[i]&&(u||u+"NaN"&&null!=u)?(r=new De(n,i,l||s||0,0,r,-1,i,!1,0,d,u),r.xs0="none"===u&&("display"===i||-1!==i.indexOf("Style"))?d:u):Q("invalid "+i+" tween value: "+t[i]));a&&r&&!r.plugin&&(r.plugin=a)}return r},t.setRatio=function(e){var t=this._firstPT,r=1e-6,a,o,s;if(1===e&&(this._tween._time===this._tween._duration||0===this._tween._time))for(;t;){if(2===t.type)t.setRatio(e);else if(!(t.r&&-1!==t.type))t.t[t.p]=t.e;else if(a=n(t.s+t.c),!t.type)t.t[t.p]=a+t.xs0;else if(1===t.type){for(s=t.l,o=t.xs0+a+t.xs1,s=1;s<t.l;s++)o+=t["xn"+s]+t["xs"+(s+1)];t.t[t.p]=o}t=t._next}else if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;t;){if(a=t.c*e+t.s,t.r?a=n(a):a<r&&a>-r&&(a=0),!t.type)t.t[t.p]=a+t.xs0;else if(1!==t.type)-1===t.type?t.t[t.p]=t.xs0:t.setRatio&&t.setRatio(e);else if(s=t.l,2===s)t.t[t.p]=t.xs0+a+t.xs1+t.xn1+t.xs2;else if(3===s)t.t[t.p]=t.xs0+a+t.xs1+t.xn1+t.xs2+t.xn2+t.xs3;else if(4===s)t.t[t.p]=t.xs0+a+t.xs1+t.xn1+t.xs2+t.xn2+t.xs3+t.xn3+t.xs4;else if(5===s)t.t[t.p]=t.xs0+a+t.xs1+t.xn1+t.xs2+t.xn2+t.xs3+t.xn3+t.xs4+t.xn4+t.xs5;else{for(o=t.xs0+a+t.xs1,s=1;s<t.l;s++)o+=t["xn"+s]+t["xs"+(s+1)];t.t[t.p]=o}t=t._next}else for(;t;)2===t.type?t.setRatio(e):t.t[t.p]=t.b,t=t._next},t._enableTransforms=function(e){this._transform=this._transform||et(this._target,T,!0),this._transformType=!(this._transform.svg&&at)&&(e||3===this._transformType)?3:2};var lt=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};t._addLazySet=function(e,t,r){var a=this._firstPT=new De(e,t,0,0,this._firstPT,2);a.e=r,a.setRatio=lt,a.data=this},t._linkCSSP=function(e,t,r,a){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,a=!0),r?r._next=e:!a&&null===this._firstPT&&(this._firstPT=e),e._next=t,e._prev=r),e},t._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&e[t.p]===n&&(t.r=1),t=t._next},t._kill=function(t){var r=t,a,n,i;if(t.autoAlpha||t.alpha){for(n in r={},t)r[n]=t[n];r.opacity=1,r.autoAlpha&&(r.visibility=1)}for(t.className&&(a=this._classNamePT)&&(i=a.xfirst,i&&i._prev?this._linkCSSP(i._prev,a._next,i._prev._prev):i===this._firstPT&&(this._firstPT=a._next),a._next&&this._linkCSSP(a._next,a._next._next,i._prev),this._classNamePT=null),a=this._firstPT;a;)a.plugin&&a.plugin!==n&&a.plugin._kill&&(a.plugin._kill(t),n=a.plugin),a=a._next;return e.prototype._kill.call(this,r)};var dt=function(t,e,r){var a,n,i,o;if(t.slice){for(n=t.length;-1<--n;)dt(t[n],e,r);return}for(a=t.childNodes,n=a.length;-1<--n;)i=a[n],o=i.type,i.style&&(e.push(ie(i)),r&&r.push(i)),(1===o||9===o||11===o)&&i.childNodes.length&&dt(i,e,r)};return h.cascadeTo=function(t,a,n){var o=r.to(t,a,n),s=[o],l=[],d=[],e=[],u=r._internals.reservedProps,c,i,_,p;for(t=o._targets||o.target,dt(t,l,e),o.render(a,!0,!0),dt(t,d),o.render(0,!0,!0),o._enabled(!0),c=e.length;-1<--c;)if(i=oe(e[c],l[c],d[c]),i.firstMPT){for(_ in i=i.difs,n)u[_]&&(i[_]=n[_]);for(_ in p={},i)p[_]=l[c][_];s.push(r.fromTo(e[c],a,p,i))}return s},e.activate([h]),h},!0),function(){var e=d._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(e,t,r){return this._tween=r,!0}}),t=function(e){for(;e;)e.f||e.blob||(e.m=n),e=e._next},r=e.prototype;r._onInitAllProps=function(){for(var e=this._tween,r=e.vars.roundProps.join?e.vars.roundProps:e.vars.roundProps.split(","),a=r.length,i={},o=e._propLookup.roundProps,s,l,d;-1<--a;)i[r[a]]=n;for(a=r.length;-1<--a;)for(s=r[a],l=e._firstPT;l;)d=l._next,l.pg?l.t._mod(i):l.n===s&&(2===l.f&&l.t?t(l.t._firstPT):(this._add(l.t,s,l.s,l.c),d&&(d._prev=l._prev),l._prev?l._prev._next=d:e._firstPT===l&&(e._firstPT=d),l._next=l._prev=null,e._propLookup[s]=o)),l=d;return!1},r._add=function(e,t,r,a){this._addTween(e,t,r,r+a,t,Math.round),this._overwriteProps.push(t)}}(),function(){d._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(e,t,r,a){var n,i;if("function"!=typeof e.setAttribute)return!1;for(n in t)i=t[n],"function"==typeof i&&(i=i(a,e)),this._addTween(e,"setAttribute",e.getAttribute(n)+"",i+"",n,!1,n),this._overwriteProps.push(n);return!0}})}(),d._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(e,t,r,n){"object"!=typeof t&&(t={rotation:t}),this.finals={};var i=!0===t.useRadians?2*a:360,o=1e-6,s,l,d,u,p,c;for(s in t)"useRadians"!==s&&(u=t[s],"function"==typeof u&&(u=u(n,e)),c=(u+"").split("_"),l=c[0],d=parseFloat("function"==typeof e[s]?e[s.indexOf("set")||"function"!=typeof e["get"+s.substr(3)]?s:"get"+s.substr(3)]():e[s]),u=this.finals[s]="string"==typeof l&&"="===l.charAt(1)?d+parseInt(l.charAt(0)+"1",10)*+l.substr(2):+l||0,p=u-d,c.length&&(l=c.join("_"),-1!==l.indexOf("short")&&(p%=i,p!==p%(i/2)&&(p=0>p?p+i:p-i)),-1!==l.indexOf("_cw")&&0>p?p=(p+9999999999*i)%i-(0|p/i)*i:-1!==l.indexOf("ccw")&&0<p&&(p=(p-9999999999*i)%i-(0|p/i)*i)),(p>o||p<-o)&&(this._addTween(e,s,d,d+p,s),this._overwriteProps.push(s)));return!0},set:function(e){var t;if(1!==e)this._super.setRatio.call(this,e);else for(t=this._firstPT;t;)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}})._autoCSS=!0,d._gsDefine("easing.Back",["easing.Ease"],function(e){var t=d.GreenSockGlobals||d,n=t.com.greensock,i=2*a,o=a/2,l=n._class,u=function(t,r){var a=l("easing."+t,function(){},!0),n=a.prototype=new e;return n.constructor=a,n.getRatio=r,a},c=e.register||function(){},h=function(e,t,r,a){var n=l("easing."+e,{easeOut:new t,easeIn:new r,easeInOut:new a},!0);return c(n,e),n},g=function(e,t,r){this.t=e,this.v=t,r&&(this.next=r,r.prev=this,this.c=r.v-t,this.gap=r.t-e)},m=function(t,r){var a=l("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),n=a.prototype=new e;return n.constructor=a,n.getRatio=r,n.config=function(e){return new a(e)},a},y=h("Back",m("BackOut",function(e){return--e*e*((this._p1+1)*e+this._p1)+1}),m("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),m("BackInOut",function(e){return 1>(e*=2)?0.5*e*e*((this._p2+1)*e-this._p2):0.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),x=l("easing.SlowMo",function(e,t,r){t=t||0===t?t:0.7,null==e?e=0.7:1<e&&(e=1),this._p=1===e?0:t,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===r},!0),T=x.prototype=new e,p,b,v;return T.constructor=x,T.getRatio=function(e){var t=e+(0.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1===e?0:1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},x.ease=new x(0.7,0.7),T.config=x.config=function(e,t,r){return new x(e,t,r)},p=l("easing.SteppedEase",function(e,t){e=e||1,this._p1=1/e,this._p2=e+(t?0:1),this._p3=t?1:0},!0),T=p.prototype=new e,T.constructor=p,T.getRatio=function(e){return 0>e?e=0:1<=e&&(e=0.999999999),((0|this._p2*e)+this._p3)*this._p1},T.config=p.config=function(e,t){return new p(e,t)},b=l("easing.RoughEase",function(t){t=t||{};for(var r=t.taper||"none",n=[],a=0,o=0|(t.points||20),s=o,i=!1!==t.randomize,l=!0===t.clamp,d=t.template instanceof e?t.template:null,u="number"==typeof t.strength?0.4*t.strength:0.4,p,c,_,h,f,m;-1<--s;)p=i?Math.random():1/o*s,c=d?d.getRatio(p):p,"none"===r?_=u:"out"===r?(h=1-p,_=h*h*u):"in"===r?_=p*p*u:0.5>p?(h=2*p,_=0.5*(h*h)*u):(h=2*(1-p),_=0.5*(h*h)*u),i?c+=Math.random()*_-0.5*_:s%2?c+=0.5*_:c-=0.5*_,l&&(1<c?c=1:0>c&&(c=0)),n[a++]={x:p,y:c};for(n.sort(function(e,t){return e.x-t.x}),m=new g(1,1,null),s=o;-1<--s;)f=n[s],m=new g(f.x,f.y,m);this._prev=new g(0,0,0===m.t?m.next:m)},!0),T=b.prototype=new e,T.constructor=b,T.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},T.config=function(e){return new b(e)},b.ease=new b,h("Bounce",u("BounceOut",function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375}),u("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+0.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+0.9375):1-(7.5625*(e-=2.625/2.75)*e+0.984375)}),u("BounceInOut",function(e){var t=0.5>e;return e=t?1-2*e:2*e-1,e=e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375,t?0.5*(1-e):0.5*e+0.5})),h("Circ",u("CircOut",function(e){return s(1- --e*e)}),u("CircIn",function(e){return-(s(1-e*e)-1)}),u("CircInOut",function(e){return 1>(e*=2)?-0.5*(s(1-e*e)-1):0.5*(s(1-(e-=2)*e)+1)})),v=function(t,r,a){var n=l("easing."+t,function(e,t){this._p1=1<=e?e:1,this._p2=(t||a)/(1>e?e:1),this._p3=this._p2/i*(Math.asin(1/this._p1)||0),this._p2=i/this._p2},!0),o=n.prototype=new e;return o.constructor=n,o.getRatio=r,o.config=function(e,t){return new n(e,t)},n},h("Elastic",v("ElasticOut",function(e){return this._p1*r(2,-10*e)*_((e-this._p3)*this._p2)+1},0.3),v("ElasticIn",function(e){return-(this._p1*r(2,10*(e-=1))*_((e-this._p3)*this._p2))},0.3),v("ElasticInOut",function(e){return 1>(e*=2)?-0.5*(this._p1*r(2,10*(e-=1))*_((e-this._p3)*this._p2)):0.5*(this._p1*r(2,-10*(e-=1))*_((e-this._p3)*this._p2))+1},0.45)),h("Expo",u("ExpoOut",function(e){return 1-r(2,-10*e)}),u("ExpoIn",function(e){return r(2,10*(e-1))-1e-3}),u("ExpoInOut",function(e){return 1>(e*=2)?0.5*r(2,10*(e-1)):0.5*(2-r(2,-10*(e-1)))})),h("Sine",u("SineOut",function(e){return _(e*o)}),u("SineIn",function(e){return-f(e*o)+1}),u("SineInOut",function(e){return-0.5*(f(a*e)-1)})),l("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),c(t.SlowMo,"SlowMo","ease,"),c(b,"RoughEase","ease,"),c(p,"SteppedEase","ease,"),y},!0)}),d._gsDefine&&d._gsQueue.pop()(),function(r,e){"use strict";var o={},s=r.document,l=r.GreenSockGlobals=r.GreenSockGlobals||r;if(!l.TweenLite){var d=function(e){var t=e.split("."),r=l,a;for(a=0;a<t.length;a++)r[t[a]]=r=r[t[a]]||{};return r},c=d("com.greensock"),_=1e-10,h=function(e){var t=[],r=e.length,a;for(a=0;a!==r;t.push(e[a++]));return t},f=function(){},g=function(){var e=Object.prototype.toString,t=e.call([]);return function(r){return null!=r&&(r instanceof Array||"object"==typeof r&&!!r.push&&e.call(r)===t)}}(),m={},y=function(s,a,u,p){this.sc=m[s]?m[s].sc:[],m[s]=this,this.gsClass=null,this.func=u;var c=[];this.check=function(_){for(var h=a.length,i=h,f,g,x,n;-1<--h;)(f=m[a[h]]||new y(a[h],[])).gsClass?(c[h]=f.gsClass,i--):_&&f.sc.push(this);if(0===i&&u){if(g=("com.greensock."+s).split("."),x=g.pop(),n=d(g.join("."))[x]=this.gsClass=u.apply(u,c),p)if(l[x]=o[x]=n,!("undefined"!=typeof t&&t.exports))"function"==typeof define&&define.amd&&define((r.GreenSockAMDPath?r.GreenSockAMDPath+"/":"")+s.split(".").pop(),[],function(){return n});else if(s===e)for(h in t.exports=o[e]=n,o)n[h]=o[h];else o[e]&&(o[e][x]=n);for(h=0;h<this.sc.length;h++)this.sc[h].check()}},this.check(!0)},x=r._gsDefine=function(e,t,r,a){return new y(e,t,r,a)},T=c._class=function(e,t,r){return t=t||function(){},x(e,[],function(){return t},r),t},b,a,i,v,p;x.globals=l;var E=[0,0,1,1],P=T("easing.Ease",function(e,t,r,a){this._func=e,this._type=r||0,this._power=a||0,this._params=t?E.concat(t):E},!0),S=P.map={},C=P.register=function(t,r,a,n){for(var o=r.split(","),s=o.length,i=(a||"easeIn,easeOut,easeInOut").split(","),l,e,d,u;-1<--s;)for(e=o[s],l=n?T("easing."+e,null,!0):c.easing[e]||{},d=i.length;-1<--d;)u=i[d],S[e+"."+u]=S[u+e]=l[u]=t.getRatio?t:t[u]||new t};for(i=P.prototype,i._calcEnd=!1,i.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var a=this._type,t=this._power,n=1===a?1-e:2===a?e:0.5>e?2*e:2*(1-e);return 1===t?n*=n:2===t?n*=n*n:3===t?n*=n*n*n:4===t&&(n*=n*n*n*n),1===a?1-n:2===a?n:0.5>e?n/2:1-n/2},b=["Linear","Quad","Cubic","Quart","Quint,Strong"],a=b.length;-1<--a;)i=b[a]+",Power"+a,C(new P(null,null,1,a),i,"easeOut",!0),C(new P(null,null,2,a),i,"easeIn"+(0===a?",easeNone":"")),C(new P(null,null,3,a),i,"easeInOut");S.linear=c.easing.Linear.easeIn,S.swing=c.easing.Quad.easeInOut;var O=T("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});i=O.prototype,i.addEventListener=function(e,t,r,a,n){n=n||0;var o=this._listeners[e],s=0,l,d;for(this!==v||p||v.wake(),null==o&&(this._listeners[e]=o=[]),d=o.length;-1<--d;)l=o[d],l.c===t&&l.s===r?o.splice(d,1):0==s&&l.pr<n&&(s=d+1);o.splice(s,0,{c:t,s:r,up:a,pr:n})},i.removeEventListener=function(e,t){var r=this._listeners[e],a;if(r)for(a=r.length;-1<--a;)if(r[a].c===t)return void r.splice(a,1)},i.dispatchEvent=function(e){var r=this._listeners[e],a,n,i;if(r)for(a=r.length,1<a&&(r=r.slice(0)),n=this._eventTarget;-1<--a;)i=r[a],i&&(i.up?i.c.call(i.s||n,{type:e,target:n}):i.c.call(i.s||n))};var R=r.requestAnimationFrame,w=r.cancelAnimationFrame,A=Date.now||function(){return new Date().getTime()},M=A();for(b=["ms","moz","webkit","o"],a=b.length;-1<--a&&!R;)R=r[b[a]+"RequestAnimationFrame"],w=r[b[a]+"CancelAnimationFrame"]||r[b[a]+"CancelRequestAnimationFrame"];T("Ticker",function(e,t){var r=this,a=A(),n=!1!==t&&R&&"auto",i=500,o=33,l=function(e){var t=A()-M,n,s;t>i&&(a+=t-o),M+=t,r.time=(M-a)/1e3,n=r.time-m,(!d||0<n||!0===e)&&(r.frame++,m+=n+(n>=g?4e-3:g-n),s=!0),!0!==e&&(h=c(l)),s&&r.dispatchEvent("tick")},d,c,h,g,m;O.call(r),r.time=r.frame=0,r.tick=function(){l(!0)},r.lagSmoothing=function(e,t){return arguments.length?void(i=e||1/_,o=u(t,i,0)):i<1/_},r.sleep=function(){null==h||(n&&w?w(h):clearTimeout(h),c=f,h=null,r===v&&(p=!1))},r.wake=function(e){null===h?e?a+=-M+(M=A()):10<r.frame&&(M=A()-i+5):r.sleep(),c=0===d?f:n&&R?R:function(e){return setTimeout(e,0|1e3*(m-r.time)+1)},r===v&&(p=!0),l(2)},r.fps=function(e){return arguments.length?void(d=e,g=1/(d||60),m=this.time+g,r.wake()):d},r.useRAF=function(e){return arguments.length?void(r.sleep(),n=e,r.fps(d)):n},r.fps(e),setTimeout(function(){"auto"===n&&5>r.frame&&"hidden"!==s.visibilityState&&r.useRAF(!1)},1500)}),i=c.Ticker.prototype=new c.events.EventDispatcher,i.constructor=c.Ticker;var D=T("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=+t.delay||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,!!J){p||v.wake();var r=this.vars.useFrames?Q:J;r.add(this,r._time),this.vars.paused&&this.paused(!0)}});v=D.ticker=new c.Ticker,i=D.prototype,i._dirty=i._gc=i._initted=i._paused=!1,i._totalTime=i._time=0,i._rawPrevTime=-1,i._next=i._last=i._onUpdate=i._timeline=i.timeline=null,i._paused=!1;var I=function(){p&&2e3<A()-M&&("hidden"!==s.visibilityState||!v.lagSmoothing())&&v.wake();var e=setTimeout(I,2e3);e.unref&&e.unref()};I(),i.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},i.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},i.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},i.seek=function(e,t){return this.totalTime(+e,!1!==t)},i.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},i.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},i.render=function(){},i.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},i.isActive=function(){var e=this._timeline,t=this._startTime,r;return!e||!this._gc&&!this._paused&&e.isActive()&&(r=e.rawTime(!0))>=t&&r<t+this.totalDuration()/this._timeScale-1e-7},i._enabled=function(e,t){return p||v.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},i._kill=function(){return this._enabled(!1,!1)},i.kill=function(e,t){return this._kill(e,t),this},i._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},i._swapSelfInParams=function(e){for(var t=e.length,r=e.concat();-1<--t;)"{self}"===e[t]&&(r[t]=this);return r},i._callback=function(e){var t=this.vars,r=t[e],a=t[e+"Params"],n=t[e+"Scope"]||t.callbackScope||this,i=a?a.length:0;0===i?r.call(n):1===i?r.call(n,a[0]):2===i?r.call(n,a[0],a[1]):r.apply(n,a)},i.eventCallback=function(e,t,r,a){if("on"===(e||"").substr(0,2)){var n=this.vars;if(1===arguments.length)return n[e];null==t?delete n[e]:(n[e]=t,n[e+"Params"]=g(r)&&-1!==r.join("").indexOf("{self}")?this._swapSelfInParams(r):r,n[e+"Scope"]=a),"onUpdate"===e&&(this._onUpdate=t)}return this},i.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},i.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},i.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},i.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},i.totalTime=function(e,t,r){if(p||v.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!r&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var a=this._totalDuration,n=this._timeline;if(e>a&&!r&&(e=a),this._startTime=(this._paused?this._pauseTime:n._time)-(this._reversed?a-e:e)/this._timeScale,n._dirty||this._uncache(!1),n._timeline)for(;n._timeline;)n._timeline._time!==(n._startTime+n._totalTime)/n._timeScale&&n.totalTime(n._totalTime,!0),n=n._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&(F.length&&ee(),this.render(e,t,!1),F.length&&ee())}return this},i.progress=i.totalProgress=function(e,t){var r=this.duration();return arguments.length?this.totalTime(r*e,t):r?this._time/r:this.ratio},i.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},i.endTime=function(e){return this._startTime+(!1==e?this.duration():this.totalDuration())/this._timeScale},i.timeScale=function(e){if(!arguments.length)return this._timeScale;var r,a;for(e=e||_,this._timeline&&this._timeline.smoothChildTiming&&(r=this._pauseTime,a=r||0===r?r:this._timeline.totalTime(),this._startTime=a-(a-this._startTime)*this._timeScale/e),this._timeScale=e,a=this.timeline;a&&a.timeline;)a._dirty=!0,a.totalDuration(),a=a.timeline;return this},i.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},i.paused=function(e){if(!arguments.length)return this._paused;var t=this._timeline,r,a;return e!=this._paused&&t&&(!p&&!e&&v.wake(),r=t.rawTime(),a=r-this._pauseTime,!e&&t.smoothChildTiming&&(this._startTime+=a,this._uncache(!1)),this._pauseTime=e?r:null,this._paused=e,this._active=this.isActive(),!e&&0!==a&&this._initted&&this.duration()&&(r=t.smoothChildTiming?this._totalTime:(r-this._startTime)/this._timeScale,this.render(r,r===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var k=T("core.SimpleTimeline",function(e){D.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});i=k.prototype=new D,i.constructor=k,i.kill()._gc=!1,i._first=i._last=i._recent=null,i._sortChildren=!1,i.add=i.insert=function(e,t){var r,a;if(e._startTime=+(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),r=this._last,this._sortChildren)for(a=e._startTime;r&&r._startTime>a;)r=r._prev;return r?(e._next=r._next,r._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=r,this._recent=e,this._timeline&&this._uncache(!0),this},i._remove=function(e,t){return e.timeline===this&&(!t&&e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},i.render=function(e,t,r){var a=this._first,n;for(this._totalTime=this._time=this._rawPrevTime=e;a;)n=a._next,(a._active||e>=a._startTime&&!a._paused&&!a._gc)&&(a._reversed?a.render((a._dirty?a.totalDuration():a._totalDuration)-(e-a._startTime)*a._timeScale,t,r):a.render((e-a._startTime)*a._timeScale,t,r)),a=n},i.rawTime=function(){return p||v.wake(),this._totalTime};var L=T("TweenLite",function(e,t,a){if(D.call(this,t,a),this.render=L.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"==typeof e?L.selector(e)||e:e;var n=e.jquery||e.length&&e!==r&&e[0]&&(e[0]===r||e[0].nodeType&&e[0].style&&!e.nodeType),o=this.vars.overwrite,s,i,l;if(this._overwrite=o=null==o?K[L.defaultOverwrite]:"number"==typeof o?o>>0:K[o],(n||e instanceof Array||e.push&&g(e))&&"number"!=typeof e[0])for(this._targets=l=h(e),this._propLookup=[],this._siblings=[],s=0;s<l.length;s++){if(i=l[s],!i){l.splice(s--,1);continue}else if("string"==typeof i){i=l[s--]=L.selector(i),"string"==typeof i&&l.splice(s+1,1);continue}else if(i.length&&i!==r&&i[0]&&(i[0]===r||i[0].nodeType&&i[0].style&&!i.nodeType)){l.splice(s--,1),this._targets=l=l.concat(h(i));continue}this._siblings[s]=te(i,this,!1),1===o&&1<this._siblings[s].length&&ae(i,this,null,1,this._siblings[s])}else this._propLookup={},this._siblings=te(e,this,!1),1===o&&1<this._siblings.length&&ae(e,this,null,1,this._siblings);(this.vars.immediateRender||0===t&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-_,this.render(u(0,-this._delay)))},!0),N=function(e){return e&&e.length&&e!==r&&e[0]&&(e[0]===r||e[0].nodeType&&e[0].style&&!e.nodeType)},B=function(e,t){var r={},a;for(a in e)Z[a]||a in t&&"transform"!==a&&"x"!==a&&"y"!==a&&"width"!==a&&"height"!==a&&"className"!==a&&"border"!==a||H[a]&&(!H[a]||!H[a]._autoCSS)||(r[a]=e[a],delete e[a]);e.css=r};i=L.prototype=new D,i.constructor=L,i.kill()._gc=!1,i.ratio=0,i._firstPT=i._targets=i._overwrittenProps=i._startAt=null,i._notifyPluginsOfEnabled=i._lazy=!1,L.version="1.20.3",L.defaultEase=i._ease=new P(null,null,1,1),L.defaultOverwrite="auto",L.ticker=v,L.autoSleep=120,L.lagSmoothing=function(e,t){v.lagSmoothing(e,t)},L.selector=r.$||r.jQuery||function(t){var e=r.$||r.jQuery;return e?(L.selector=e,e(t)):"undefined"==typeof s?t:s.querySelectorAll?s.querySelectorAll(t):s.getElementById("#"===t.charAt(0)?t.substr(1):t)};var F=[],U={},X=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,G=/[\+-]=-?[\.\d]/,j=function(e){for(var t=this._firstPT,r=1e-6,a;t;)a=t.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:t.c*e+t.s,t.m?a=t.m(a,this._target||t.t):a<r&&a>-r&&!t.blob&&(a=0),t.f?t.fp?t.t[t.p](t.fp,a):t.t[t.p](a):t.t[t.p]=a,t=t._next},Y=function(e,t,r,o){var d=[],u=0,p="",s=0,c,_,h,f,g,l,m;for(d.start=e,d.end=t,e=d[0]=e+"",t=d[1]=t+"",r&&(r(d),e=d[0],t=d[1]),d.length=0,c=e.match(X)||[],_=t.match(X)||[],o&&(o._next=null,o.blob=1,d._firstPT=d._applyPT=o),g=_.length,f=0;f<g;f++)m=_[f],l=t.substr(u,t.indexOf(m,u)-u),p+=l||!f?l:",",u+=l.length,s?s=(s+1)%5:"rgba("===l.substr(-5)&&(s=1),m===c[f]||c.length<=f?p+=m:(p&&(d.push(p),p=""),h=parseFloat(c[f]),d.push(h),d._firstPT={_next:d._firstPT,t:d,p:d.length-1,s:h,c:("="===m.charAt(1)?parseInt(m.charAt(0)+"1",10)*parseFloat(m.substr(2)):parseFloat(m)-h)||0,f:0,m:s&&4>s?n:0}),u+=m.length;return p+=t.substr(u),p&&d.push(p),d.setRatio=j,G.test(t)&&(d.end=null),d},W=function(e,t,r,a,i,o,l,d,u){"function"==typeof a&&(a=a(u||0,e));var p=typeof e[t],c="function"==p?t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3):"",_="get"===r?c?l?e[c](l):e[c]():e[t]:r,h="string"==typeof a&&"="===a.charAt(1),f={t:e,p:t,s:_,f:"function"==p,pg:0,n:i||t,m:o?"function"==typeof o?o:n:0,pr:0,c:h?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-_||0},g;if("number"==typeof _&&("number"==typeof a||h)||(l||isNaN(_)||!h&&isNaN(a)||"boolean"==typeof _||"boolean"==typeof a?(f.fp=l,g=Y(_,h?parseFloat(f.s)+f.c:a,d||L.defaultStringFilter,f),f={t:g,p:"setRatio",s:0,c:1,f:2,pg:0,n:i||t,pr:0,m:0}):(f.s=parseFloat(_),!h&&(f.c=parseFloat(a)-f.s||0))),f.c)return(f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f},z=L._internals={isArray:g,isSelector:N,lazyTweens:F,blobDif:Y},H=L._plugins={},V=z.tweenLookup={},q=0,Z=z.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},K={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Q=D._rootFramesTimeline=new k,J=D._rootTimeline=new k,$=30,ee=z.lazyRender=function(){var e=F.length,t;for(U={};-1<--e;)t=F[e],t&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);F.length=0};J._startTime=v.time,Q._startTime=v.frame,J._active=Q._active=!0,setTimeout(ee,1),D._updateRoot=L.render=function(){var e,t,r;if(F.length&&ee(),J.render((v.time-J._startTime)*J._timeScale,!1,!1),Q.render((v.frame-Q._startTime)*Q._timeScale,!1,!1),F.length&&ee(),v.frame>=$){for(r in $=v.frame+(parseInt(L.autoSleep,10)||120),V){for(t=V[r].tweens,e=t.length;-1<--e;)t[e]._gc&&t.splice(e,1);0===t.length&&delete V[r]}if(r=J._first,(!r||r._paused)&&L.autoSleep&&!Q._first&&1===v._listeners.tick.length){for(;r&&r._paused;)r=r._next;r||v.sleep()}}},v.addEventListener("tick",D._updateRoot);var te=function(e,t,r){var n=e._gsTweenID,o,a;if(V[n||(e._gsTweenID=n="t"+q++)]||(V[n]={target:e,tweens:[]}),t&&(o=V[n].tweens,o[a=o.length]=t,r))for(;-1<--a;)o[a]===t&&o.splice(a,1);return V[n].tweens},re=function(e,t,r,a){var n=e.vars.onOverwrite,i,o;return n&&(i=n(e,t,r,a)),n=L.onOverwrite,n&&(o=n(e,t,r,a)),!1!==i&&!1!==o},ae=function(e,t,r,a,n){var o,i,s,d;if(1===a||4<=a){for(d=n.length,o=0;o<d;o++)if((s=n[o])!==t)!s._gc&&s._kill(null,e,t)&&(i=!0);else if(5===a)break;return i}var l=t._startTime+_,u=[],p=0,c=0===t._duration,h;for(o=n.length;-1<--o;)if((s=n[o])===t||s._gc||s._paused);else s._timeline===t._timeline?s._startTime<=l&&s._startTime+s.totalDuration()/s._timeScale>l&&((c||!s._initted)&&2e-10>=l-s._startTime||(u[p++]=s)):(h=h||ne(t,0,c),0===ne(s,h,c)&&(u[p++]=s));for(o=p;-1<--o;)if(s=u[o],2===a&&s._kill(r,e,t)&&(i=!0),2!==a||!s._firstPT&&s._initted){if(2!==a&&!re(s,t))continue;s._enabled(!1,!1)&&(i=!0)}return i},ne=function(e,r,a){for(var n=e._timeline,i=n._timeScale,o=e._startTime;n._timeline;){if(o+=n._startTime,i*=n._timeScale,n._paused)return-100;n=n._timeline}return o/=i,o>r?o-r:a&&o===r||!e._initted&&o-r<2*_?_:(o+=e.totalDuration()/e._timeScale/i)>r+_?0:o-r-_};i._init=function(){var e=this.vars,t=this._overwrittenProps,r=this._duration,a=!!e.immediateRender,n=e.ease,o,i,s,d,u,p;if(e.startAt){for(d in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),u={},e.startAt)u[d]=e.startAt[d];if(u.data="isStart",u.overwrite=!1,u.immediateRender=!0,u.lazy=a&&!1!==e.lazy,u.startAt=u.delay=null,u.onUpdate=e.onUpdate,u.onUpdateParams=e.onUpdateParams,u.onUpdateScope=e.onUpdateScope||e.callbackScope||this,this._startAt=L.to(this.target,0,u),a)if(0<this._time)this._startAt=null;else if(0!==r)return}else if(e.runBackwards&&0!==r)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(d in 0!==this._time&&(a=!1),s={},e)Z[d]&&"autoCSS"!==d||(s[d]=e[d]);if(s.overwrite=0,s.data="isFromStart",s.lazy=a&&!1!==e.lazy,s.immediateRender=a,this._startAt=L.to(this.target,0,s),!a)this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null);else if(0===this._time)return}if(this._ease=n=n?n instanceof P?n:"function"==typeof n?new P(n,e.easeParams):S[n]||L.defaultEase:L.defaultEase,e.easeParams instanceof Array&&n.config&&(this._ease=n.config.apply(n,e.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(p=this._targets.length,o=0;o<p;o++)this._initProps(this._targets[o],this._propLookup[o]={},this._siblings[o],t?t[o]:null,o)&&(i=!0);else i=this._initProps(this.target,this._propLookup,this._siblings,t,0);if(i&&L._onPluginEvent("_onInitAllProps",this),t&&!this._firstPT&&"function"!=typeof this.target&&this._enabled(!1,!1),e.runBackwards)for(s=this._firstPT;s;)s.s+=s.c,s.c=-s.c,s=s._next;this._onUpdate=e.onUpdate,this._initted=!0},i._initProps=function(e,t,a,n,o){var s,l,i,d,u,p;if(null==e)return!1;for(s in U[e._gsTweenID]&&ee(),!this.vars.css&&e.style&&e!==r&&e.nodeType&&H.css&&!1!==this.vars.autoCSS&&B(this.vars,e),this.vars)if(p=this.vars[s],Z[s])p&&(p instanceof Array||p.push&&g(p))&&-1!==p.join("").indexOf("{self}")&&(this.vars[s]=p=this._swapSelfInParams(p,this));else if(H[s]&&(d=new H[s])._onInitTween(e,this.vars[s],this,o)){for(this._firstPT=u={_next:this._firstPT,t:d,p:"setRatio",s:0,c:1,f:1,n:s,pg:1,pr:d._priority,m:0},l=d._overwriteProps.length;-1<--l;)t[d._overwriteProps[l]]=this._firstPT;(d._priority||d._onInitAllProps)&&(i=!0),(d._onDisable||d._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else t[s]=W.call(this,e,s,"get",p,s,0,null,this.vars.stringFilter,o);return n&&this._kill(n,e)?this._initProps(e,t,a,n,o):1<this._overwrite&&this._firstPT&&1<a.length&&ae(e,this,t,this._overwrite,a)?(this._kill(t,e),this._initProps(e,t,a,n,o)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(U[e._gsTweenID]=!0),i)},i.render=function(e,t,a){var n=this._time,i=this._duration,o=this._rawPrevTime,s,l,d,u;if(e>=i-1e-7&&0<=e)this._totalTime=this._time=i,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(s=!0,l="onComplete",a=a||this._timeline.autoRemoveChildren),0===i&&(this._initted||!this.vars.lazy||a)&&(this._startTime===this._timeline._duration&&(e=0),(0>o||0>=e&&-1e-7<=e||o===_&&"isPause"!==this.data)&&o!==e&&(a=!0,o>_&&(l="onReverseComplete")),this._rawPrevTime=u=!t||e||o===e?e:_);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==n||0===i&&0<o)&&(l="onReverseComplete",s=this._reversed),0>e&&(this._active=!1,0===i&&(this._initted||!this.vars.lazy||a)&&(0<=o&&(o!==_||"isPause"!==this.data)&&(a=!0),this._rawPrevTime=u=!t||e||o===e?e:_)),(!this._initted||this._startAt&&this._startAt.progress())&&(a=!0);else if(this._totalTime=this._time=e,this._easeType){var p=e/i,r=this._easeType,c=this._easePower;(1===r||3===r&&0.5<=p)&&(p=1-p),3===r&&(p*=2),1===c?p*=p:2===c?p*=p*p:3===c?p*=p*p*p:4===c&&(p*=p*p*p*p),this.ratio=1===r?1-p:2===r?p:0.5>e/i?p/2:1-p/2}else this.ratio=this._ease.getRatio(e/i);if(this._time!==n||a){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!a&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=n,this._rawPrevTime=o,F.push(this),void(this._lazy=[e,t]);this._time&&!s?this.ratio=this._ease.getRatio(this._time/i):s&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||this._paused||this._time===n||!(0<=e)||(this._active=!0),0===n&&(this._startAt&&(0<=e?this._startAt.render(e,!0,a):!l&&(l="_dummyGS")),this.vars.onStart&&(0!==this._time||0===i)&&!t&&this._callback("onStart")),d=this._firstPT;d;)d.f?d.t[d.p](d.c*this.ratio+d.s):d.t[d.p]=d.c*this.ratio+d.s,d=d._next;this._onUpdate&&(0>e&&this._startAt&&-1e-4!==e&&this._startAt.render(e,!0,a),!t&&(this._time!==n||s||a)&&this._callback("onUpdate")),l&&(!this._gc||a)&&(0>e&&this._startAt&&!this._onUpdate&&-1e-4!==e&&this._startAt.render(e,!0,a),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[l]&&this._callback(l),0===i&&this._rawPrevTime===_&&u!==_&&(this._rawPrevTime=0))}},i._kill=function(e,t,r){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"==typeof t?L.selector(t)||t:t||this._targets||this.target;var a=r&&this._time&&r._startTime===this._startTime&&this._timeline===r._timeline,n,i,o,s,l,d,u,p,c;if((g(t)||N(t))&&"number"!=typeof t[0])for(n=t.length;-1<--n;)this._kill(e,t[n],r)&&(d=!0);else{if(this._targets){for(n=this._targets.length;-1<--n;)if(t===this._targets[n]){l=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[n]=e?this._overwrittenProps[n]||{}:"all";break}}else{if(t!==this.target)return!1;l=this._propLookup,i=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(l){if(u=e||l,p=e!==i&&"all"!==i&&e!==l&&("object"!=typeof e||!e._tempKill),r&&(L.onOverwrite||this.vars.onOverwrite)){for(o in u)l[o]&&(c||(c=[]),c.push(o));if((c||!e)&&!re(this,r,t,c))return!1}for(o in u)(s=l[o])&&(a&&(s.f?s.t[s.p](s.s):s.t[s.p]=s.s,d=!0),s.pg&&s.t._kill(u)&&(d=!0),(!s.pg||0===s.t._overwriteProps.length)&&(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete l[o]),p&&(i[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return d},i.invalidate=function(){return this._notifyPluginsOfEnabled&&L._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],D.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-_,this.render(u(0,-this._delay))),this},i._enabled=function(e,t){if(p||v.wake(),e&&this._gc){var r=this._targets,a;if(r)for(a=r.length;-1<--a;)this._siblings[a]=te(r[a],this,!0);else this._siblings=te(this.target,this,!0)}return D.prototype._enabled.call(this,e,t),this._notifyPluginsOfEnabled&&this._firstPT&&L._onPluginEvent(e?"_onEnable":"_onDisable",this)},L.to=function(e,t,r){return new L(e,t,r)},L.from=function(e,t,r){return r.runBackwards=!0,r.immediateRender=!1!=r.immediateRender,new L(e,t,r)},L.fromTo=function(e,t,r,a){return a.startAt=r,a.immediateRender=!1!=a.immediateRender&&!1!=r.immediateRender,new L(e,t,a)},L.delayedCall=function(e,t,r,a,n){return new L(t,0,{delay:e,onComplete:t,onCompleteParams:r,callbackScope:a,onReverseComplete:t,onReverseCompleteParams:r,immediateRender:!1,lazy:!1,useFrames:n,overwrite:0})},L.set=function(e,t){return new L(e,0,t)},L.getTweensOf=function(e,r){if(null==e)return[];e="string"==typeof e?L.selector(e)||e:e;var n,i,a,o;if((g(e)||N(e))&&"number"!=typeof e[0]){for(n=e.length,i=[];-1<--n;)i=i.concat(L.getTweensOf(e[n],r));for(n=i.length;-1<--n;)for(o=i[n],a=n;-1<--a;)o===i[a]&&i.splice(n,1)}else if(e._gsTweenID)for(i=te(e).concat(),n=i.length;-1<--n;)(i[n]._gc||r&&!i[n].isActive())&&i.splice(n,1);return i||[]},L.killTweensOf=L.killDelayedCallsTo=function(e,t,r){"object"==typeof t&&(r=t,t=!1);for(var n=L.getTweensOf(e,t),a=n.length;-1<--a;)n[a]._kill(r,e)};var ie=T("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=ie.prototype},!0);if(i=ie.prototype,ie.version="1.19.0",ie.API=2,i._firstPT=null,i._addTween=W,i.setRatio=j,i._kill=function(e){var t=this._overwriteProps,r=this._firstPT,a;if(null!=e[this._propName])this._overwriteProps=[];else for(a=t.length;-1<--a;)null!=e[t[a]]&&t.splice(a,1);for(;r;)null!=e[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},i._mod=i._roundProps=function(e){for(var t=this._firstPT,r;t;)r=e[this._propName]||null!=t.n&&e[t.n.split(this._propName+"_").join("")],r&&"function"==typeof r&&(2===t.f?t.t._applyPT.m=r:t.m=r),t=t._next},L._onPluginEvent=function(e,t){var r=t._firstPT,a,n,i,o,s;if("_onInitAllProps"===e){for(;r;){for(s=r._next,n=i;n&&n.pr>r.pr;)n=n._next;(r._prev=n?n._prev:o)?r._prev._next=r:i=r,(r._next=n)?n._prev=r:o=r,r=s}r=t._firstPT=i}for(;r;)r.pg&&"function"==typeof r.t[e]&&r.t[e]()&&(a=!0),r=r._next;return a},ie.activate=function(e){for(var t=e.length;-1<--t;)e[t].API===ie.API&&(H[new e[t]()._propName]=e[t]);return!0},x.plugin=function(e){if(!e||!e.propName||!e.init||!e.API)throw"illegal plugin definition.";var t=e.propName,r=e.priority||0,a=e.overwriteProps,n={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},i=T("plugins."+t.charAt(0).toUpperCase()+t.substr(1)+"Plugin",function(){ie.call(this,t,r),this._overwriteProps=a||[]},!0===e.global),o=i.prototype=new ie(t),s;for(s in o.constructor=i,i.API=e.API,n)"function"==typeof e[s]&&(o[n[s]]=e[s]);return i.version=e.version,ie.activate([i]),i},b=r._gsQueue,b){for(a=0;a<b.length;a++)b[a]();for(i in m)m[i].func||r.console.log("GSAP encountered missing dependency: "+i)}p=!1}}("undefined"!=typeof t&&t.exports&&"undefined"!=typeof e?e:this||window,"TweenMax")}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],8:[function(e,t){var r=Math.abs;(function(a,e,n){"use strict";function i(e,t,r){return setTimeout(u(e,r),t)}function o(e,t,r){return!!Array.isArray(e)&&(s(e,r[t],r),!0)}function s(e,t,r){if(e)if(e.forEach)e.forEach(t,r);else if(void 0!==e.length)for(a=0;a<e.length;)t.call(r,e[a],a,e),a++;else for(var a in e)e.hasOwnProperty(a)&&t.call(r,e[a],a,e)}function l(t,r,n){return function(){var i=new Error("get-stack-trace"),e=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=a.console&&(a.console.warn||a.console.log);return o&&o.call(a.console,"DEPRECATED METHOD: "+r+"\n"+n+" AT \n",e),t.apply(this,arguments)}}function d(e,t,r){var a=t.prototype,n;n=e.prototype=Object.create(a),n.constructor=e,n._super=a,r&&me(n,r)}function u(e,t){return function(){return e.apply(t,arguments)}}function p(e,t){return typeof e==_e?e.apply(t?t[0]||void 0:void 0,t):e}function c(e,t){return e===void 0?t:e}function _(e,t,r){s(m(t),function(t){e.addEventListener(t,r,!1)})}function h(e,t,r){s(m(t),function(t){e.removeEventListener(t,r,!1)})}function f(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function g(e,t){return-1<e.indexOf(t)}function m(e){return e.trim().split(/\s+/g)}function y(e,t,r){if(e.indexOf&&!r)return e.indexOf(t);for(var a=0;a<e.length;){if(r&&e[a][r]==t||!r&&e[a]===t)return a;a++}return-1}function x(e){return Array.prototype.slice.call(e,0)}function T(e,t,r){for(var a=[],n=[],o=0,i;o<e.length;)i=t?e[o][t]:e[o],0>y(n,i)&&a.push(e[o]),n[o]=i,o++;return r&&(t?a=a.sort(function(e,r){return e[t]>r[t]}):a=a.sort()),a}function b(e,t){for(var r=t[0].toUpperCase()+t.slice(1),a=0,n,i;a<pe.length;){if(n=pe[a],i=n?n+r:t,i in e)return i;a++}return void 0}function v(){return Te++}function E(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||a}function P(e,t){var r=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){p(e.options.enable,[e])&&r.handler(t)},this.init()}function S(e){var t=e.options.inputClass,r;return r=t?t:Ee?U:Pe?j:ve?W:F,new r(e,C)}function C(e,t,r){var a=r.pointers.length,n=r.changedPointers.length,i=t&Re&&0==a-n;r.isFirst=!!i,r.isFinal=!!(t&(Ae|Me)&&0==a-n),i&&(e.session={}),r.eventType=t,O(e,r),e.emit("hammer.input",r),e.recognize(r),e.session.prevInput=r}function O(e,t){var r=e.session,a=t.pointers,n=a.length;r.firstInput||(r.firstInput=A(t)),1<n&&!r.firstMultiple?r.firstMultiple=A(t):1===n&&(r.firstMultiple=!1);var i=r.firstInput,o=r.firstMultiple,s=o?o.center:i.center,l=t.center=M(a);t.timeStamp=ge(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=L(s,l),t.distance=k(s,l),R(r,t),t.offsetDirection=I(t.deltaX,t.deltaY);var d=D(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=d.x,t.overallVelocityY=d.y,t.overallVelocity=fe(d.x)>fe(d.y)?d.x:d.y,t.scale=o?B(o.pointers,a):1,t.rotation=o?N(o.pointers,a):0,t.maxPointers=r.prevInput?t.pointers.length>r.prevInput.maxPointers?t.pointers.length:r.prevInput.maxPointers:t.pointers.length,w(r,t);var u=e.element;f(t.srcEvent.target,u)&&(u=t.srcEvent.target),t.target=u}function R(e,t){var r=t.center,a=e.offsetDelta||{},n=e.prevDelta||{},i=e.prevInput||{};(t.eventType===Re||i.eventType===Ae)&&(n=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},a=e.offsetDelta={x:r.x,y:r.y}),t.deltaX=n.x+(r.x-a.x),t.deltaY=n.y+(r.y-a.y)}function w(e,t){var r=e.lastInterval||t,a=t.timeStamp-r.timeStamp,n,i,o,s;if(t.eventType!=Me&&(a>Oe||r.velocity===void 0)){var l=t.deltaX-r.deltaX,d=t.deltaY-r.deltaY,u=D(a,l,d);i=u.x,o=u.y,n=fe(u.x)>fe(u.y)?u.x:u.y,s=I(l,d),e.lastInterval=t}else n=r.velocity,i=r.velocityX,o=r.velocityY,s=r.direction;t.velocity=n,t.velocityX=i,t.velocityY=o,t.direction=s}function A(e){for(var t=[],r=0;r<e.pointers.length;)t[r]={clientX:he(e.pointers[r].clientX),clientY:he(e.pointers[r].clientY)},r++;return{timeStamp:ge(),pointers:t,center:M(t),deltaX:e.deltaX,deltaY:e.deltaY}}function M(e){var t=e.length;if(1===t)return{x:he(e[0].clientX),y:he(e[0].clientY)};for(var r=0,a=0,n=0;n<t;)r+=e[n].clientX,a+=e[n].clientY,n++;return{x:he(r/t),y:he(a/t)}}function D(e,t,r){return{x:t/e||0,y:r/e||0}}function I(e,t){return e===t?De:fe(e)>=fe(t)?0>e?Ie:ke:0>t?Le:Ne}function k(e,t,r){r||(r=Xe);var a=t[r[0]]-e[r[0]],n=t[r[1]]-e[r[1]];return Math.sqrt(a*a+n*n)}function L(e,t,r){r||(r=Xe);var a=t[r[0]]-e[r[0]],n=t[r[1]]-e[r[1]];return 180*Math.atan2(n,a)/Math.PI}function N(e,t){return L(t[1],t[0],Ge)+L(e[1],e[0],Ge)}function B(e,t){return k(t[0],t[1],Ge)/k(e[0],e[1],Ge)}function F(){this.evEl=Ye,this.evWin=We,this.pressed=!1,P.apply(this,arguments)}function U(){this.evEl=Ve,this.evWin=qe,P.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function X(){this.evTarget=Ke,this.evWin=Qe,this.started=!1,P.apply(this,arguments)}function G(e,t){var r=x(e.touches),a=x(e.changedTouches);return t&(Ae|Me)&&(r=T(r.concat(a),"identifier",!0)),[r,a]}function j(){this.evTarget=$e,this.targetIds={},P.apply(this,arguments)}function Y(e,t){var r=x(e.touches),a=this.targetIds;if(t&(Re|we)&&1===r.length)return a[r[0].identifier]=!0,[r,r];var n=x(e.changedTouches),o=[],s=this.target,l,i;if(i=r.filter(function(e){return f(e.target,s)}),t===Re)for(l=0;l<i.length;)a[i[l].identifier]=!0,l++;for(l=0;l<n.length;)a[n[l].identifier]&&o.push(n[l]),t&(Ae|Me)&&delete a[n[l].identifier],l++;return o.length?[T(i.concat(o),"identifier",!0),o]:void 0}function W(){P.apply(this,arguments);var e=u(this.handler,this);this.touch=new j(this.manager,e),this.mouse=new F(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function z(e,t){e&Re?(this.primaryTouch=t.changedPointers[0].identifier,H.call(this,t)):e&(Ae|Me)&&H.call(this,t)}function H(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY};this.lastTouches.push(r);var a=this.lastTouches,n=function(){var e=a.indexOf(r);-1<e&&a.splice(e,1)};setTimeout(n,et)}}function V(e){for(var a=e.srcEvent.clientX,n=e.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var i=this.lastTouches[o],t=r(a-i.x),s=r(n-i.y);if(t<=tt&&s<=tt)return!0}return!1}function q(e,t){this.manager=e,this.set(t)}function Z(e){if(g(e,st))return st;var t=g(e,lt),r=g(e,dt);return t&&r?st:t||r?t?lt:dt:g(e,ot)?ot:it}function K(e){this.options=me({},this.defaults,e||{}),this.id=v(),this.manager=null,this.options.enable=c(this.options.enable,!0),this.state=pt,this.simultaneous={},this.requireFail=[]}function Q(e){if(e&gt)return"cancel";return e&ht?"end":e&_t?"move":e&ct?"start":""}function J(e){if(e==Ne)return"down";return e==Le?"up":e==Ie?"left":e==ke?"right":""}function $(e,t){var r=t.manager;return r?r.get(e):e}function ee(){K.apply(this,arguments)}function te(){ee.apply(this,arguments),this.pX=null,this.pY=null}function re(){ee.apply(this,arguments)}function ae(){K.apply(this,arguments),this._timer=null,this._input=null}function ne(){ee.apply(this,arguments)}function ie(){ee.apply(this,arguments)}function oe(){K.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function se(e,t){return t=t||{},t.recognizers=c(t.recognizers,se.defaults.preset),new le(e,t)}function le(e,t){this.options=me({},se.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=S(this),this.touchAction=new q(this,this.options.touchAction),de(this,!0),s(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function de(e,t){var r=e.element;if(r.style){var a;s(e.options.cssProps,function(n,i){a=b(r.style,i),t?(e.oldCssProps[a]=r.style[a],r.style[a]=n):r.style[a]=e.oldCssProps[a]||""}),t||(e.oldCssProps={})}}function ue(t,r){var a=e.createEvent("Event");a.initEvent(t,!0,!0),a.gesture=r,r.target.dispatchEvent(a)}var pe=["","webkit","Moz","MS","ms","o"],ce=e.createElement("div"),_e="function",he=Math.round,fe=r,ge=Date.now,me;me="function"==typeof Object.assign?Object.assign:function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,a;r<arguments.length;r++)if(a=arguments[r],void 0!==a&&null!==a)for(var n in a)a.hasOwnProperty(n)&&(t[n]=a[n]);return t};var ye=l(function(e,t,r){for(var a=Object.keys(t),n=0;n<a.length;)(!r||r&&void 0===e[a[n]])&&(e[a[n]]=t[a[n]]),n++;return e},"extend","Use `assign`."),xe=l(function(e,t){return ye(e,t,!0)},"merge","Use `assign`."),Te=1,be=/mobile|tablet|ip(ad|hone|od)|android/i,ve="ontouchstart"in a,Ee=b(a,"PointerEvent")!==void 0,Pe=ve&&be.test(navigator.userAgent),Se="touch",Ce="mouse",Oe=25,Re=1,we=2,Ae=4,Me=8,De=1,Ie=2,ke=4,Le=8,Ne=16,Be=Ie|ke,Fe=Le|Ne,Ue=Be|Fe,Xe=["x","y"],Ge=["clientX","clientY"];P.prototype={handler:function(){},init:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(E(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(E(this.element),this.evWin,this.domHandler)}};var je={mousedown:Re,mousemove:we,mouseup:Ae},Ye="mousedown",We="mousemove mouseup";d(F,P,{handler:function(e){var t=je[e.type];t&Re&&0===e.button&&(this.pressed=!0),t&we&&1!==e.which&&(t=Ae);this.pressed&&(t&Ae&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Ce,srcEvent:e}))}});var ze={pointerdown:Re,pointermove:we,pointerup:Ae,pointercancel:Me,pointerout:Me},He={2:Se,3:"pen",4:Ce,5:"kinect"},Ve="pointerdown",qe="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Ve="MSPointerDown",qe="MSPointerMove MSPointerUp MSPointerCancel"),d(U,P,{handler:function(e){var t=this.store,r=!1,a=e.type.toLowerCase().replace("ms",""),n=ze[a],i=He[e.pointerType]||e.pointerType,o=y(t,e.pointerId,"pointerId");n&Re&&(0===e.button||i==Se)?0>o&&(t.push(e),o=t.length-1):n&(Ae|Me)&&(r=!0);0>o||(t[o]=e,this.callback(this.manager,n,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),r&&t.splice(o,1))}});var Ze={touchstart:Re,touchmove:we,touchend:Ae,touchcancel:Me},Ke="touchstart",Qe="touchstart touchmove touchend touchcancel";d(X,P,{handler:function(e){var t=Ze[e.type];if(t===Re&&(this.started=!0),!!this.started){var r=G.call(this,e,t);t&(Ae|Me)&&0==r[0].length-r[1].length&&(this.started=!1),this.callback(this.manager,t,{pointers:r[0],changedPointers:r[1],pointerType:Se,srcEvent:e})}}});var Je={touchstart:Re,touchmove:we,touchend:Ae,touchcancel:Me},$e="touchstart touchmove touchend touchcancel";d(j,P,{handler:function(e){var t=Je[e.type],r=Y.call(this,e,t);r&&this.callback(this.manager,t,{pointers:r[0],changedPointers:r[1],pointerType:Se,srcEvent:e})}});var et=2500,tt=25;d(W,P,{handler:function(e,t,r){var a=r.pointerType==Se,n=r.pointerType==Ce;if(!(n&&r.sourceCapabilities&&r.sourceCapabilities.firesTouchEvents)){if(a)z.call(this,t,r);else if(n&&V.call(this,r))return;this.callback(e,t,r)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var rt=b(ce.style,"touchAction"),at=rt!==void 0,nt="compute",it="auto",ot="manipulation",st="none",lt="pan-x",dt="pan-y",ut=function(){if(!at)return!1;var e={},t=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){e[r]=!t||a.CSS.supports("touch-action",r)}),e}();q.prototype={set:function(e){e==nt&&(e=this.compute()),at&&this.manager.element.style&&ut[e]&&(this.manager.element.style[rt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return s(this.manager.recognizers,function(t){p(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Z(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,r=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var a=this.actions,n=g(a,st)&&!ut[st],i=g(a,dt)&&!ut[dt],o=g(a,lt)&&!ut[lt];if(n){var s=1===e.pointers.length,l=2>e.distance,d=250>e.deltaTime;if(s&&l&&d)return}return o&&i?void 0:n||i&&r&Be||o&&r&Fe?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var pt=1,ct=2,_t=4,ht=8,ft=ht,gt=16,mt=32;K.prototype={defaults:{},set:function(e){return me(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(o(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=$(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return o(e,"dropRecognizeWith",this)?this:(e=$(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(o(e,"requireFailure",this))return this;var t=this.requireFail;return e=$(e,this),-1===y(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(o(e,"dropRequireFailure",this))return this;e=$(e,this);var t=y(this.requireFail,e);return-1<t&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){r.manager.emit(t,e)}var r=this,a=this.state;a<ht&&t(r.options.event+Q(a)),t(r.options.event),e.additionalEvent&&t(e.additionalEvent),a>=ht&&t(r.options.event+Q(a))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=mt)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(mt|pt)))return!1;e++}return!0},recognize:function(e){var t=me({},e);return p(this.options.enable,[this,t])?void(this.state&(ft|gt|mt)&&(this.state=pt),this.state=this.process(t),this.state&(ct|_t|ht|gt)&&this.tryEmit(t)):(this.reset(),void(this.state=mt))},process:function(){},getTouchAction:function(){},reset:function(){}},d(ee,K,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,r=e.eventType,a=t&(ct|_t),n=this.attrTest(e);if(a&&(r&Me||!n))return t|gt;return a||n?r&Ae?t|ht:t&ct?t|_t:ct:mt}}),d(te,ee,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ue},getTouchAction:function(){var e=this.options.direction,t=[];return e&Be&&t.push(dt),e&Fe&&t.push(lt),t},directionTest:function(e){var t=this.options,a=!0,n=e.distance,i=e.direction,o=e.deltaX,s=e.deltaY;return i&t.direction||(t.direction&Be?(i=0===o?De:0>o?Ie:ke,a=o!=this.pX,n=r(e.deltaX)):(i=0===s?De:0>s?Le:Ne,a=s!=this.pY,n=r(e.deltaY))),e.direction=i,a&&n>t.threshold&&i&t.direction},attrTest:function(e){return ee.prototype.attrTest.call(this,e)&&(this.state&ct||!(this.state&ct)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=J(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),d(re,ee,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[st]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(r(e.scale-1)>this.options.threshold||this.state&ct)},emit:function(e){if(1!==e.scale){var t=1>e.scale?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),d(ae,K,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[it]},process:function(e){var t=this.options,r=e.pointers.length===t.pointers,a=e.distance<t.threshold,n=e.deltaTime>t.time;if(this._input=e,!a||!r||e.eventType&(Ae|Me)&&!n)this.reset();else if(e.eventType&Re)this.reset(),this._timer=i(function(){this.state=ft,this.tryEmit()},t.time,this);else if(e.eventType&Ae)return ft;return mt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state!==ft||(e&&e.eventType&Ae?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=ge(),this.manager.emit(this.options.event,this._input)))}}),d(ne,ee,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[st]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(r(e.rotation)>this.options.threshold||this.state&ct)}}),d(ie,ee,{defaults:{event:"swipe",threshold:10,velocity:0.3,direction:Be|Fe,pointers:1},getTouchAction:function(){return te.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction,r;return t&(Be|Fe)?r=e.overallVelocity:t&Be?r=e.overallVelocityX:t&Fe&&(r=e.overallVelocityY),this._super.attrTest.call(this,e)&&t&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&fe(r)>this.options.velocity&&e.eventType&Ae},emit:function(e){var t=J(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),d(oe,K,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ot]},process:function(e){var t=this.options,r=e.pointers.length===t.pointers,a=e.distance<t.threshold,n=e.deltaTime<t.time;if(this.reset(),e.eventType&Re&&0===this.count)return this.failTimeout();if(a&&n&&r){if(e.eventType!=Ae)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||k(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,s&&o?this.count+=1:this.count=1,this._input=e;var l=this.count%t.taps;if(0==l)return this.hasRequireFailures()?(this._timer=i(function(){this.state=ft,this.tryEmit()},t.interval,this),ct):ft}return mt},failTimeout:function(){return this._timer=i(function(){this.state=mt},this.options.interval,this),mt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ft&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),se.VERSION="2.0.7",se.defaults={domEvents:!1,touchAction:nt,enable:!0,inputTarget:null,inputClass:null,preset:[[ne,{enable:!1}],[re,{enable:!1},["rotate"]],[ie,{direction:Be}],[te,{direction:Be},["swipe"]],[oe],[oe,{event:"doubletap",taps:2},["tap"]],[ae]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var yt=2;le.prototype={set:function(e){return me(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?yt:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var r=this.recognizers,a=t.curRecognizer,n;(!a||a&&a.state&ft)&&(a=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],t.stopped!==yt&&(!a||n==a||n.canRecognizeWith(a))?n.recognize(e):n.reset(),!a&&n.state&(ct|_t|ht)&&(a=t.curRecognizer=n),o++}},get:function(e){if(e instanceof K)return e;for(var t=this.recognizers,r=0;r<t.length;r++)if(t[r].options.event==e)return t[r];return null},add:function(e){if(o(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(o(e,"remove",this))return this;if(e=this.get(e),e){var t=this.recognizers,r=y(t,e);-1!==r&&(t.splice(r,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var r=this.handlers;return s(m(e),function(e){r[e]=r[e]||[],r[e].push(t)}),this}},off:function(e,t){if(void 0!==e){var r=this.handlers;return s(m(e),function(e){t?r[e]&&r[e].splice(y(r[e],t),1):delete r[e]}),this}},emit:function(e,t){this.options.domEvents&&ue(e,t);var r=this.handlers[e]&&this.handlers[e].slice();if(r&&r.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var a=0;a<r.length;)r[a](t),a++}},destroy:function(){this.element&&de(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},me(se,{INPUT_START:Re,INPUT_MOVE:we,INPUT_END:Ae,INPUT_CANCEL:Me,STATE_POSSIBLE:pt,STATE_BEGAN:ct,STATE_CHANGED:_t,STATE_ENDED:ht,STATE_RECOGNIZED:ft,STATE_CANCELLED:gt,STATE_FAILED:mt,DIRECTION_NONE:De,DIRECTION_LEFT:Ie,DIRECTION_RIGHT:ke,DIRECTION_UP:Le,DIRECTION_DOWN:Ne,DIRECTION_HORIZONTAL:Be,DIRECTION_VERTICAL:Fe,DIRECTION_ALL:Ue,Manager:le,Input:P,TouchAction:q,TouchInput:j,MouseInput:F,PointerEventInput:U,TouchMouseInput:W,SingleTouchInput:X,Recognizer:K,AttrRecognizer:ee,Tap:oe,Pan:te,Swipe:ie,Pinch:re,Rotate:ne,Press:ae,on:_,off:h,each:s,merge:xe,extend:ye,assign:me,inherit:d,bindFn:u,prefixed:b});var xt="undefined"==typeof a?"undefined"==typeof self?{}:self:a;xt.Hammer=se,"function"==typeof define&&define.amd?define(function(){return se}):"undefined"!=typeof t&&t.exports?t.exports=se:a[n]=se})(window,document,"Hammer")},{}],9:[function(e,t){(function(e){var r=/iPhone/i,a=/iPod/i,n=/iPad/i,i=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,o=/Android/i,s=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,l=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,d=/Windows Phone/i,u=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,p=/BlackBerry/i,c=/BB10/i,_=/Opera Mini/i,h=/(CriOS|Chrome)(?=.*\bMobile\b)/i,f=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,g=/(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)/i,m=function(e,t){return e.test(t)},y=function(e){var t=e||navigator.userAgent,y=t.split("[FBAN");if("undefined"!=typeof y[1]&&(t=y[0]),y=t.split("Twitter"),"undefined"!=typeof y[1]&&(t=y[0]),this.apple={phone:m(r,t),ipod:m(a,t),tablet:!m(r,t)&&m(n,t),device:m(r,t)||m(a,t)||m(n,t)},this.amazon={phone:m(s,t),tablet:!m(s,t)&&m(l,t),device:m(s,t)||m(l,t)},this.android={phone:m(s,t)||m(i,t),tablet:!m(s,t)&&!m(i,t)&&(m(l,t)||m(o,t)),device:m(s,t)||m(l,t)||m(i,t)||m(o,t)},this.windows={phone:m(d,t),tablet:m(u,t),device:m(d,t)||m(u,t)},this.other={blackberry:m(p,t),blackberry10:m(c,t),opera:m(_,t),firefox:m(f,t),chrome:m(h,t),device:m(p,t)||m(c,t)||m(_,t)||m(f,t)||m(h,t)},this.seven_inch=m(g,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},x=function(){var e=new y;return e.Class=y,e};"undefined"!=typeof t&&t.exports&&"undefined"==typeof window?t.exports=y:"undefined"!=typeof t&&t.exports&&"undefined"!=typeof window?t.exports=x():"function"==typeof define&&define.amd?define("isMobile",[],e.isMobile=x()):e.isMobile=x()})(this)},{}],10:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=function(){function e(t,r,n){void 0===r&&(r=!1),a(this,e),this._fn=t,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return i(e,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),e}(),s=function(){function e(){a(this,e),this._head=this._tail=void 0}return i(e,[{key:"handlers",value:function(){var e=0>=arguments.length||void 0===arguments[0]?!1:arguments[0],t=this._head;if(e)return!!t;for(var r=[];t;)r.push(t),t=t._next;return r}},{key:"has",value:function(e){if(!(e instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}},{key:"dispatch",value:function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:"add",value:function(e){var t=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return n(this,new o(e,!1,t))}},{key:"once",value:function(e){var t=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return n(this,new o(e,!0,t))}},{key:"detach",value:function(e){if(!(e instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner===this?(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this):this}},{key:"detachAll",value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),e}();s.MiniSignalBinding=o,r["default"]=s,t.exports=r["default"]},{}],11:[function(e,t){"use strict";function r(e){if(null===e||e===void 0)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;10>r;r++)t["_"+String.fromCharCode(r)]=r;var a=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==a.join(""))return!1;var n={};return["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t"].forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e){for(var t=r(e),l=1,s,d;l<arguments.length;l++){for(var u in s=Object(arguments[l]),s)n.call(s,u)&&(t[u]=s[u]);if(a){d=a(s);for(var p=0;p<d.length;p++)o.call(s,d[p])&&(t[d[p]]=s[d[p]])}}return t}},{}],12:[function(e,t){"use strict";t.exports=function(e,t){t=t||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},a=r.parser[t.strictMode?"strict":"loose"].exec(e),n={},o=14;o--;)n[r.key[o]]=a[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(e,t,a){t&&(n[r.q.name][t]=a)}),n}},{}],13:[function(e,t,r){(function(e){function t(e,t){for(var r=0,a=e.length-1,n;0<=a;a--)n=e[a],"."===n?e.splice(a,1):".."===n?(e.splice(a,1),r++):r&&(e.splice(a,1),r--);if(t)for(;r--;r)e.unshift("..");return e}function a(e,t){if(e.filter)return e.filter(t);for(var r=[],a=0;a<e.length;a++)t(e[a],a,e)&&r.push(e[a]);return r}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return n.exec(e).slice(1)};r.resolve=function(){for(var r="",n=!1,o=arguments.length-1,i;-1<=o&&!n;o--){if(i=0<=o?arguments[o]:e.cwd(),"string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");else if(!i)continue;r=i+"/"+r,n="/"===i.charAt(0)}return r=t(a(r.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+r||"."},r.normalize=function(e){var n=r.isAbsolute(e),i="/"===o(e,-1);return e=t(a(e.split("/"),function(e){return!!e}),!n).join("/"),e||n||(e="."),e&&i&&(e+="/"),(n?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(a(e,function(e){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},r.relative=function(e,t){function a(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;0<=r&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);for(var n=a(e.split("/")),o=a(t.split("/")),s=Math.min(n.length,o.length),l=s,d=0;d<s;d++)if(n[d]!==o[d]){l=d;break}for(var i=[],d=l;d<n.length;d++)i.push("..");return i=i.concat(o.slice(l)),i.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){var t=i(e),r=t[0],a=t[1];return r||a?(a&&(a=a.substr(0,a.length-1)),r+a):"."},r.basename=function(e,t){var r=i(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){return i(e)[3]};var o=function(e,t,r){return e.substr(t,r)}}).call(this,e("_process"))},{_process:182}],14:[function(e,t){var r=new ArrayBuffer(0),a=function(e,t,a,n){this.gl=e,this.buffer=e.createBuffer(),this.type=t||e.ARRAY_BUFFER,this.drawType=n||e.STATIC_DRAW,this.data=r,a&&this.upload(a),this._updateID=0};a.prototype.upload=function(e,t,r){r||this.bind();var a=this.gl;e=e||this.data,t=t||0,this.data.byteLength>=e.byteLength?a.bufferSubData(this.type,t,e):a.bufferData(this.type,e,this.drawType),this.data=e},a.prototype.bind=function(){var e=this.gl;e.bindBuffer(this.type,this.buffer)},a.createVertexBuffer=function(e,t,r){return new a(e,e.ARRAY_BUFFER,t,r)},a.createIndexBuffer=function(e,t,r){return new a(e,e.ELEMENT_ARRAY_BUFFER,t,r)},a.create=function(e,t,r,n){return new a(e,t,r,n)},a.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=a},{}],15:[function(e,t){var r=e("./GLTexture"),a=function(e,t,r){this.gl=e,this.framebuffer=e.createFramebuffer(),this.stencil=null,this.texture=null,this.width=t||100,this.height=r||100};a.prototype.enableTexture=function(e){var t=this.gl;this.texture=e||new r(t),this.texture.bind(),this.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture.texture,0)},a.prototype.enableStencil=function(){if(!this.stencil){var e=this.gl;this.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.stencil),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height)}},a.prototype.clear=function(e,t,r,n){this.bind();var a=this.gl;a.clearColor(e,t,r,n),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},a.prototype.bind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)},a.prototype.unbind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},a.prototype.resize=function(e,t){var r=this.gl;this.width=e,this.height=t,this.texture&&this.texture.uploadData(null,e,t),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e,t))},a.prototype.destroy=function(){var e=this.gl;this.texture&&this.texture.destroy(),e.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},a.createRGBA=function(e,t,n){var i=r.fromData(e,null,t,n);i.enableNearestScaling(),i.enableWrapClamp();var o=new a(e,t,n);return o.enableTexture(i),o.unbind(),o},a.createFloat32=function(e,t,n,i){var o=new r.fromData(e,i,t,n);o.enableNearestScaling(),o.enableWrapClamp();var s=new a(e,t,n);return s.enableTexture(o),s.unbind(),s},t.exports=a},{"./GLTexture":17}],16:[function(e,t){var r=e("./shader/compileProgram"),a=e("./shader/extractAttributes"),n=e("./shader/extractUniforms"),i=e("./shader/setPrecision"),o=e("./shader/generateUniformAccessObject"),s=function(e,t,s,l,d){this.gl=e,l&&(t=i(t,l),s=i(s,l)),this.program=r(e,t,s,d),this.attributes=a(e,this.program),this.uniformData=n(e,this.program),this.uniforms=o(e,this.uniformData)};s.prototype.bind=function(){return this.gl.useProgram(this.program),this},s.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null;var e=this.gl;e.deleteProgram(this.program)},t.exports=s},{"./shader/compileProgram":22,"./shader/extractAttributes":24,"./shader/extractUniforms":25,"./shader/generateUniformAccessObject":26,"./shader/setPrecision":30}],17:[function(e,t){var r=function(e,t,r,a,n){this.gl=e,this.texture=e.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=t||-1,this.height=r||-1,this.format=a||e.RGBA,this.type=n||e.UNSIGNED_BYTE};r.prototype.upload=function(e){this.bind();var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=e.videoWidth||e.width,a=e.videoHeight||e.height;a!==this.height||r!==this.width?t.texImage2D(t.TEXTURE_2D,0,this.format,this.format,this.type,e):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.format,this.type,e),this.width=r,this.height=a};var a=!1;r.prototype.uploadData=function(e,t,r){this.bind();var n=this.gl;if(e instanceof Float32Array){if(!a){var i=n.getExtension("OES_texture_float");if(i)a=!0;else throw new Error("floating point textures not available")}this.type=n.FLOAT}else this.type=this.type||n.UNSIGNED_BYTE;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t!==this.width||r!==this.height?n.texImage2D(n.TEXTURE_2D,0,this.format,t,r,0,this.format,this.type,e||null):n.texSubImage2D(n.TEXTURE_2D,0,0,0,t,r,this.format,this.type,e||null),this.width=t,this.height=r},r.prototype.bind=function(e){var t=this.gl;e!==void 0&&t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture)},r.prototype.unbind=function(){var e=this.gl;e.bindTexture(e.TEXTURE_2D,null)},r.prototype.minFilter=function(e){var t=this.gl;this.bind(),this.mipmap?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR:t.NEAREST)},r.prototype.magFilter=function(e){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e?t.LINEAR:t.NEAREST)},r.prototype.enableMipmap=function(){var e=this.gl;this.bind(),this.mipmap=!0,e.generateMipmap(e.TEXTURE_2D)},r.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},r.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},r.prototype.enableWrapClamp=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)},r.prototype.enableWrapRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)},r.prototype.enableWrapMirrorRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT)},r.prototype.destroy=function(){var e=this.gl;e.deleteTexture(this.texture)},r.fromSource=function(e,t,a){var n=new r(e);return n.premultiplyAlpha=a||!1,n.upload(t),n},r.fromData=function(e,t,a,n){var i=new r(e);return i.uploadData(t,a,n),i},t.exports=r},{}],18:[function(e,t){function r(e,t){if(this.nativeVaoExtension=null,r.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=t,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var a=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:Array(a),attribState:Array(a)}}this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var a=e("./setVertexAttribArrays");r.prototype.constructor=r,t.exports=r,r.FORCE_NATIVE=!1,r.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},r.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},r.prototype.activate=function(){for(var e=this.gl,t=null,r=0,n;r<this.attributes.length;r++)n=this.attributes[r],t!==n.buffer&&(n.buffer.bind(),t=n.buffer),e.vertexAttribPointer(n.attribute.location,n.attribute.size,n.type||e.FLOAT,n.normalized||!1,n.stride||0,n.start||0);return a(e,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},r.prototype.addAttribute=function(e,t,r,a,n,i){return this.attributes.push({buffer:e,attribute:t,location:t.location,type:r||this.gl.FLOAT,normalized:a||!1,stride:n||0,start:i||0}),this.dirty=!0,this},r.prototype.addIndex=function(e){return this.indexBuffer=e,this.dirty=!0,this},r.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},r.prototype.draw=function(e,t,r){var a=this.gl;return this.indexBuffer?a.drawElements(e,t||this.indexBuffer.data.length,a.UNSIGNED_SHORT,2*(r||0)):a.drawArrays(e,r,t||this.getSize()),this},r.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},r.prototype.getSize=function(){var e=this.attributes[0];return e.buffer.data.length/(e.stride/4||e.attribute.size)}},{"./setVertexAttribArrays":21}],19:[function(e,t){t.exports=function(e,t){var r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}},{}],20:[function(e,t){var r={createContext:e("./createContext"),setVertexAttribArrays:e("./setVertexAttribArrays"),GLBuffer:e("./GLBuffer"),GLFramebuffer:e("./GLFramebuffer"),GLShader:e("./GLShader"),GLTexture:e("./GLTexture"),VertexArrayObject:e("./VertexArrayObject"),shader:e("./shader")};"undefined"!=typeof t&&t.exports&&(t.exports=r),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=r)},{"./GLBuffer":14,"./GLFramebuffer":15,"./GLShader":16,"./GLTexture":17,"./VertexArrayObject":18,"./createContext":19,"./setVertexAttribArrays":21,"./shader":27}],21:[function(e,t){t.exports=function(e,t,r){var a;if(r){var n=r.tempAttribState,i=r.attribState;for(a=0;a<n.length;a++)n[a]=!1;for(a=0;a<t.length;a++)n[t[a].attribute.location]=!0;for(a=0;a<i.length;a++)i[a]!==n[a]&&(i[a]=n[a],r.attribState[a]?e.enableVertexAttribArray(a):e.disableVertexAttribArray(a))}else for(a=0;a<t.length;a++){var o=t[a];e.enableVertexAttribArray(o.attribute.location)}}},{}],22:[function(e,t){var r=function(e,t,r){var a=e.createShader(t);return e.shaderSource(a,r),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS)?a:(console.log(e.getShaderInfoLog(a)),null)};t.exports=function(e,t,a,n){var o=r(e,e.VERTEX_SHADER,t),s=r(e,e.FRAGMENT_SHADER,a),l=e.createProgram();if(e.attachShader(l,o),e.attachShader(l,s),n)for(var d in n)e.bindAttribLocation(l,n[d],d);return e.linkProgram(l),e.getProgramParameter(l,e.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(l,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(l)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(l)),e.deleteProgram(l),l=null),e.deleteShader(o),e.deleteShader(s),l}},{}],23:[function(e,t){var r=function(e){for(var t=Array(e),r=0;r<t.length;r++)t[r]=!1;return t};t.exports=function(e,t){return"float"===e?0:"vec2"===e?new Float32Array(2*t):"vec3"===e?new Float32Array(3*t):"vec4"===e?new Float32Array(4*t):"int"===e||"sampler2D"===e?0:"ivec2"===e?new Int32Array(2*t):"ivec3"===e?new Int32Array(3*t):"ivec4"===e?new Int32Array(4*t):"bool"!=e&&("bvec2"===e?r(2*t):"bvec3"===e?r(3*t):"bvec4"===e?r(4*t):"mat2"===e?new Float32Array([1,0,0,1]):"mat3"===e?new Float32Array([1,0,0,0,1,0,0,0,1]):"mat4"===e?new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]):void 0)}},{}],24:[function(e,t){var r=e("./mapType"),a=e("./mapSize"),n=function(e,t,r,a){gl.vertexAttribPointer(this.location,this.size,e||gl.FLOAT,t||!1,r||0,a||0)};t.exports=function(e,t){for(var o={},s=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),l=0;l<s;l++){var i=e.getActiveAttrib(t,l),d=r(e,i.type);o[i.name]={type:d,size:a(d),location:e.getAttribLocation(t,i.name),pointer:n}}return o}},{"./mapSize":28,"./mapType":29}],25:[function(e,t){var r=e("./mapType"),a=e("./defaultValue");t.exports=function(e,t){for(var n={},o=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),s=0;s<o;s++){var i=e.getActiveUniform(t,s),l=i.name.replace(/\[.*?\]/,""),d=r(e,i.type);n[l]={type:d,size:i.size,location:e.getUniformLocation(t,l),value:a(d,i.size)}}return n}},{"./defaultValue":23,"./mapType":29}],26:[function(e,t){function r(e,t){return function(r){this.data[e].value=r;var a=this.data[e].location;1===t.size?i[t.type](this.gl,a,r):o[t.type](this.gl,a,r)}}function a(e,t){for(var r=t,a=0,n;a<e.length-1;a++)n=r[e[a]]||{data:{}},r[e[a]]=n,r=n;return r}var n=function(e){return function(){return this.data[e].value}},i={float:function(e,t,r){e.uniform1f(t,r)},vec2:function(e,t,r){e.uniform2f(t,r[0],r[1])},vec3:function(e,t,r){e.uniform3f(t,r[0],r[1],r[2])},vec4:function(e,t,r){e.uniform4f(t,r[0],r[1],r[2],r[3])},int:function(e,t,r){e.uniform1i(t,r)},ivec2:function(e,t,r){e.uniform2i(t,r[0],r[1])},ivec3:function(e,t,r){e.uniform3i(t,r[0],r[1],r[2])},ivec4:function(e,t,r){e.uniform4i(t,r[0],r[1],r[2],r[3])},bool:function(e,t,r){e.uniform1i(t,r)},bvec2:function(e,t,r){e.uniform2i(t,r[0],r[1])},bvec3:function(e,t,r){e.uniform3i(t,r[0],r[1],r[2])},bvec4:function(e,t,r){e.uniform4i(t,r[0],r[1],r[2],r[3])},mat2:function(e,t,r){e.uniformMatrix2fv(t,!1,r)},mat3:function(e,t,r){e.uniformMatrix3fv(t,!1,r)},mat4:function(e,t,r){e.uniformMatrix4fv(t,!1,r)},sampler2D:function(e,t,r){e.uniform1i(t,r)}},o={float:function(e,t,r){e.uniform1fv(t,r)},vec2:function(e,t,r){e.uniform2fv(t,r)},vec3:function(e,t,r){e.uniform3fv(t,r)},vec4:function(e,t,r){e.uniform4fv(t,r)},int:function(e,t,r){e.uniform1iv(t,r)},ivec2:function(e,t,r){e.uniform2iv(t,r)},ivec3:function(e,t,r){e.uniform3iv(t,r)},ivec4:function(e,t,r){e.uniform4iv(t,r)},bool:function(e,t,r){e.uniform1iv(t,r)},bvec2:function(e,t,r){e.uniform2iv(t,r)},bvec3:function(e,t,r){e.uniform3iv(t,r)},bvec4:function(e,t,r){e.uniform4iv(t,r)},sampler2D:function(e,t,r){e.uniform1iv(t,r)}};t.exports=function(e,t){for(var o={data:{},gl:e},s=Object.keys(t),l=0;l<s.length;l++){var i=s[l],d=i.split("."),u=d[d.length-1],p=a(d,o),c=t[i];p.data[u]=c,p.gl=e,Object.defineProperty(p,u,{get:n(u),set:r(u,c)})}return o}},{}],27:[function(e,t){t.exports={compileProgram:e("./compileProgram"),defaultValue:e("./defaultValue"),extractAttributes:e("./extractAttributes"),extractUniforms:e("./extractUniforms"),generateUniformAccessObject:e("./generateUniformAccessObject"),setPrecision:e("./setPrecision"),mapSize:e("./mapSize"),mapType:e("./mapType")}},{"./compileProgram":22,"./defaultValue":23,"./extractAttributes":24,"./extractUniforms":25,"./generateUniformAccessObject":26,"./mapSize":28,"./mapType":29,"./setPrecision":30}],28:[function(e,t){var r={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(e){return r[e]}},{}],29:[function(e,t){var r=null,a={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=function(e,t){if(!r){var n=Object.keys(a);r={};for(var o=0,i;o<n.length;++o)i=n[o],r[e[i]]=a[i]}return r[t]}},{}],30:[function(e,t){t.exports=function(e,t){return"precision"===e.substring(0,9)?e:"precision "+t+" float;\n"+e}},{}],31:[function(e,t){var r=e("hammerjs"),a=function(e){var t=this,a=e.view,n=e.stage;t.C={recognizers:["Pan","Pinch","Press","Rotate","Swipe","Tap"]},n.name="stage";var i=a.getBoundingClientRect();t._offset={x:i.left,y:i.top},t._listeners={},t._options={},t._mc=new r.Manager(a),t._tempPoint={x:0,y:0},t._handler=function(r){t.normalizePointer(r,t._offset.x,t._offset.y),r.end=t._mc.stop.bind(t._mc,!0);for(var e=t._listeners[r.type].sort(function(e,t){return(e.instance.priority||-1)>(t.instance.priority||-1)}),a=e.length-1,n,i;0<=a;a--)if(i=e[a],!!t.isHitable(i.instance))if(i.instance.hitArea){if(i.instance.worldTransform.applyInverse(r.center,t._tempPoint),i.instance.hitArea.containsPoint(t._tempPoint)){n=i;break}else continue;}else if(i.instance.containsPoint(r.center)){n=i;break}else continue;n&&n.callback.call(n.instance,r)}};a.prototype.listen=function(e,t,r,a){var n=this;a===void 0&&(a=r,r=void 0);var o=n._listeners[t]=n._listeners[t]||[];if(r){var s=t.includes("-")?t.split("-")[0]:n.getRecognizerType(t);n._options[s]=r}for(var l={priority:e.priority||0,instance:e,callback:a},d=o.length,u=0;u<o.length;u++)if(o[u].priority>=l.priority){d=u;break}n._listeners[t]=[].concat(o.slice(0,d)).concat(l).concat(o.slice(d,o.length)),"hammer.input"===t||n._mc.get(t)||(n.isCustomEvent(t)?n.createCustomRecognizer(t):n.createRecognizer(n.getRecognizerType(t))),n._mc.handlers[t]||n._mc.on(t,n._handler)},a.prototype.getManager=function(){var e=this;return e._mc},a.prototype.setDependency=function(e,r,a){var n=this,i=n._mc.get(r),t=n._mc.get(a);i&&t&&i[e](t)},a.prototype.getRecognizerType=function(e){var t=this,r=t.isCustomEvent(e)?e.split("-").pop():e;return t.C.recognizers.find(function(e){var t=r[0].toUpperCase()+r.slice(1);return 0===t.indexOf(e)})},a.prototype.isCustomEvent=function(e){return e.includes("-")},a.prototype.getCustomName=function(e){return e.split("-").shift()},a.prototype.createRecognizer=function(e){var t=this,a=t._options[e]||{};t._mc.add(new r[e](a))},a.prototype.createCustomRecognizer=function(e){var t=this,a=t.getRecognizerType(e),n=t.getCustomName(e),i={};for(var o in t._options[n])i[o]=t._options[n][o];i.event=[n,a.toLowerCase()].join("-"),t._mc.add(new r[a](i))},a.prototype.isHitable=function(e){var t=this;return!!e.visible&&(e.parent||"stage"===e.name)&&!1!==e.hitable&&(!e.parent||t.isHitable(e.parent))},a.prototype.destroy=function(){var e=this;for(var t in e._listeners)e._mc.off(t,e._handler);e._mc.destroy(),e._mc=null,e._listeners={}},a.prototype.normalizePointer=function(t,e,r){t.center.x=t.center.x-e||0,t.center.y=t.center.y-r||0},t.exports=a},{hammerjs:8}],32:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=e("../core"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(i),s=e("ismobilejs"),l=a(s),d=e("./accessibleTarget"),u=a(d);o.utils.mixins.delayMixin(o.DisplayObject.prototype,u.default);var p=100,c=2,_=1,h=function(){function e(t){n(this,e),(l.default.tablet||l.default.phone)&&!navigator.isCocoonJS&&this.createTouchHook();var r=document.createElement("div");r.style.width=p+"px",r.style.height=p+"px",r.style.position="absolute",r.style.top=0+"px",r.style.left=0+"px",r.style.zIndex=c,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return e.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width=_+"px",t.style.height=_+"px",t.style.position="absolute",t.style.top=-1e3+"px",t.style.left=-1e3+"px",t.style.zIndex=2,t.style.backgroundColor="#FF0000",t.title="HOOK DIV",t.addEventListener("focus",function(){e.isMobileAccessabillity=!0,e.activate(),document.body.removeChild(t)}),document.body.appendChild(t)},e.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){!this.isActive||this.isMobileAccessabillity||(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible){e.accessible&&e.interactive&&(!e._accessibleActive&&this.addChild(e),e.renderId=this.renderId);for(var t=e.children,r=t.length-1;0<=r;r--)this.updateAccessibleObjects(t[r])}},e.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),t=e.width/this.renderer.width,r=e.height/this.renderer.height,a=this.div;a.style.left=e.left+"px",a.style.top=e.top+"px",a.style.width=this.renderer.width+"px",a.style.height=this.renderer.height+"px";for(var n=0,i;n<this.children.length;n++)if(i=this.children[n],i.renderId!==this.renderId)i._accessibleActive=!1,o.utils.removeItems(this.children,n,1),this.div.removeChild(i._accessibleDiv),this.pool.push(i._accessibleDiv),i._accessibleDiv=null,n--,0===this.children.length&&this.deactivate();else{a=i._accessibleDiv;var s=i.hitArea,l=i.worldTransform;i.hitArea?(a.style.left=(l.tx+s.x*l.a)*t+"px",a.style.top=(l.ty+s.y*l.d)*r+"px",a.style.width=s.width*l.a*t+"px",a.style.height=s.height*l.d*r+"px"):(s=i.getBounds(),this.capHitArea(s),a.style.left=s.x*t+"px",a.style.top=s.y*r+"px",a.style.width=s.width*t+"px",a.style.height=s.height*r+"px")}this.renderId++}},e.prototype.capHitArea=function(e){0>e.x&&(e.width+=e.x,e.x=0),0>e.y&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=p+"px",t.style.height=p+"px",t.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=c,t.style.borderStyle="none",t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),e.accessibleTitle?t.title=e.accessibleTitle:!e.accessibleTitle&&!e.accessibleHint&&(t.title="displayObject "+this.tabIndex),e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},e.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},e.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},e.prototype._onKeyDown=function(t){t.keyCode!==9||this.activate()},e.prototype._onMouseMove=function(){this.deactivate()},e.prototype.destroy=function(){this.div=null;for(var e=0;e<this.children.length;e++)this.children[e].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();r.default=h,o.WebGLRenderer.registerPlugin("accessibility",h),o.CanvasRenderer.registerPlugin("accessibility",h)},{"../core":57,"./accessibleTarget":33,ismobilejs:9}],33:[function(e,t,r){"use strict";r.__esModule=!0,r.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],34:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var n=e("./accessibleTarget");Object.defineProperty(r,"accessibleTarget",{enumerable:!0,get:function(){return a(n).default}});var i=e("./AccessibilityManager");Object.defineProperty(r,"AccessibilityManager",{enumerable:!0,get:function(){return a(i).default}})},{"./AccessibilityManager":32,"./accessibleTarget":33}],35:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=e("./autoDetectRenderer"),s=e("./display/Container"),l=a(s),d=e("./ticker"),u=e("./settings"),p=a(u),c=e("./const"),_=function(){function e(t,r,a,i,s){n(this,e),"number"==typeof t&&(t=Object.assign({width:t,height:r||p.default.RENDER_OPTIONS.height,forceCanvas:!!i,sharedTicker:!!s},a)),this._options=t=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},t),this.renderer=(0,o.autoDetectRenderer)(t),this.stage=new l.default,this._ticker=null,this.ticker=t.sharedTicker?d.shared:new d.Ticker,t.autoStart&&this.start()}return e.prototype.render=function(){this.renderer.render(this.stage)},e.prototype.stop=function(){this._ticker.stop()},e.prototype.start=function(){this._ticker.start()},e.prototype.destroy=function(e){var t=this._ticker;this.ticker=null,t.destroy(),this.stage.destroy(),this.stage=null,this.renderer.destroy(e),this.renderer=null,this._options=null},i(e,[{key:"ticker",set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,c.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),e}();r.default=_},{"./autoDetectRenderer":37,"./const":38,"./display/Container":40,"./settings":93,"./ticker":113}],36:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(e instanceof Array){if("precision"!==e[0].substring(0,9)){var r=e.slice(0);return r.unshift("precision "+t+" float;"),r}}else if("precision"!==e.substring(0,9))return"precision "+t+" float;\n"+e;return e}r.__esModule=!0;var s=e("pixi-gl-core"),l=e("./settings"),d=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(r,i,s){return a(this,t),n(this,e.call(this,r,o(i,d.default.PRECISION_VERTEX),o(s,d.default.PRECISION_FRAGMENT)))}return i(t,e),t}(s.GLShader);r.default=u},{"./settings":93,"pixi-gl-core":20}],37:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0,r.autoDetectRenderer=function(e,t,r,a){var n=e&&e.forceCanvas;return void 0!==a&&(n=a),!n&&i.isWebGLSupported()?new d.default(e,t,r):new s.default(e,t,r)};var n=e("./utils"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n),o=e("./renderers/canvas/CanvasRenderer"),s=a(o),l=e("./renderers/webgl/WebGLRenderer"),d=a(l)},{"./renderers/canvas/CanvasRenderer":69,"./renderers/webgl/WebGLRenderer":76,"./utils":117}],38:[function(e,t,r){"use strict";var a=Math.PI;r.__esModule=!0;var n=r.VERSION="4.6.2",i=r.PI_2=2*a,o=r.RAD_TO_DEG=180/a,s=r.DEG_TO_RAD=a/180,l=r.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},d=r.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},u=r.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},p=r.SCALE_MODES={LINEAR:0,NEAREST:1},c=r.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},_=r.GC_MODES={AUTO:0,MANUAL:1},h=r.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,f=r.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,g=r.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,m=r.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},y=r.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},x=r.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},T=r.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},b=r.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},{}],39:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=Math.min,i=Math.max;r.__esModule=!0;var o=e("../math"),s=function(){function e(){a(this,e),this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity,this.rect=null}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.updateID++,this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?o.Rectangle.EMPTY:(e=e||new o.Rectangle(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=n(this.minX,e.x),this.maxX=i(this.maxX,e.x),this.minY=n(this.minY,e.y),this.maxY=i(this.maxY,e.y)},e.prototype.addQuad=function(e){var t=this.minX,r=this.minY,a=this.maxX,n=this.maxY,i=e[0],o=e[1];t=i<t?i:t,r=o<r?o:r,a=i>a?i:a,n=o>n?o:n,i=e[2],o=e[3],t=i<t?i:t,r=o<r?o:r,a=i>a?i:a,n=o>n?o:n,i=e[4],o=e[5],t=i<t?i:t,r=o<r?o:r,a=i>a?i:a,n=o>n?o:n,i=e[6],o=e[7],t=i<t?i:t,r=o<r?o:r,a=i>a?i:a,n=o>n?o:n,this.minX=t,this.minY=r,this.maxX=a,this.maxY=n},e.prototype.addFrame=function(e,t,r,n,i){var o=e.worldTransform,s=o.a,a=o.b,l=o.c,u=o.d,d=o.tx,p=o.ty,c=this.minX,_=this.minY,h=this.maxX,f=this.maxY,g=s*t+l*r+d,m=a*t+u*r+p;c=g<c?g:c,_=m<_?m:_,h=g>h?g:h,f=m>f?m:f,g=s*n+l*r+d,m=a*n+u*r+p,c=g<c?g:c,_=m<_?m:_,h=g>h?g:h,f=m>f?m:f,g=s*t+l*i+d,m=a*t+u*i+p,c=g<c?g:c,_=m<_?m:_,h=g>h?g:h,f=m>f?m:f,g=s*n+l*i+d,m=a*n+u*i+p,c=g<c?g:c,_=m<_?m:_,h=g>h?g:h,f=m>f?m:f,this.minX=c,this.minY=_,this.maxX=h,this.maxY=f},e.prototype.addVertices=function(e,t,r,n){for(var o=e.worldTransform,s=o.a,a=o.b,l=o.c,u=o.d,d=o.tx,p=o.ty,c=this.minX,_=this.minY,h=this.maxX,f=this.maxY,g=r;g<n;g+=2){var i=t[g],m=t[g+1],T=s*i+l*m+d,x=u*m+a*i+p;c=T<c?T:c,_=x<_?x:_,h=T>h?T:h,f=x>f?x:f}this.minX=c,this.minY=_,this.maxX=h,this.maxY=f},e.prototype.addBounds=function(e){var t=this.minX,r=this.minY,a=this.maxX,n=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>a?e.maxX:a,this.maxY=e.maxY>n?e.maxY:n},e.prototype.addBoundsMask=function(e,t){var r=e.minX>t.minX?e.minX:t.minX,a=e.minY>t.minY?e.minY:t.minY,n=e.maxX<t.maxX?e.maxX:t.maxX,i=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=n&&a<=i){var o=this.minX,s=this.minY,l=this.maxX,d=this.maxY;this.minX=r<o?r:o,this.minY=a<s?a:s,this.maxX=n>l?n:l,this.maxY=i>d?i:d}},e.prototype.addBoundsArea=function(e,t){var r=e.minX>t.x?e.minX:t.x,a=e.minY>t.y?e.minY:t.y,n=e.maxX<t.x+t.width?e.maxX:t.x+t.width,i=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=n&&a<=i){var o=this.minX,s=this.minY,l=this.maxX,d=this.maxY;this.minX=r<o?r:o,this.minY=a<s?a:s,this.maxX=n>l?n:l,this.maxY=i>d?i:d}},e}();r.default=s},{"../math":62}],40:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=e("../utils"),l=e("./DisplayObject"),d=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(){a(this,t);var r=n(this,e.call(this));return r.children=[],r}return i(t,e),t.prototype.onChildrenChange=function(){},t.prototype.addChild=function(e){var t=arguments.length;if(1<t)for(var r=0;r<t;r++)this.addChild(arguments[r]);else e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),e.emit("added",this);return e},t.prototype.addChildAt=function(e,t){if(0>t||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),e},t.prototype.swapChildren=function(e,t){if(e!==t){var r=this.getChildIndex(e),a=this.getChildIndex(t);this.children[r]=t,this.children[a]=e,this.onChildrenChange(r<a?r:a)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(0>t||t>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(e);(0,s.removeItems)(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(0>e||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(e){var t=arguments.length;if(1<t)for(var r=0;r<t;r++)this.removeChild(arguments[r]);else{var a=this.children.indexOf(e);if(-1===a)return null;e.parent=null,e.transform._parentID=-1,(0,s.removeItems)(this.children,a,1),this._boundsID++,this.onChildrenChange(a),e.emit("removed",this)}return e},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,(0,s.removeItems)(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),t},t.prototype.removeChildren=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],r=e,a="number"==typeof t?t:this.children.length,n=a-r,o;if(0<n&&n<=a){o=this.children.splice(r,n);for(var s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var i=0;i<o.length;++i)o[i].emit("removed",this);return o}if(0==n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length,r;e<t;++e)r=this.children[e],r.visible&&r.updateTransform()},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0,t;e<this.children.length;e++)(t=this.children[e],t.visible&&t.renderable)&&(t.calculateBounds(),t._mask?(t._mask.calculateBounds(),this._bounds.addBoundsMask(t._bounds,t._mask._bounds)):t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds));this._lastBoundsID=this._boundsID},t.prototype._calculateBounds=function(){},t.prototype.renderWebGL=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(e);else{this._renderWebGL(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].renderWebGL(e)}},t.prototype.renderAdvancedWebGL=function(e){e.flush();var t=this._filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<t.length;a++)t[a].enabled&&this._enabledFilters.push(t[a]);this._enabledFilters.length&&e.filterManager.pushFilter(this,this._enabledFilters)}r&&e.maskManager.pushMask(this,this._mask),this._renderWebGL(e);for(var n=0,i=this.children.length;n<i;n++)this.children[n].renderWebGL(e);e.flush(),r&&e.maskManager.popMask(this,this._mask),t&&this._enabledFilters&&this._enabledFilters.length&&e.filterManager.popFilter()},t.prototype._renderWebGL=function(){},t.prototype._renderCanvas=function(){},t.prototype.renderCanvas=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask),this._renderCanvas(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},t.prototype.destroy=function(t){e.prototype.destroy.call(this);var r="boolean"==typeof t?t:t&&t.children,a=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<a.length;++n)a[n].destroy(t)},o(t,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0===t?1:e/t,this._width=e}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0===t?1:e/t,this._height=e}}]),t}(d.default);r.default=u,u.prototype.containerUpdateTransform=u.prototype.updateTransform},{"../utils":117,"./DisplayObject":41}],41:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=e("eventemitter3"),d=a(l),u=e("../const"),p=e("../settings"),c=a(p),_=e("./TransformStatic"),h=a(_),f=e("./Transform"),g=a(f),m=e("./Bounds"),y=a(m),x=e("../math"),T=function(e){function t(){n(this,t);var r=i(this,e.call(this)),a=c.default.TRANSFORM_MODE===u.TRANSFORM_MODE.STATIC?h.default:g.default;return r.tempDisplayObjectParent=null,r.transform=new a,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new y.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return o(t,e),t.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),t||(!this._boundsRect&&(this._boundsRect=new x.Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){var t=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,e||(!this._localBoundsRect&&(this._localBoundsRect=new x.Rectangle),e=this._localBoundsRect);var a=this.getBounds(!1,e);return this.parent=r,this.transform=t,a},t.prototype.toGlobal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,r,a){return t&&(e=t.toGlobal(e,r,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)},t.prototype.renderWebGL=function(){},t.prototype.renderCanvas=function(){},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,o=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,l=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=t,this.scale.x=r?r:1,this.scale.y=a?a:1,this.rotation=n,this.skew.x=i,this.skew.y=o,this.pivot.x=s,this.pivot.y=l,this},t.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},s(t,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new t),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(e){this.transform.position.x=e}},{key:"y",get:function(){return this.position.y},set:function(e){this.transform.position.y=e}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(e){this.transform.position.copy(e)}},{key:"scale",get:function(){return this.transform.scale},set:function(e){this.transform.scale.copy(e)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copy(e)}},{key:"skew",get:function(){return this.transform.skew},set:function(e){this.transform.skew.copy(e)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e}},{key:"worldVisible",get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}},{key:"mask",get:function(){return this._mask},set:function(e){this._mask&&(this._mask.renderable=!0),this._mask=e,this._mask&&(this._mask.renderable=!1)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(e){this._filters=e&&e.slice()}}]),t}(d.default);r.default=T,T.prototype.displayObjectUpdateTransform=T.prototype.updateTransform},{"../const":38,"../math":62,"../settings":93,"./Bounds":39,"./Transform":42,"./TransformStatic":44,eventemitter3:181}],42:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=Math.sin,s=Math.cos;r.__esModule=!0;var l=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=e("../math"),u=e("./TransformBase"),p=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){a(this,t);var r=n(this,e.call(this));return r.position=new d.Point(0,0),r.scale=new d.Point(1,1),r.skew=new d.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new d.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return i(t,e),t.prototype.updateSkew=function(){this._cx=s(this._rotation+this.skew._y),this._sx=o(this._rotation+this.skew._y),this._cy=-o(this._rotation-this.skew._x),this._sy=s(this._rotation-this.skew._x)},t.prototype.updateLocalTransform=function(){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d)},t.prototype.updateTransform=function(e){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d);var r=e.worldTransform,a=this.worldTransform;a.a=t.a*r.a+t.b*r.c,a.b=t.a*r.b+t.b*r.d,a.c=t.c*r.a+t.d*r.c,a.d=t.c*r.b+t.d*r.d,a.tx=t.tx*r.a+t.ty*r.c+r.tx,a.ty=t.tx*r.b+t.ty*r.d+r.ty,this._worldID++},t.prototype.setFromMatrix=function(e){e.decompose(this)},l(t,[{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation=e,this.updateSkew()}}]),t}(p.default);r.default=c},{"../math":62,"./TransformBase":43}],43:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=e("../math"),i=function(){function e(){a(this,e),this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}return e.prototype.updateLocalTransform=function(){},e.prototype.updateTransform=function(e){var t=e.worldTransform,r=this.worldTransform,a=this.localTransform;r.a=a.a*t.a+a.b*t.c,r.b=a.a*t.b+a.b*t.d,r.c=a.c*t.a+a.d*t.c,r.d=a.c*t.b+a.d*t.d,r.tx=a.tx*t.a+a.ty*t.c+t.tx,r.ty=a.tx*t.b+a.ty*t.d+t.ty,this._worldID++},e}();r.default=i,i.prototype.updateWorldTransform=i.prototype.updateTransform,i.IDENTITY=new i},{"../math":62}],44:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=Math.sin,s=Math.cos;r.__esModule=!0;var l=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=e("../math"),u=e("./TransformBase"),p=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){a(this,t);var r=n(this,e.call(this));return r.position=new d.ObservablePoint(r.onChange,r,0,0),r.scale=new d.ObservablePoint(r.onChange,r,1,1),r.pivot=new d.ObservablePoint(r.onChange,r,0,0),r.skew=new d.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return i(t,e),t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=s(this._rotation+this.skew._y),this._sx=o(this._rotation+this.skew._y),this._cy=-o(this._rotation-this.skew._x),this._sy=s(this._rotation-this.skew._x),this._localID++},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var r=e.worldTransform,a=this.worldTransform;a.a=t.a*r.a+t.b*r.c,a.b=t.a*r.b+t.b*r.d,a.c=t.c*r.a+t.d*r.c,a.d=t.c*r.b+t.d*r.d,a.tx=t.tx*r.a+t.ty*r.c+r.tx,a.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},l(t,[{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation=e,this.updateSkew()}}]),t}(p.default);r.default=c},{"../math":62,"./TransformBase":43}],45:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.atan2,l=Math.sqrt,d=Math.PI,u=Math.abs,p=Math.sin,_=Math.cos;r.__esModule=!0;var c=e("../display/Container"),h=a(c),f=e("../textures/RenderTexture"),g=a(f),m=e("../textures/Texture"),y=a(m),x=e("./GraphicsData"),T=a(x),b=e("../sprites/Sprite"),v=a(b),E=e("../math"),P=e("../utils"),S=e("../const"),C=e("../display/Bounds"),O=a(C),R=e("./utils/bezierCurveTo"),w=a(R),A=e("../renderers/canvas/CanvasRenderer"),M=a(A),D=new E.Matrix,I=new E.Point,k=new Float32Array(4),L=new Float32Array(4),N=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]&&arguments[0];n(this,t);var a=i(this,e.call(this));return a.fillAlpha=1,a.lineWidth=0,a.nativeLines=r,a.lineColor=0,a.graphicsData=[],a.tint=16777215,a._prevTint=16777215,a.blendMode=S.BLEND_MODES.NORMAL,a.currentPath=null,a._webGL={},a.isMask=!1,a.boundsPadding=0,a._localBounds=new O.default,a.dirty=0,a.fastRectDirty=-1,a.clearDirty=0,a.boundsDirty=-1,a.cachedSpriteDirty=!1,a._spriteRect=null,a._fastRect=!1,a}return o(t,e),t.prototype.clone=function(){var e=new t;e.renderable=this.renderable,e.fillAlpha=this.fillAlpha,e.lineWidth=this.lineWidth,e.lineColor=this.lineColor,e.tint=this.tint,e.blendMode=this.blendMode,e.isMask=this.isMask,e.boundsPadding=this.boundsPadding,e.dirty=0,e.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)e.graphicsData.push(this.graphicsData[r].clone());return e.currentPath=e.graphicsData[e.graphicsData.length-1],e.updateLocalBounds(),e},t.prototype.lineStyle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=e,this.lineColor=t,this.lineAlpha=r,this.currentPath)if(this.currentPath.shape.points.length){var a=new E.Polygon(this.currentPath.shape.points.slice(-2));a.closed=!1,this.drawShape(a)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},t.prototype.moveTo=function(e,t){var r=new E.Polygon([e,t]);return r.closed=!1,this.drawShape(r),this},t.prototype.lineTo=function(e,t){return this.currentPath.shape.points.push(e,t),this.dirty++,this},t.prototype.quadraticCurveTo=function(e,t,r,a){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=20,n=this.currentPath.shape.points,s=0,l=0;0===n.length&&this.moveTo(0,0);for(var d=n[n.length-2],u=n[n.length-1],p=1,i;p<=o;++p)i=p/o,s=d+(e-d)*i,l=u+(t-u)*i,n.push(s+(e+(r-e)*i-s)*i,l+(t+(a-t)*i-l)*i);return this.dirty++,this},t.prototype.bezierCurveTo=function(e,t,r,a,n,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,s=o[o.length-2],l=o[o.length-1];return o.length-=2,(0,w.default)(s,l,e,t,r,a,n,i,o),this.dirty++,this},t.prototype.arcTo=function(e,t,r,a,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(e,t):this.moveTo(e,t);var i=this.currentPath.shape.points,o=i[i.length-2],d=i[i.length-1],p=d-t,c=o-e,_=a-t,h=r-e,f=u(p*h-c*_);if(1e-8>f||0===n)(i[i.length-2]!==e||i[i.length-1]!==t)&&i.push(e,t);else{var g=p*p+c*c,m=_*_+h*h,y=p*_+c*h,x=n*l(g)/f,T=n*l(m)/f,b=x*y/g,v=T*y/m,E=x*h+T*c,P=x*_+T*p,S=s(p*(T+b)-P,c*(T+b)-E),C=s(_*(x+v)-P,h*(x+v)-E);this.arc(E+e,P+t,n,S,C,c*_>h*p)}return this.dirty++,this},t.prototype.arc=function(e,t,r,a,n){var o=5<arguments.length&&void 0!==arguments[5]&&arguments[5];if(a===n)return this;!o&&n<=a?n+=2*d:o&&a<=n&&(a+=2*d);var l=n-a,h=40*Math.ceil(u(l)/(2*d));if(0==l)return this;var f=e+_(a)*r,g=t+p(a)*r,m=this.currentPath?this.currentPath.shape.points:null;m?(m[m.length-2]!==f||m[m.length-1]!==g)&&m.push(f,g):(this.moveTo(f,g),m=this.currentPath.shape.points);for(var y=l/(2*h),x=_(y),T=p(y),b=h-1,v=0;v<=b;++v){var i=v+b%1/b*v,E=y+a+2*y*i,P=_(E),c=-p(E);m.push((x*P+T*c)*r+e,(x*-c+T*P)*r+t)}return this.dirty++,this},t.prototype.beginFill=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=e,this.fillAlpha=t,this.currentPath&&2>=this.currentPath.shape.points.length&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},t.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},t.prototype.drawRect=function(e,t,r,a){return this.drawShape(new E.Rectangle(e,t,r,a)),this},t.prototype.drawRoundedRect=function(e,t,r,a,n){return this.drawShape(new E.RoundedRectangle(e,t,r,a,n)),this},t.prototype.drawCircle=function(e,t,r){return this.drawShape(new E.Circle(e,t,r)),this},t.prototype.drawEllipse=function(e,t,r,a){return this.drawShape(new E.Ellipse(e,t,r,a)),this},t.prototype.drawPolygon=function(e){var t=e,r=!0;if(t instanceof E.Polygon&&(r=t.closed,t=t.points),!Array.isArray(t)){t=Array(arguments.length);for(var a=0;a<t.length;++a)t[a]=arguments[a]}var n=new E.Polygon(t);return n.closed=r,this.drawShape(n),this},t.prototype.clear=function(){return(this.lineWidth||this.filling||0<this.graphicsData.length)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},t.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===S.SHAPES.RECT&&!this.graphicsData[0].lineWidth},t.prototype._renderWebGL=function(e){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(e):(e.setObjectRenderer(e.plugins.graphics),e.plugins.graphics.render(this))},t.prototype._renderSpriteRect=function(e){var t=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new v.default(new y.default(y.default.WHITE)));var r=this._spriteRect;if(16777215===this.tint)r.tint=this.graphicsData[0].fillColor;else{var a=k,n=L;(0,P.hex2rgb)(this.graphicsData[0].fillColor,a),(0,P.hex2rgb)(this.tint,n),a[0]*=n[0],a[1]*=n[1],a[2]*=n[2],r.tint=(0,P.rgb2hex)(a)}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=t.width,r._texture._frame.height=t.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-t.x/t.width,-t.y/t.height),r._onAnchorUpdate(),r._renderWebGL(e)},t.prototype._renderCanvas=function(e){!0===this.isMask||e.plugins.graphics.render(this)},t.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var e=this._localBounds;this._bounds.addFrame(this.transform,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,I);for(var t=this.graphicsData,r=0,a;r<t.length;++r)if((a=t[r],!!a.fill)&&a.shape&&a.shape.contains(I.x,I.y)){if(a.holes)for(var n=0,i;n<a.holes.length;n++)if(i=a.holes[n],i.contains(I.x,I.y))return!1;return!0}return!1},t.prototype.updateLocalBounds=function(){var e=Infinity,t=-Infinity,r=Infinity,a=-Infinity;if(this.graphicsData.length)for(var n=0,o=0,s=0,d=0,p=0,c=0;c<this.graphicsData.length;c++){var i=this.graphicsData[c],_=i.type,h=i.lineWidth;if(n=i.shape,_===S.SHAPES.RECT||_===S.SHAPES.RREC)o=n.x-h/2,s=n.y-h/2,d=n.width+h,p=n.height+h,e=o<e?o:e,t=o+d>t?o+d:t,r=s<r?s:r,a=s+p>a?s+p:a;else if(_===S.SHAPES.CIRC)o=n.x,s=n.y,d=n.radius+h/2,p=n.radius+h/2,e=o-d<e?o-d:e,t=o+d>t?o+d:t,r=s-p<r?s-p:r,a=s+p>a?s+p:a;else if(_===S.SHAPES.ELIP)o=n.x,s=n.y,d=n.width+h/2,p=n.height+h/2,e=o-d<e?o-d:e,t=o+d>t?o+d:t,r=s-p<r?s-p:r,a=s+p>a?s+p:a;else for(var f=n.points,g=0,m=0,y=0,x=0,T=0,b=0,v=0,E=0,P=0;P+2<f.length;P+=2)(o=f[P],s=f[P+1],g=f[P+2],m=f[P+3],y=u(g-o),x=u(m-s),p=h,d=l(y*y+x*x),!(1e-9>d))&&(T=(p/d*x+y)/2,b=(p/d*y+x)/2,v=(g+o)/2,E=(m+s)/2,e=v-T<e?v-T:e,t=v+T>t?v+T:t,r=E-b<r?E-b:r,a=E+b>a?E+b:a)}else e=0,t=0,r=0,a=0;var C=this.boundsPadding;this._localBounds.minX=e-C,this._localBounds.maxX=t+C,this._localBounds.minY=r-C,this._localBounds.maxY=a+C},t.prototype.drawShape=function(e){this.currentPath&&2>=this.currentPath.shape.points.length&&this.graphicsData.pop(),this.currentPath=null;var t=new T.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,e);return this.graphicsData.push(t),t.type===S.SHAPES.POLY&&(t.shape.closed=t.shape.closed||this.filling,this.currentPath=t),this.dirty++,t},t.prototype.generateCanvasTexture=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),a=g.default.create(r.width,r.height,e,t);B||(B=new M.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(D),D.invert(),D.tx-=r.x,D.ty-=r.y,B.render(this,a,!0,D);var n=y.default.fromCanvas(a.baseTexture._canvasRenderTarget.canvas,e,"graphics");return n.baseTexture.resolution=t,n.baseTexture.update(),n},t.prototype.closePath=function(){var e=this.currentPath;return e&&e.shape&&e.shape.close(),this},t.prototype.addHole=function(){var e=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(e.shape),this.currentPath=null,this},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var a in this._webgl)for(var n=0;n<this._webgl[a].data.length;++n)this._webgl[a].data[n].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},t}(h.default),B;r.default=N,N._SPRITE_TEXTURE=null},{"../const":38,"../display/Bounds":39,"../display/Container":40,"../math":62,"../renderers/canvas/CanvasRenderer":69,"../sprites/Sprite":94,"../textures/RenderTexture":105,"../textures/Texture":107,"../utils":117,"./GraphicsData":46,"./utils/bezierCurveTo":48}],46:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=function(){function e(t,r,n,i,o,s,l,d){a(this,e),this.lineWidth=t,this.nativeLines=l,this.lineColor=r,this.lineAlpha=n,this._lineTint=r,this.fillColor=i,this.fillAlpha=o,this._fillTint=i,this.fill=s,this.holes=[],this.shape=d,this.type=d.type}return e.prototype.clone=function(){return new e(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},e.prototype.addHole=function(e){this.holes.push(e)},e.prototype.destroy=function(){this.shape=null,this.holes=null},e}();r.default=n},{}],47:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=e("../../renderers/canvas/CanvasRenderer"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=e("../../const"),s=function(){function e(t){a(this,e),this.renderer=t}return e.prototype.render=function(e){var t=this.renderer,r=t.context,a=e.worldAlpha,n=e.transform.worldTransform,s=t.resolution;this._prevTint!==this.tint&&(this.dirty=!0),r.setTransform(n.a*s,n.b*s,n.c*s,n.d*s,n.tx*s,n.ty*s),e.dirty&&(this.updateGraphicsTint(e),e.dirty=!1),t.setBlendMode(e.blendMode);for(var l=0;l<e.graphicsData.length;l++){var i=e.graphicsData[l],d=i.shape,u=i._fillTint,p=i._lineTint;if(r.lineWidth=i.lineWidth,i.type===o.SHAPES.POLY){r.beginPath(),this.renderPolygon(d.points,d.closed,r);for(var c=0;c<i.holes.length;c++)this.renderPolygon(i.holes[c].points,!0,r);i.fill&&(r.globalAlpha=i.fillAlpha*a,r.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.fill()),i.lineWidth&&(r.globalAlpha=i.lineAlpha*a,r.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),r.stroke())}else if(i.type===o.SHAPES.RECT)(i.fillColor||0===i.fillColor)&&(r.globalAlpha=i.fillAlpha*a,r.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.fillRect(d.x,d.y,d.width,d.height)),i.lineWidth&&(r.globalAlpha=i.lineAlpha*a,r.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),r.strokeRect(d.x,d.y,d.width,d.height));else if(i.type===o.SHAPES.CIRC)r.beginPath(),r.arc(d.x,d.y,d.radius,0,2*Math.PI),r.closePath(),i.fill&&(r.globalAlpha=i.fillAlpha*a,r.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.fill()),i.lineWidth&&(r.globalAlpha=i.lineAlpha*a,r.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),r.stroke());else if(i.type===o.SHAPES.ELIP){var _=2*d.width,f=2*d.height,h=d.x-_/2,g=d.y-f/2;r.beginPath();var m=0.5522848,y=_/2*m,x=f/2*m,T=h+_,b=g+f,v=h+_/2,E=g+f/2;r.moveTo(h,E),r.bezierCurveTo(h,E-x,v-y,g,v,g),r.bezierCurveTo(v+y,g,T,E-x,T,E),r.bezierCurveTo(T,E+x,v+y,b,v,b),r.bezierCurveTo(v-y,b,h,E+x,h,E),r.closePath(),i.fill&&(r.globalAlpha=i.fillAlpha*a,r.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.fill()),i.lineWidth&&(r.globalAlpha=i.lineAlpha*a,r.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),r.stroke())}else if(i.type===o.SHAPES.RREC){var P=d.x,S=d.y,C=d.width,O=d.height,R=d.radius,w=0|Math.min(C,O)/2;R=R>w?w:R,r.beginPath(),r.moveTo(P,S+R),r.lineTo(P,S+O-R),r.quadraticCurveTo(P,S+O,P+R,S+O),r.lineTo(P+C-R,S+O),r.quadraticCurveTo(P+C,S+O,P+C,S+O-R),r.lineTo(P+C,S+R),r.quadraticCurveTo(P+C,S,P+C-R,S),r.lineTo(P+R,S),r.quadraticCurveTo(P,S,P,S+R),r.closePath(),(i.fillColor||0===i.fillColor)&&(r.globalAlpha=i.fillAlpha*a,r.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.fill()),i.lineWidth&&(r.globalAlpha=i.lineAlpha*a,r.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),r.stroke())}}},e.prototype.updateGraphicsTint=function(e){e._prevTint=e.tint;for(var t=(255&e.tint>>16)/255,r=(255&e.tint>>8)/255,a=(255&e.tint)/255,n=0;n<e.graphicsData.length;++n){var i=e.graphicsData[n],o=0|i.fillColor,s=0|i.lineColor;i._fillTint=(255*((255&o>>16)/255*t)<<16)+(255*((255&o>>8)/255*r)<<8)+255*((255&o)/255*a),i._lineTint=(255*((255&s>>16)/255*t)<<16)+(255*((255&s>>8)/255*r)<<8)+255*((255&s)/255*a)}},e.prototype.renderPolygon=function(e,t,r){r.moveTo(e[0],e[1]);for(var a=1;a<e.length/2;++a)r.lineTo(e[2*a],e[2*a+1]);t&&r.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();r.default=s,i.default.registerPlugin("graphics",s)},{"../../const":38,"../../renderers/canvas/CanvasRenderer":69}],48:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e,t,r,a,o,s,l,d){var u=8<arguments.length&&arguments[8]!==void 0?arguments[8]:[],p=20,n=0,c=0,_=0,h=0,f=0;u.push(e,t);for(var g=1,i=0;g<=p;++g)i=g/p,n=1-i,c=n*n,_=c*n,h=i*i,f=h*i,u.push(_*e+3*c*i*r+3*n*h*o+f*l,_*t+3*c*i*a+3*n*h*s+f*d);return u}},{}],49:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e("../../utils"),l=e("../../const"),d=e("../../renderers/webgl/utils/ObjectRenderer"),u=a(d),p=e("../../renderers/webgl/WebGLRenderer"),c=a(p),_=e("./WebGLGraphicsData"),h=a(_),f=e("./shaders/PrimitiveShader"),g=a(f),m=e("./utils/buildPoly"),y=a(m),x=e("./utils/buildRectangle"),T=a(x),b=e("./utils/buildRoundedRectangle"),v=a(b),E=e("./utils/buildCircle"),P=a(E),S=function(e){function t(r){n(this,t);var a=i(this,e.call(this,r));return a.graphicsDataPool=[],a.primitiveShader=null,a.gl=r.gl,a.CONTEXT_UID=0,a}return o(t,e),t.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new g.default(this.gl)},t.prototype.destroy=function(){u.default.prototype.destroy.call(this);for(var e=0;e<this.graphicsDataPool.length;++e)this.graphicsDataPool[e].destroy();this.graphicsDataPool=null},t.prototype.render=function(e){var t=this.renderer,r=t.gl,a=e._webGL[this.CONTEXT_UID],o;a&&e.dirty===a.dirty||(this.updateGraphics(e),a=e._webGL[this.CONTEXT_UID]);var l=this.primitiveShader;t.bindShader(l),t.state.setBlendMode(e.blendMode);for(var d=0,i=a.data.length;d<i;d++){o=a.data[d];var n=o.shader;t.bindShader(n),n.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),n.uniforms.tint=(0,s.hex2rgb)(e.tint),n.uniforms.alpha=e.worldAlpha,t.bindVao(o.vao),o.nativeLines?r.drawArrays(r.LINES,0,o.points.length/6):o.vao.draw(r.TRIANGLE_STRIP,o.indices.length)}},t.prototype.updateGraphics=function(e){var t=this.renderer.gl,r=e._webGL[this.CONTEXT_UID];if(r||(r=e._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:t,clearDirty:-1,dirty:-1}),r.dirty=e.dirty,e.clearDirty!==r.clearDirty){r.clearDirty=e.clearDirty;for(var a=0;a<r.data.length;a++)this.graphicsDataPool.push(r.data[a]);r.data.length=0,r.lastIndex=0}for(var n=void 0,i=void 0,o=r.lastIndex,s;o<e.graphicsData.length;o++)s=e.graphicsData[o],n=this.getWebGLData(r,0),s.nativeLines&&s.lineWidth&&(i=this.getWebGLData(r,0,!0),r.lastIndex++),s.type===l.SHAPES.POLY&&(0,y.default)(s,n,i),s.type===l.SHAPES.RECT?(0,T.default)(s,n,i):s.type===l.SHAPES.CIRC||s.type===l.SHAPES.ELIP?(0,P.default)(s,n,i):s.type===l.SHAPES.RREC&&(0,v.default)(s,n,i),r.lastIndex++;this.renderer.bindVao(null);for(var d=0;d<r.data.length;d++)n=r.data[d],n.dirty&&n.upload()},t.prototype.getWebGLData=function(e,t,r){var a=e.data[e.data.length-1];return(!a||a.nativeLines!==r||3.2e5<a.points.length)&&(a=this.graphicsDataPool.pop()||new h.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),a.nativeLines=r,a.reset(t),e.data.push(a)),a.dirty=!0,a},t}(u.default);r.default=S,c.default.registerPlugin("graphics",S)},{"../../const":38,"../../renderers/webgl/WebGLRenderer":76,"../../renderers/webgl/utils/ObjectRenderer":86,"../../utils":117,"./WebGLGraphicsData":50,"./shaders/PrimitiveShader":51,"./utils/buildCircle":52,"./utils/buildPoly":54,"./utils/buildRectangle":55,"./utils/buildRoundedRectangle":56}],50:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=e("pixi-gl-core"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=function(){function e(t,r,n){a(this,e),this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=i.default.GLBuffer.createVertexBuffer(t),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(t),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new i.default.VertexArrayObject(t,n).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,t.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,t.FLOAT,!1,24,8)}return e.prototype.reset=function(){this.points.length=0,this.indices.length=0},e.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},e.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},e}();r.default=o},{"pixi-gl-core":20}],51:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e("../../../Shader"),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(r){return a(this,t),n(this,e.call(this,r,"attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}","varying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}"))}return i(t,e),t}(s.default);r.default=l},{"../../../Shader":36}],52:[function(e,t,r){"use strict";var a=Math.sqrt,n=Math.floor,o=Math.sin,s=Math.cos;r.__esModule=!0,r.default=function(e,t,p){var c=e.shape,_=c.x,h=c.y,f,m;if(e.type===d.SHAPES.CIRC?(f=c.radius,m=c.radius):(f=c.width,m=c.height),0!==f&&0!==m){var y=n(30*a(c.radius))||n(15*a(c.width+c.height)),x=2*Math.PI/y;if(e.fill){var T=(0,u.hex2rgb)(e.fillColor),v=e.fillAlpha,E=T[0]*v,r=T[1]*v,g=T[2]*v,b=t.points,P=t.indices,S=b.length/6;P.push(S);for(var C=0;C<y+1;C++)b.push(_,h,E,r,g,v),b.push(_+o(x*C)*f,h+s(x*C)*m,E,r,g,v),P.push(S++,S++);P.push(S-1)}if(e.lineWidth){var i=e.points;e.points=[];for(var O=0;O<y+1;O++)e.points.push(_+o(x*O)*f,h+s(x*O)*m);(0,l.default)(e,t,p),e.points=i}}};var i=e("./buildLine"),l=function(e){return e&&e.__esModule?e:{default:e}}(i),d=e("../../../const"),u=e("../../../utils")},{"../../../const":38,"../../../utils":117,"./buildLine":53}],53:[function(e,t,r){"use strict";function a(e,t){var a=e.points;if(0!==a.length){var n=new s.Point(a[0],a[1]),d=new s.Point(a[a.length-2],a[a.length-1]);if(n.x===d.x&&n.y===d.y){a=a.slice(),a.pop(),a.pop(),d=new s.Point(a[a.length-2],a[a.length-1]);var u=d.x+0.5*(n.x-d.x),p=d.y+0.5*(n.y-d.y);a.unshift(u,p),a.push(u,p)}var c=t.points,_=t.indices,h=a.length/2,f=a.length,m=c.length/6,y=e.lineWidth/2,x=(0,l.hex2rgb)(e.lineColor),T=e.lineAlpha,v=x[0]*T,r=x[1]*T,g=x[2]*T,b=a[0],E=a[1],P=a[2],S=a[3],C=0,O=0,R=-(E-S),w=b-P,A=0,M=0,D=0,I=0,k=o(R*R+w*w);R/=k,w/=k,R*=y,w*=y,c.push(b-R,E-w,v,r,g,T),c.push(b+R,E+w,v,r,g,T);for(var L=1;L<h-1;++L){b=a[2*(L-1)],E=a[2*(L-1)+1],P=a[2*L],S=a[2*L+1],C=a[2*(L+1)],O=a[2*(L+1)+1],R=-(E-S),w=b-P,k=o(R*R+w*w),R/=k,w/=k,R*=y,w*=y,A=-(S-O),M=P-C,k=o(A*A+M*M),A/=k,M/=k,A*=y,M*=y;var i=-w+E-(-w+S),N=-R+P-(-R+b),B=(-R+b)*(-w+S)-(-R+P)*(-w+E),F=-M+O-(-M+S),U=-A+P-(-A+C),X=(-A+C)*(-M+S)-(-A+P)*(-M+O),G=i*U-F*N;if(0.1>Math.abs(G)){G+=10.1,c.push(P-R,S-w,v,r,g,T),c.push(P+R,S+w,v,r,g,T);continue}var j=(N*X-U*B)/G,Y=(F*B-i*X)/G,W=(j-P)*(j-P)+(Y-S)*(Y-S);W>196*y*y?(D=R-A,I=w-M,k=o(D*D+I*I),D/=k,I/=k,D*=y,I*=y,c.push(P-D,S-I),c.push(v,r,g,T),c.push(P+D,S+I),c.push(v,r,g,T),c.push(P-D,S-I),c.push(v,r,g,T),f++):(c.push(j,Y),c.push(v,r,g,T),c.push(P-(j-P),S-(Y-S)),c.push(v,r,g,T))}b=a[2*(h-2)],E=a[2*(h-2)+1],P=a[2*(h-1)],S=a[2*(h-1)+1],R=-(E-S),w=b-P,k=o(R*R+w*w),R/=k,w/=k,R*=y,w*=y,c.push(P-R,S-w),c.push(v,r,g,T),c.push(P+R,S+w),c.push(v,r,g,T),_.push(m);for(var z=0;z<f;++z)_.push(m++);_.push(m-1)}}function n(e,t){var a=0,n=e.points;if(0!==n.length){var i=t.points,o=n.length/2,s=(0,l.hex2rgb)(e.lineColor),d=e.lineAlpha,u=s[0]*d,r=s[1]*d,p=s[2]*d;for(a=1;a<o;a++){var c=n[2*(a-1)],_=n[2*(a-1)+1],h=n[2*a],f=n[2*a+1];i.push(c,_),i.push(u,r,p,d),i.push(h,f),i.push(u,r,p,d)}}}var o=Math.sqrt;r.__esModule=!0,r.default=function(e,t,r){e.nativeLines?n(e,r):a(e,t)};var s=e("../../../math"),l=e("../../../utils")},{"../../../math":62,"../../../utils":117}],54:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0,r.default=function(e,t,a){e.points=e.shape.points.slice();var n=e.points;if(e.fill&&6<=n.length){for(var d=[],u=e.holes,p=0,i;p<u.length;p++)i=u[p],d.push(n.length/2),n=n.concat(i.points);var c=t.points,_=t.indices,h=n.length/2,f=(0,s.hex2rgb)(e.fillColor),m=e.fillAlpha,y=f[0]*m,r=f[1]*m,g=f[2]*m,x=(0,l.default)(n,d,2);if(!x)return;for(var T=c.length/6,b=0;b<x.length;b+=3)_.push(x[b]+T),_.push(x[b]+T),_.push(x[b+1]+T),_.push(x[b+2]+T),_.push(x[b+2]+T);for(var v=0;v<h;v++)c.push(n[2*v],n[2*v+1],y,r,g,m)}0<e.lineWidth&&(0,o.default)(e,t,a)};var n=e("./buildLine"),o=a(n),s=e("../../../utils"),i=e("earcut"),l=a(i)},{"../../../utils":117,"./buildLine":53,earcut:5}],55:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e,t,a){var o=e.shape,s=o.x,l=o.y,d=o.width,u=o.height;if(e.fill){var p=(0,i.hex2rgb)(e.fillColor),c=e.fillAlpha,_=p[0]*c,r=p[1]*c,h=p[2]*c,f=t.points,g=t.indices,m=f.length/6;f.push(s,l),f.push(_,r,h,c),f.push(s+d,l),f.push(_,r,h,c),f.push(s,l+u),f.push(_,r,h,c),f.push(s+d,l+u),f.push(_,r,h,c),g.push(m,m,m+1,m+2,m+3,m+3)}if(e.lineWidth){var y=e.points;e.points=[s,l,s+d,l,s+d,l+u,s,l+u,s,l],(0,n.default)(e,t,a),e.points=y}};var a=e("./buildLine"),n=function(e){return e&&e.__esModule?e:{default:e}}(a),i=e("../../../utils")},{"../../../utils":117,"./buildLine":53}],56:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return e+(t-e)*r}function n(e,t,r,a,s,l){for(var d=6<arguments.length&&arguments[6]!==void 0?arguments[6]:[],u=20,n=d,p=0,c=0,_=0,h=0,f=0,g=0,m=0,i=0;m<=u;++m)i=m/u,p=o(e,r,i),c=o(t,a,i),_=o(r,s,i),h=o(a,l,i),f=o(p,_,i),g=o(c,h,i),n.push(f,g);return n}r.__esModule=!0,r.default=function(e,t,a){var o=e.shape,l=o.x,p=o.y,c=o.width,_=o.height,h=o.radius,f=[];if(f.push(l,p+h),n(l,p+_-h,l,p+_,l+h,p+_,f),n(l+c-h,p+_,l+c,p+_,l+c,p+_-h,f),n(l+c,p+h,l+c,p,l+c-h,p,f),n(l+h,p,l,p,l,p+h+1e-10,f),e.fill){for(var m=(0,u.hex2rgb)(e.fillColor),y=e.fillAlpha,x=m[0]*y,r=m[1]*y,g=m[2]*y,T=t.points,b=t.indices,v=T.length/6,E=(0,s.default)(f,null,2),P=0,i=E.length;P<i;P+=3)b.push(E[P]+v),b.push(E[P]+v),b.push(E[P+1]+v),b.push(E[P+2]+v),b.push(E[P+2]+v);for(var S=0,C=f.length;S<C;S++)T.push(f[S],f[++S],x,r,g,y)}if(e.lineWidth){var O=e.points;e.points=f,(0,d.default)(e,t,a),e.points=O}};var i=e("earcut"),s=a(i),l=e("./buildLine"),d=a(l),u=e("../../../utils")},{"../../../utils":117,"./buildLine":53,earcut:5}],57:[function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0,r.autoDetectRenderer=r.Application=r.Filter=r.SpriteMaskFilter=r.Quad=r.RenderTarget=r.ObjectRenderer=r.WebGLManager=r.Shader=r.CanvasRenderTarget=r.TextureUvs=r.VideoBaseTexture=r.BaseRenderTexture=r.RenderTexture=r.BaseTexture=r.TextureMatrix=r.Texture=r.Spritesheet=r.CanvasGraphicsRenderer=r.GraphicsRenderer=r.GraphicsData=r.Graphics=r.TextMetrics=r.TextStyle=r.Text=r.SpriteRenderer=r.CanvasTinter=r.CanvasSpriteRenderer=r.Sprite=r.TransformBase=r.TransformStatic=r.Transform=r.Container=r.DisplayObject=r.Bounds=r.glCore=r.WebGLRenderer=r.CanvasRenderer=r.ticker=r.utils=r.settings=void 0;var i=e("./const");Object.keys(i).forEach(function(e){"default"===e||"__esModule"===e||Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}})});var o=e("./math");Object.keys(o).forEach(function(e){"default"===e||"__esModule"===e||Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}})});var s=e("pixi-gl-core");Object.defineProperty(r,"glCore",{enumerable:!0,get:function(){return n(s).default}});var l=e("./display/Bounds");Object.defineProperty(r,"Bounds",{enumerable:!0,get:function(){return n(l).default}});var d=e("./display/DisplayObject");Object.defineProperty(r,"DisplayObject",{enumerable:!0,get:function(){return n(d).default}});var u=e("./display/Container");Object.defineProperty(r,"Container",{enumerable:!0,get:function(){return n(u).default}});var p=e("./display/Transform");Object.defineProperty(r,"Transform",{enumerable:!0,get:function(){return n(p).default}});var c=e("./display/TransformStatic");Object.defineProperty(r,"TransformStatic",{enumerable:!0,get:function(){return n(c).default}});var _=e("./display/TransformBase");Object.defineProperty(r,"TransformBase",{enumerable:!0,get:function(){return n(_).default}});var h=e("./sprites/Sprite");Object.defineProperty(r,"Sprite",{enumerable:!0,get:function(){return n(h).default}});var f=e("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(r,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return n(f).default}});var g=e("./sprites/canvas/CanvasTinter");Object.defineProperty(r,"CanvasTinter",{enumerable:!0,get:function(){return n(g).default}});var m=e("./sprites/webgl/SpriteRenderer");Object.defineProperty(r,"SpriteRenderer",{enumerable:!0,get:function(){return n(m).default}});var y=e("./text/Text");Object.defineProperty(r,"Text",{enumerable:!0,get:function(){return n(y).default}});var x=e("./text/TextStyle");Object.defineProperty(r,"TextStyle",{enumerable:!0,get:function(){return n(x).default}});var T=e("./text/TextMetrics");Object.defineProperty(r,"TextMetrics",{enumerable:!0,get:function(){return n(T).default}});var b=e("./graphics/Graphics");Object.defineProperty(r,"Graphics",{enumerable:!0,get:function(){return n(b).default}});var v=e("./graphics/GraphicsData");Object.defineProperty(r,"GraphicsData",{enumerable:!0,get:function(){return n(v).default}});var E=e("./graphics/webgl/GraphicsRenderer");Object.defineProperty(r,"GraphicsRenderer",{enumerable:!0,get:function(){return n(E).default}});var P=e("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(r,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return n(P).default}});var S=e("./textures/Spritesheet");Object.defineProperty(r,"Spritesheet",{enumerable:!0,get:function(){return n(S).default}});var C=e("./textures/Texture");Object.defineProperty(r,"Texture",{enumerable:!0,get:function(){return n(C).default}});var O=e("./textures/TextureMatrix");Object.defineProperty(r,"TextureMatrix",{enumerable:!0,get:function(){return n(O).default}});var R=e("./textures/BaseTexture");Object.defineProperty(r,"BaseTexture",{enumerable:!0,get:function(){return n(R).default}});var w=e("./textures/RenderTexture");Object.defineProperty(r,"RenderTexture",{enumerable:!0,get:function(){return n(w).default}});var A=e("./textures/BaseRenderTexture");Object.defineProperty(r,"BaseRenderTexture",{enumerable:!0,get:function(){return n(A).default}});var M=e("./textures/VideoBaseTexture");Object.defineProperty(r,"VideoBaseTexture",{enumerable:!0,get:function(){return n(M).default}});var D=e("./textures/TextureUvs");Object.defineProperty(r,"TextureUvs",{enumerable:!0,get:function(){return n(D).default}});var I=e("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(r,"CanvasRenderTarget",{enumerable:!0,get:function(){return n(I).default}});var k=e("./Shader");Object.defineProperty(r,"Shader",{enumerable:!0,get:function(){return n(k).default}});var L=e("./renderers/webgl/managers/WebGLManager");Object.defineProperty(r,"WebGLManager",{enumerable:!0,get:function(){return n(L).default}});var N=e("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(r,"ObjectRenderer",{enumerable:!0,get:function(){return n(N).default}});var B=e("./renderers/webgl/utils/RenderTarget");Object.defineProperty(r,"RenderTarget",{enumerable:!0,get:function(){return n(B).default}});var F=e("./renderers/webgl/utils/Quad");Object.defineProperty(r,"Quad",{enumerable:!0,get:function(){return n(F).default}});var U=e("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(r,"SpriteMaskFilter",{enumerable:!0,get:function(){return n(U).default}});var X=e("./renderers/webgl/filters/Filter");Object.defineProperty(r,"Filter",{enumerable:!0,get:function(){return n(X).default}});var G=e("./Application");Object.defineProperty(r,"Application",{enumerable:!0,get:function(){return n(G).default}});var j=e("./autoDetectRenderer");Object.defineProperty(r,"autoDetectRenderer",{enumerable:!0,get:function(){return j.autoDetectRenderer}});var Y=e("./utils"),W=a(Y),z=e("./ticker"),H=a(z),V=e("./settings"),q=n(V),Z=e("./renderers/canvas/CanvasRenderer"),K=n(Z),Q=e("./renderers/webgl/WebGLRenderer"),J=n(Q);r.settings=q.default,r.utils=W,r.ticker=H,r.CanvasRenderer=K.default,r.WebGLRenderer=J.default},{"./Application":35,"./Shader":36,"./autoDetectRenderer":37,"./const":38,"./display/Bounds":39,"./display/Container":40,"./display/DisplayObject":41,"./display/Transform":42,"./display/TransformBase":43,"./display/TransformStatic":44,"./graphics/Graphics":45,"./graphics/GraphicsData":46,"./graphics/canvas/CanvasGraphicsRenderer":47,"./graphics/webgl/GraphicsRenderer":49,"./math":62,"./renderers/canvas/CanvasRenderer":69,"./renderers/canvas/utils/CanvasRenderTarget":71,"./renderers/webgl/WebGLRenderer":76,"./renderers/webgl/filters/Filter":78,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":81,"./renderers/webgl/managers/WebGLManager":85,"./renderers/webgl/utils/ObjectRenderer":86,"./renderers/webgl/utils/Quad":87,"./renderers/webgl/utils/RenderTarget":88,"./settings":93,"./sprites/Sprite":94,"./sprites/canvas/CanvasSpriteRenderer":95,"./sprites/canvas/CanvasTinter":96,"./sprites/webgl/SpriteRenderer":98,"./text/Text":100,"./text/TextMetrics":101,"./text/TextStyle":102,"./textures/BaseRenderTexture":103,"./textures/BaseTexture":104,"./textures/RenderTexture":105,"./textures/Spritesheet":106,"./textures/Texture":107,"./textures/TextureMatrix":108,"./textures/TextureUvs":109,"./textures/VideoBaseTexture":110,"./ticker":113,"./utils":117,"pixi-gl-core":20}],58:[function(e,t,r){"use strict";function a(e){return 0>e?-1:0<e?1:0}var n=Math.abs;r.__esModule=!0;var i=e("./Matrix"),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],l=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],d=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],u=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],p=[],c=[];(function(){for(var e=0,t;16>e;e++){t=[],c.push(t);for(var r=0;16>r;r++)for(var n=a(s[e]*s[r]+d[e]*l[r]),i=a(l[e]*s[r]+u[e]*l[r]),_=a(s[e]*d[r]+d[e]*u[r]),h=a(l[e]*d[r]+u[e]*u[r]),f=0;16>f;f++)if(s[f]===n&&l[f]===i&&d[f]===_&&u[f]===h){t.push(f);break}}for(var g=0,m;16>g;g++)m=new o.default,m.set(s[g],l[g],d[g],u[g],0,0),p.push(m)})();var _={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(e){return s[e]},uY:function(e){return l[e]},vX:function(e){return d[e]},vY:function(e){return u[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return c[e][t]},sub:function(e,t){return c[e][_.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){if(2*n(e)<=n(t))return 0<=t?_.S:_.N;return 2*n(t)<=n(e)?0<e?_.E:_.W:0<t?0<e?_.SE:_.SW:0<e?_.NE:_.NW},matrixAppendRotationInv:function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:0,n=p[_.inv(t)];n.tx=r,n.ty=a,e.append(n)}};r.default=_},{"./Matrix":59}],59:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=Math.atan2,o=Math.sqrt,s=Math.PI,l=Math.sin,u=Math.cos;r.__esModule=!0;var a=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=e("./Point"),p=function(e){return e&&e.__esModule?e:{default:e}}(d),c=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;n(this,e),this.a=t,this.b=r,this.c=a,this.d=i,this.tx=o,this.ty=s,this.array=null}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,r,a,n,i){return this.a=e,this.b=t,this.c=r,this.d=a,this.tx=n,this.ty=i,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.apply=function(e,t){t=t||new p.default;var r=e.x,a=e.y;return t.x=this.a*r+this.c*a+this.tx,t.y=this.b*r+this.d*a+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new p.default;var r=1/(this.a*this.d+this.c*-this.b),a=e.x,n=e.y;return t.x=this.d*r*a+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*n+-this.b*r*a+(-this.ty*this.a+this.tx*this.b)*r,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=u(e),r=l(e),a=this.a,n=this.c,i=this.tx;return this.a=a*t-this.b*r,this.b=a*r+this.b*t,this.c=n*t-this.d*r,this.d=n*r+this.d*t,this.tx=i*t-this.ty*r,this.ty=i*r+this.ty*t,this},e.prototype.append=function(e){var t=this.a,r=this.b,a=this.c,n=this.d;return this.a=e.a*t+e.b*a,this.b=e.a*r+e.b*n,this.c=e.c*t+e.d*a,this.d=e.c*r+e.d*n,this.tx=e.tx*t+e.ty*a+this.tx,this.ty=e.tx*r+e.ty*n+this.ty,this},e.prototype.setTransform=function(e,t,r,n,i,o,s,p,_){var h=l(s),f=u(s),g=u(_),m=l(_),y=-l(p),x=u(p),T=f*i,a=h*i,b=-h*o,c=f*o;return this.a=g*T+m*b,this.b=g*a+m*c,this.c=y*T+x*b,this.d=y*a+x*c,this.tx=e+(r*T+n*b),this.ty=t+(r*a+n*c),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var r=this.a,a=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=a*e.a+this.d*e.c,this.d=a*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,r=this.b,a=this.c,n=this.d,l=-i(-a,n),d=i(r,t),u=Math.abs(l+d);return 1e-5>u?(e.rotation=d,0>t&&0<=n&&(e.rotation+=0>=e.rotation?s:-s),e.skew.x=e.skew.y=0):(e.skew.x=l,e.skew.y=d),e.scale.x=o(t*t+r*r),e.scale.y=o(a*a+n*n),e.position.x=this.tx,e.position.y=this.ty,e},e.prototype.invert=function(){var e=this.a,t=this.b,r=this.c,a=this.d,i=this.tx,o=e*a-t*r;return this.a=a/o,this.b=-t/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-a*i)/o,this.ty=-(e*this.ty-t*i)/o,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copy=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},a(e,null,[{key:"IDENTITY",get:function(){return new e}},{key:"TEMP_MATRIX",get:function(){return new e}}]),e}();r.default=c},{"./Point":61}],60:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=function(){function e(t,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;a(this,e),this._x=n,this._y=i,this.cb=t,this.scope=r}return e.prototype.set=function(e,t){var r=e||0,a=t||(0===t?0:r);(this._x!==r||this._y!==a)&&(this._x=r,this._y=a,this.cb.call(this.scope))},e.prototype.copy=function(e){(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope))},n(e,[{key:"x",get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}]),e}();r.default=i},{}],61:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;a(this,e),this.x=t,this.y=r}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copy=function(e){this.set(e.x,e.y)},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){this.x=e||0,this.y=t||(0===t?0:this.x)},e}();r.default=n},{}],62:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var n=e("./Point");Object.defineProperty(r,"Point",{enumerable:!0,get:function(){return a(n).default}});var i=e("./ObservablePoint");Object.defineProperty(r,"ObservablePoint",{enumerable:!0,get:function(){return a(i).default}});var o=e("./Matrix");Object.defineProperty(r,"Matrix",{enumerable:!0,get:function(){return a(o).default}});var s=e("./GroupD8");Object.defineProperty(r,"GroupD8",{enumerable:!0,get:function(){return a(s).default}});var l=e("./shapes/Circle");Object.defineProperty(r,"Circle",{enumerable:!0,get:function(){return a(l).default}});var d=e("./shapes/Ellipse");Object.defineProperty(r,"Ellipse",{enumerable:!0,get:function(){return a(d).default}});var u=e("./shapes/Polygon");Object.defineProperty(r,"Polygon",{enumerable:!0,get:function(){return a(u).default}});var p=e("./shapes/Rectangle");Object.defineProperty(r,"Rectangle",{enumerable:!0,get:function(){return a(p).default}});var c=e("./shapes/RoundedRectangle");Object.defineProperty(r,"RoundedRectangle",{enumerable:!0,get:function(){return a(c).default}})},{"./GroupD8":58,"./Matrix":59,"./ObservablePoint":60,"./Point":61,"./shapes/Circle":63,"./shapes/Ellipse":64,"./shapes/Polygon":65,"./shapes/Rectangle":66,"./shapes/RoundedRectangle":67}],63:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=e("./Rectangle"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=e("../../const"),s=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;a(this,e),this.x=t,this.y=r,this.radius=n,this.type=o.SHAPES.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(0>=this.radius)return!1;var r=this.radius*this.radius,a=this.x-e,n=this.y-t;return a*=a,n*=n,a+n<=r},e.prototype.getBounds=function(){return new i.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e}();r.default=s},{"../../const":38,"./Rectangle":66}],64:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=e("./Rectangle"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=e("../../const"),s=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;a(this,e),this.x=t,this.y=r,this.width=n,this.height=i,this.type=o.SHAPES.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(0>=this.width||0>=this.height)return!1;var r=(e-this.x)/this.width,a=(t-this.y)/this.height;return r*=r,a*=a,1>=r+a},e.prototype.getBounds=function(){return new i.default(this.x-this.width,this.y-this.height,this.width,this.height)},e}();r.default=s},{"../../const":38,"./Rectangle":66}],65:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=e("../Point"),o=function(e){return e&&e.__esModule?e:{default:e}}(n),s=e("../../const"),i=function(){function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(a(this,e),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof o.default){for(var l=[],d=0,i=r.length;d<i;d++)l.push(r[d].x,r[d].y);r=l}this.closed=!0,this.points=r,this.type=s.SHAPES.POLY}return e.prototype.clone=function(){return new e(this.points.slice())},e.prototype.close=function(){var e=this.points;(e[0]!==e[e.length-2]||e[1]!==e[e.length-1])&&e.push(e[0],e[1])},e.prototype.contains=function(e,t){for(var r=!1,a=this.points.length/2,n=0,i=a-1;n<a;i=n++){var o=this.points[2*n],s=this.points[2*n+1],l=this.points[2*i],d=this.points[2*i+1];s>t!=d>t&&e<(l-o)*((t-s)/(d-s))+o&&(r=!r)}return r},e}();r.default=i},{"../../const":38,"../Point":61}],66:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=Math.min,i=Math.max;r.__esModule=!0;var o=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=e("../../const"),l=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;a(this,e),this.x=+t,this.y=+r,this.width=+n,this.height=+i,this.type=s.SHAPES.RECT}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.contains=function(e,t){return 0>=this.width||0>=this.height?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height},e.prototype.pad=function(e,t){e=e||0,t=t||(0===t?0:e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t},e.prototype.fit=function(e){this.x<e.x&&(this.width+=this.x,0>this.width&&(this.width=0),this.x=e.x),this.y<e.y&&(this.height+=this.y,0>this.height&&(this.height=0),this.y=e.y),this.x+this.width>e.x+e.width&&(this.width=e.width-this.x,0>this.width&&(this.width=0)),this.y+this.height>e.y+e.height&&(this.height=e.height-this.y,0>this.height&&(this.height=0))},e.prototype.enlarge=function(e){var t=n(this.x,e.x),r=i(this.x+this.width,e.x+e.width),a=n(this.y,e.y),o=i(this.y+this.height,e.y+e.height);this.x=t,this.width=r-t,this.y=a,this.height=o-a},o(e,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new e(0,0,0,0)}}]),e}();r.default=l},{"../../const":38}],67:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=e("../../const"),i=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;a(this,e),this.x=t,this.y=r,this.width=i,this.height=o,this.radius=s,this.type=n.SHAPES.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(0>=this.width||0>=this.height)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var r=e-(this.x+this.radius),a=t-(this.y+this.radius),n=this.radius*this.radius;if(r*r+a*a<=n)return!0;if(r=e-(this.x+this.width-this.radius),r*r+a*a<=n)return!0;if(a=t-(this.y+this.height-this.radius),r*r+a*a<=n)return!0;if(r=e-(this.x+this.radius),r*r+a*a<=n)return!0}return!1},e}();r.default=i},{"../../const":38}],68:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=e("../utils"),d=e("../math"),u=e("../const"),p=e("../settings"),c=a(p),_=e("../display/Container"),h=a(_),f=e("../textures/RenderTexture"),g=a(f),m=e("eventemitter3"),y=a(m),x=new d.Matrix,T=function(e){function t(r,a,o,s){n(this,t);var p=i(this,e.call(this));return(0,l.sayHello)(r),"number"==typeof a&&(a=Object.assign({width:a,height:o||c.default.RENDER_OPTIONS.height},s)),a=Object.assign({},c.default.RENDER_OPTIONS,a),p.options=a,p.type=u.RENDERER_TYPE.UNKNOWN,p.screen=new d.Rectangle(0,0,a.width,a.height),p.view=a.view||document.createElement("canvas"),p.resolution=a.resolution||c.default.RESOLUTION,p.transparent=a.transparent,p.autoResize=a.autoResize||!1,p.blendModes=null,p.preserveDrawingBuffer=a.preserveDrawingBuffer,p.clearBeforeRender=a.clearBeforeRender,p.roundPixels=a.roundPixels,p._backgroundColor=0,p._backgroundColorRgba=[0,0,0,0],p._backgroundColorString="#000000",p.backgroundColor=a.backgroundColor||p._backgroundColor,p._tempDisplayObjectParent=new h.default,p._lastObjectRendered=p._tempDisplayObjectParent,p}return o(t,e),t.prototype.resize=function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoResize&&(this.view.style.width=e+"px",this.view.style.height=t+"px")},t.prototype.generateTexture=function(e,t,r,a){a=a||e.getLocalBounds();var n=g.default.create(0|a.width,0|a.height,t,r);return x.tx=-a.x,x.ty=-a.y,this.render(e,n,!1,x,!0),n},t.prototype.destroy=function(e){e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=u.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},s(t,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=(0,l.hex2string)(e),(0,l.hex2rgb)(e,this._backgroundColorRgba)}}]),t}(y.default);r.default=T},{"../const":38,"../display/Container":40,"../math":62,"../settings":93,"../textures/RenderTexture":105,"../utils":117,eventemitter3:181}],69:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e("../SystemRenderer"),l=a(s),d=e("./utils/CanvasMaskManager"),u=a(d),p=e("./utils/CanvasRenderTarget"),c=a(p),_=e("./utils/mapCanvasBlendModesToPixi"),h=a(_),f=e("../../utils"),g=e("../../const"),m=e("../../settings"),y=a(m),x=function(e){function t(r,a,o){n(this,t);var s=i(this,e.call(this,"Canvas",r,a,o));return s.type=g.RENDERER_TYPE.CANVAS,s.rootContext=s.view.getContext("2d",{alpha:s.transparent}),s.context=s.rootContext,s.refresh=!0,s.maskManager=new u.default(s),s.smoothProperty="imageSmoothingEnabled",s.rootContext.imageSmoothingEnabled||(s.rootContext.webkitImageSmoothingEnabled?s.smoothProperty="webkitImageSmoothingEnabled":s.rootContext.mozImageSmoothingEnabled?s.smoothProperty="mozImageSmoothingEnabled":s.rootContext.oImageSmoothingEnabled?s.smoothProperty="oImageSmoothingEnabled":s.rootContext.msImageSmoothingEnabled&&(s.smoothProperty="msImageSmoothingEnabled")),s.initPlugins(),s.blendModes=(0,h.default)(),s._activeBlendMode=null,s.renderingToScreen=!1,s.resize(s.options.width,s.options.height),s}return o(t,e),t.prototype.render=function(e,t,r,a,n){if(this.view){this.renderingToScreen=!t,this.emit("prerender");var i=this.resolution;t?(t=t.baseTexture||t,!t._canvasRenderTarget&&(t._canvasRenderTarget=new c.default(t.width,t.height,t.resolution),t.source=t._canvasRenderTarget.canvas,t.valid=!0),this.context=t._canvasRenderTarget.context,this.resolution=t._canvasRenderTarget.resolution):this.context=this.rootContext;var o=this.context;if(t||(this._lastObjectRendered=e),!n){var s=e.parent,l=this._tempDisplayObjectParent.transform.worldTransform;a?(a.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=s}o.save(),o.setTransform(1,0,0,1,0,0),o.globalAlpha=1,this._activeBlendMode=g.BLEND_MODES.NORMAL,o.globalCompositeOperation=this.blendModes[g.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(o.fillStyle="black",o.clear()),(void 0===r?this.clearBeforeRender:r)&&this.renderingToScreen&&(this.transparent?o.clearRect(0,0,this.width,this.height):(o.fillStyle=this._backgroundColorString,o.fillRect(0,0,this.width,this.height)));var d=this.context;this.context=o,e.renderCanvas(this),this.context=d,o.restore(),this.resolution=i,this.emit("postrender")}},t.prototype.clear=function(e){var t=this.context;e=e||this._backgroundColorString,!this.transparent&&e?(t.fillStyle=e,t.fillRect(0,0,this.width,this.height)):t.clearRect(0,0,this.width,this.height)},t.prototype.setBlendMode=function(e){this._activeBlendMode===e||(this._activeBlendMode=e,this.context.globalCompositeOperation=this.blendModes[e])},t.prototype.destroy=function(t){this.destroyPlugins(),e.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},t.prototype.resize=function(t,r){e.prototype.resize.call(this,t,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=y.default.SCALE_MODE===g.SCALE_MODES.LINEAR)},t.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},t}(l.default);r.default=x,f.pluginTarget.mixin(x)},{"../../const":38,"../../settings":93,"../../utils":117,"../SystemRenderer":68,"./utils/CanvasMaskManager":70,"./utils/CanvasRenderTarget":71,"./utils/mapCanvasBlendModesToPixi":73}],70:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=e("../../../const"),i=function(){function e(t){a(this,e),this.renderer=t}return e.prototype.pushMask=function(e){var t=this.renderer;t.context.save();var r=e.alpha,a=e.transform.worldTransform,n=t.resolution;t.context.setTransform(a.a*n,a.b*n,a.c*n,a.d*n,a.tx*n,a.ty*n),e._texture||(this.renderGraphicsShape(e),t.context.clip()),e.worldAlpha=r},e.prototype.renderGraphicsShape=function(e){var t=this.renderer.context,r=e.graphicsData.length;if(0!==r){t.beginPath();for(var a=0;a<r;a++){var i=e.graphicsData[a],o=i.shape;if(i.type===n.SHAPES.POLY){var s=o.points;t.moveTo(s[0],s[1]);for(var l=1;l<s.length/2;l++)t.lineTo(s[2*l],s[2*l+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&t.closePath()}else if(i.type===n.SHAPES.RECT)t.rect(o.x,o.y,o.width,o.height),t.closePath();else if(i.type===n.SHAPES.CIRC)t.arc(o.x,o.y,o.radius,0,2*Math.PI),t.closePath();else if(i.type===n.SHAPES.ELIP){var d=2*o.width,u=2*o.height,p=o.x-d/2,c=o.y-u/2,_=0.5522848,h=d/2*_,f=u/2*_,g=p+d,m=c+u,y=p+d/2,x=c+u/2;t.moveTo(p,x),t.bezierCurveTo(p,x-f,y-h,c,y,c),t.bezierCurveTo(y+h,c,g,x-f,g,x),t.bezierCurveTo(g,x+f,y+h,m,y,m),t.bezierCurveTo(y-h,m,p,x+f,p,x),t.closePath()}else if(i.type===n.SHAPES.RREC){var T=o.x,b=o.y,v=o.width,E=o.height,P=o.radius,S=0|Math.min(v,E)/2;P=P>S?S:P,t.moveTo(T,b+P),t.lineTo(T,b+E-P),t.quadraticCurveTo(T,b+E,T+P,b+E),t.lineTo(T+v-P,b+E),t.quadraticCurveTo(T+v,b+E,T+v,b+E-P),t.lineTo(T+v,b+P),t.quadraticCurveTo(T+v,b,T+v-P,b),t.lineTo(T+P,b),t.quadraticCurveTo(T,b,T,b+P),t.closePath()}}}},e.prototype.popMask=function(e){e.context.restore(),e.invalidateBlendMode()},e.prototype.destroy=function(){},e}();r.default=i},{"../../../const":38}],71:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=e("../../../settings"),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(){function e(t,r,n){a(this,e),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||o.default.RESOLUTION,this.resize(t,r)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},n(e,[{key:"width",get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:"height",get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}]),e}();r.default=s},{"../../../settings":93}],72:[function(e,t,r){"use strict";function a(e){var t=document.createElement("canvas");t.width=6,t.height=1;var r=t.getContext("2d");return r.fillStyle=e,r.fillRect(0,0,6,1),t}r.__esModule=!0,r.default=function(){if("undefined"==typeof document)return!1;var e=a("#ff00ff"),t=a("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var n=r.getContext("2d");n.globalCompositeOperation="multiply",n.drawImage(e,0,0),n.drawImage(t,2,0);var i=n.getImageData(2,0,1,1);if(!i)return!1;var o=i.data;return 255===o[0]&&0===o[1]&&0===o[2]}},{}],73:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return(0,i.default)()?(e[a.BLEND_MODES.NORMAL]="source-over",e[a.BLEND_MODES.ADD]="lighter",e[a.BLEND_MODES.MULTIPLY]="multiply",e[a.BLEND_MODES.SCREEN]="screen",e[a.BLEND_MODES.OVERLAY]="overlay",e[a.BLEND_MODES.DARKEN]="darken",e[a.BLEND_MODES.LIGHTEN]="lighten",e[a.BLEND_MODES.COLOR_DODGE]="color-dodge",e[a.BLEND_MODES.COLOR_BURN]="color-burn",e[a.BLEND_MODES.HARD_LIGHT]="hard-light",e[a.BLEND_MODES.SOFT_LIGHT]="soft-light",e[a.BLEND_MODES.DIFFERENCE]="difference",e[a.BLEND_MODES.EXCLUSION]="exclusion",e[a.BLEND_MODES.HUE]="hue",e[a.BLEND_MODES.SATURATION]="saturate",e[a.BLEND_MODES.COLOR]="color",e[a.BLEND_MODES.LUMINOSITY]="luminosity"):(e[a.BLEND_MODES.NORMAL]="source-over",e[a.BLEND_MODES.ADD]="lighter",e[a.BLEND_MODES.MULTIPLY]="source-over",e[a.BLEND_MODES.SCREEN]="source-over",e[a.BLEND_MODES.OVERLAY]="source-over",e[a.BLEND_MODES.DARKEN]="source-over",e[a.BLEND_MODES.LIGHTEN]="source-over",e[a.BLEND_MODES.COLOR_DODGE]="source-over",e[a.BLEND_MODES.COLOR_BURN]="source-over",e[a.BLEND_MODES.HARD_LIGHT]="source-over",e[a.BLEND_MODES.SOFT_LIGHT]="source-over",e[a.BLEND_MODES.DIFFERENCE]="source-over",e[a.BLEND_MODES.EXCLUSION]="source-over",e[a.BLEND_MODES.HUE]="source-over",e[a.BLEND_MODES.SATURATION]="source-over",e[a.BLEND_MODES.COLOR]="source-over",e[a.BLEND_MODES.LUMINOSITY]="source-over"),e[a.BLEND_MODES.NORMAL_NPM]=e[a.BLEND_MODES.NORMAL],e[a.BLEND_MODES.ADD_NPM]=e[a.BLEND_MODES.ADD],e[a.BLEND_MODES.SCREEN_NPM]=e[a.BLEND_MODES.SCREEN],e};var a=e("../../../const"),n=e("./canUseNewCanvasBlendModes"),i=function(e){return e&&e.__esModule?e:{default:e}}(n)},{"../../../const":38,"./canUseNewCanvasBlendModes":72}],74:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=e("../../const"),i=e("../../settings"),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(){function e(t){a(this,e),this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=o.default.GC_MAX_IDLE,this.checkCountMax=o.default.GC_MAX_CHECK_COUNT,this.mode=o.default.GC_MODE}return e.prototype.update=function(){this.count++,this.mode===n.GC_MODES.MANUAL||(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},e.prototype.run=function(){for(var e=this.renderer.textureManager,t=e._managedTextures,r=!1,a=0,n;a<t.length;a++)n=t[a],!n._glRenderTargets&&this.count-n.touched>this.maxIdle&&(e.destroyTexture(n,!0),t[a]=null,r=!0);if(r){for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(t[i++]=t[o]);t.length=i}},e.prototype.unload=function(e){var t=this.renderer.textureManager;e._texture&&e._texture._glRenderTargets&&t.destroyTexture(e._texture,!0);for(var r=e.children.length-1;0<=r;r--)this.unload(e.children[r])},e}();r.default=s},{"../../const":38,"../../settings":93}],75:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=e("pixi-gl-core"),i=e("../../const"),o=e("./utils/RenderTarget"),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=e("../../utils"),d=function(){function e(t){a(this,e),this.renderer=t,this.gl=t.gl,this._managedTextures=[]}return e.prototype.bindTexture=function(){},e.prototype.getTexture=function(){},e.prototype.updateTexture=function(e,t){var r=this.gl,a=!!e._glRenderTargets;if(!e.hasLoaded)return null;var o=this.renderer.boundTextures;if(void 0===t){t=0;for(var l=0;l<o.length;++l)if(o[l]===e){t=l;break}}o[t]=e,r.activeTexture(r.TEXTURE0+t);var d=e._glTextures[this.renderer.CONTEXT_UID];if(!d){if(a){var u=new s.default(this.gl,e.width,e.height,e.scaleMode,e.resolution);u.resize(e.width,e.height),e._glRenderTargets[this.renderer.CONTEXT_UID]=u,d=u.texture}else d=new n.GLTexture(this.gl,null,null,null,null),d.bind(t),d.premultiplyAlpha=!0,d.upload(e.source);e._glTextures[this.renderer.CONTEXT_UID]=d,e.on("update",this.updateTexture,this),e.on("dispose",this.destroyTexture,this),this._managedTextures.push(e),e.isPowerOfTwo?(e.mipmap&&d.enableMipmap(),e.wrapMode===i.WRAP_MODES.CLAMP?d.enableWrapClamp():e.wrapMode===i.WRAP_MODES.REPEAT?d.enableWrapRepeat():d.enableWrapMirrorRepeat()):d.enableWrapClamp(),e.scaleMode===i.SCALE_MODES.NEAREST?d.enableNearestScaling():d.enableLinearScaling()}else a?e._glRenderTargets[this.renderer.CONTEXT_UID].resize(e.width,e.height):d.upload(e.source);return d},e.prototype.destroyTexture=function(e,t){if(e=e.baseTexture||e,!!e.hasLoaded){var r=this.renderer.CONTEXT_UID,a=e._glTextures,n=e._glRenderTargets;if(a[r]&&(this.renderer.unbindTexture(e),a[r].destroy(),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this),delete a[r],!t)){var o=this._managedTextures.indexOf(e);-1!==o&&(0,l.removeItems)(this._managedTextures,o,1)}n&&n[r]&&(n[r].destroy(),delete n[r])}},e.prototype.removeAll=function(){for(var e=0,t;e<this._managedTextures.length;++e)t=this._managedTextures[e],t._glTextures[this.renderer.CONTEXT_UID]&&delete t._glTextures[this.renderer.CONTEXT_UID]},e.prototype.destroy=function(){for(var e=0,t;e<this._managedTextures.length;++e)t=this._managedTextures[e],this.destroyTexture(t,!0),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this);this._managedTextures=null},e}();r.default=d},{"../../const":38,"../../utils":117,"./utils/RenderTarget":88,"pixi-gl-core":20}],76:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e("../SystemRenderer"),l=a(s),d=e("./managers/MaskManager"),u=a(d),p=e("./managers/StencilManager"),c=a(p),_=e("./managers/FilterManager"),h=a(_),f=e("./utils/RenderTarget"),g=a(f),m=e("./utils/ObjectRenderer"),y=a(m),x=e("./TextureManager"),T=a(x),b=e("../../textures/BaseTexture"),v=a(b),E=e("./TextureGarbageCollector"),P=a(E),S=e("./WebGLState"),C=a(S),O=e("./utils/mapWebGLDrawModesToPixi"),R=a(O),w=e("./utils/validateContext"),A=a(w),M=e("../../utils"),D=e("pixi-gl-core"),I=a(D),k=e("../../const"),L=0,N=function(e){function t(r,a,o){n(this,t);var s=i(this,e.call(this,"WebGL",r,a,o));return s.legacy=s.options.legacy,s.legacy&&(I.default.VertexArrayObject.FORCE_NATIVE=!0),s.type=k.RENDERER_TYPE.WEBGL,s.handleContextLost=s.handleContextLost.bind(s),s.handleContextRestored=s.handleContextRestored.bind(s),s.view.addEventListener("webglcontextlost",s.handleContextLost,!1),s.view.addEventListener("webglcontextrestored",s.handleContextRestored,!1),s._contextOptions={alpha:s.transparent,antialias:s.options.antialias,premultipliedAlpha:s.transparent&&"notMultiplied"!==s.transparent,stencil:!0,preserveDrawingBuffer:s.options.preserveDrawingBuffer,powerPreference:s.options.powerPreference},s._backgroundColorRgba[3]=s.transparent?0:1,s.maskManager=new u.default(s),s.stencilManager=new c.default(s),s.emptyRenderer=new y.default(s),s.currentRenderer=s.emptyRenderer,s.textureManager=null,s.filterManager=null,s.initPlugins(),s.options.context&&(0,A.default)(s.options.context),s.gl=s.options.context||I.default.createContext(s.view,s._contextOptions),s.CONTEXT_UID=L++,s.state=new C.default(s.gl),s.renderingToScreen=!0,s.boundTextures=null,s._activeShader=null,s._activeVao=null,s._activeRenderTarget=null,s._initContext(),s.drawModes=(0,R.default)(s.gl),s._nextTextureLocation=0,s.setBlendMode(0),s}return o(t,e),t.prototype._initContext=function(){var e=this.gl;e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext();var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=Array(t),this.emptyTextures=Array(t),this.textureManager=new T.default(this),this.filterManager=new h.default(this),this.textureGC=new P.default(this),this.state.resetToDefault(),this.rootRenderTarget=new g.default(e,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new I.default.GLTexture.fromData(e,null,1,1),a={_glTextures:{}};a._glTextures[this.CONTEXT_UID]={};for(var n=0,i;n<t;n++)i=new v.default,i._glTextures[this.CONTEXT_UID]=r,this.boundTextures[n]=a,this.emptyTextures[n]=i,this.bindTexture(null,n);this.emit("context",e),this.resize(this.screen.width,this.screen.height)},t.prototype.render=function(e,t,r,a,n){if(this.renderingToScreen=!t,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,t||(this._lastObjectRendered=e),!n){var i=e.parent;e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=i}this.bindRenderTexture(t,a),this.currentRenderer.start(),(void 0===r?this.clearBeforeRender:r)&&this._activeRenderTarget.clear(),e.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},t.prototype.setObjectRenderer=function(e){this.currentRenderer===e||(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.resize=function(e,t){l.default.prototype.resize.call(this,e,t),this.rootRenderTarget.resize(e,t),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},t.prototype.setBlendMode=function(e){this.state.setBlendMode(e)},t.prototype.clear=function(e){this._activeRenderTarget.clear(e)},t.prototype.setTransform=function(e){this._activeRenderTarget.transform=e},t.prototype.clearRenderTexture=function(e,t){var r=e.baseTexture,a=r._glRenderTargets[this.CONTEXT_UID];return a&&a.clear(t),this},t.prototype.bindRenderTexture=function(e,t){var r;if(e){var a=e.baseTexture;a._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(a,0),this.unbindTexture(a),r=a._glRenderTargets[this.CONTEXT_UID],r.setFrame(e.frame)}else r=this.rootRenderTarget;return r.transform=t,this.bindRenderTarget(r),this},t.prototype.bindRenderTarget=function(e){return e!==this._activeRenderTarget&&(this._activeRenderTarget=e,e.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=e.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(e.stencilMaskStack)),this},t.prototype.bindShader=function(e,t){return this._activeShader!==e&&(this._activeShader=e,e.bind(),!1!==t&&(e.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},t.prototype.bindTexture=function(e,t,r){if(e=e||this.emptyTextures[t],e=e.baseTexture||e,e.touched=this.textureGC.count,!r){for(var a=0;a<this.boundTextures.length;a++)if(this.boundTextures[a]===e)return a;void 0===t&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,t=this.boundTextures.length-this._nextTextureLocation-1)}else t=t||0;var n=this.gl,i=e._glTextures[this.CONTEXT_UID];return i?(this.boundTextures[t]=e,n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,i.texture)):this.textureManager.updateTexture(e,t),t},t.prototype.unbindTexture=function(e){var t=this.gl;e=e.baseTexture||e;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===e&&(this.boundTextures[r]=this.emptyTextures[r],t.activeTexture(t.TEXTURE0+r),t.bindTexture(t.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},t.prototype.createVao=function(){return new I.default.VertexArrayObject(this.gl,this.state.attribState)},t.prototype.bindVao=function(e){return this._activeVao===e?this:(e?e.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=e,this)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.emptyTextures[e];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},t.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),e.prototype.destroy.call(this,t),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},t}(l.default);r.default=N,M.pluginTarget.mixin(N)},{"../../const":38,"../../textures/BaseTexture":104,"../../utils":117,"../SystemRenderer":68,"./TextureGarbageCollector":74,"./TextureManager":75,"./WebGLState":77,"./managers/FilterManager":82,"./managers/MaskManager":83,"./managers/StencilManager":84,"./utils/ObjectRenderer":86,"./utils/RenderTarget":88,"./utils/mapWebGLDrawModesToPixi":91,"./utils/validateContext":92,"pixi-gl-core":20}],77:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=e("./utils/mapWebGLBlendModesToPixi"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=0,s=1,l=2,d=3,u=4,p=function(){function e(t){a(this,e),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:Array(this.maxAttribs),attribState:Array(this.maxAttribs)},this.blendModes=(0,i.default)(t),this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}return e.prototype.push=function(){var e=this.stack[this.stackIndex];e||(e=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var t=0;t<this.activeState.length;t++)e[t]=this.activeState[t]},e.prototype.pop=function(){var e=this.stack[--this.stackIndex];this.setState(e)},e.prototype.setState=function(e){this.setBlend(e[o]),this.setDepthTest(e[s]),this.setFrontFace(e[l]),this.setCullFace(e[d]),this.setBlendMode(e[u])},e.prototype.setBlend=function(e){e=e?1:0,this.activeState[o]===e||(this.activeState[o]=e,this.gl[e?"enable":"disable"](this.gl.BLEND))},e.prototype.setBlendMode=function(e){if(e!==this.activeState[u]){this.activeState[u]=e;var t=this.blendModes[e];2===t.length?this.gl.blendFunc(t[0],t[1]):this.gl.blendFuncSeparate(t[0],t[1],t[2],t[3])}},e.prototype.setDepthTest=function(e){e=e?1:0,this.activeState[s]===e||(this.activeState[s]=e,this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST))},e.prototype.setCullFace=function(e){e=e?1:0,this.activeState[d]===e||(this.activeState[d]=e,this.gl[e?"enable":"disable"](this.gl.CULL_FACE))},e.prototype.setFrontFace=function(e){e=e?1:0,this.activeState[l]===e||(this.activeState[l]=e,this.gl.frontFace(this.gl[e?"CW":"CCW"]))},e.prototype.resetAttributes=function(){for(var e=0;e<this.attribState.tempAttribState.length;e++)this.attribState.tempAttribState[e]=0;for(var t=0;t<this.attribState.attribState.length;t++)this.attribState.attribState[t]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},e.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var e=0;e<this.activeState.length;++e)this.activeState[e]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},e}();r.default=p},{"./utils/mapWebGLBlendModesToPixi":90}],78:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=e("./extractUniformsFromSrc"),s=a(o),l=e("../../../utils"),d=e("../../../const"),u=e("../../../settings"),p=a(u),c={},_=function(){function e(t,r,a){for(var o in n(this,e),this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this._blendMode=d.BLEND_MODES.NORMAL,this.uniformData=a||(0,s.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[o]=this.uniformData[o].value,this.uniformData[o].type&&(this.uniformData[o].type=this.uniformData[o].type.toLowerCase());this.glShaders={},c[this.vertexSrc+this.fragmentSrc]||(c[this.vertexSrc+this.fragmentSrc]=(0,l.uid)()),this.glShaderKey=c[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=p.default.RESOLUTION,this.enabled=!0,this.autoFit=!0}return e.prototype.apply=function(e,t,r,a){e.applyFilter(this,t,r,a)},i(e,[{key:"blendMode",get:function(){return this._blendMode},set:function(e){this._blendMode=e}}],[{key:"defaultVertexSrc",get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord ;\n}"}},{key:"defaultFragmentSrc",get:function(){return"varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uSampler;\nuniform sampler2D filterSampler;\nvoid main(void){\n   vec4 masky = texture2D(filterSampler, vFilterCoord);\n   vec4 sample = texture2D(uSampler, vTextureCoord);\n   vec4 color;\n   if(mod(vFilterCoord.x, 1.0) > 0.5)\n   {\n     color = vec4(1.0, 0.0, 0.0, 1.0);\n   }\n   else\n   {\n     color = vec4(0.0, 1.0, 0.0, 1.0);\n   }\n   gl_FragColor = mix(sample, masky, 0.5);\n   gl_FragColor *= sample.a;\n}"}}]),e}();r.default=_},{"../../../const":38,"../../../settings":93,"../../../utils":117,"./extractUniformsFromSrc":79}],79:[function(e,t,r){"use strict";function a(e){for(var t=/^(projectionMatrix|uSampler|filterArea|filterClamp)$/,r={},a=void 0,n=e.replace(/\s+/g," ").split(/\s*;\s*/),s=0,i;s<n.length;s++)if(i=n[s].trim(),-1<i.indexOf("uniform")){var l=i.split(" "),d=l[1],u=l[2],p=1;-1<u.indexOf("[")&&(a=u.split(/\[|]/),u=a[0],p*=+a[1]),u.match(t)||(r[u]={value:o(d,p),name:u,type:d})}return r}r.__esModule=!0,r.default=function(e,t,r){var n=a(e,r),i=a(t,r);return Object.assign(n,i)};var n=e("pixi-gl-core"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=i.default.shader.defaultValue},{"pixi-gl-core":20}],80:[function(e,t,r){"use strict";r.__esModule=!0,r.calculateScreenSpaceMatrix=function(e,t,r){var a=e.identity();return a.translate(t.x/r.width,t.y/r.height),a.scale(r.width,r.height),a},r.calculateNormalizedScreenSpaceMatrix=function(e,t,r){var a=e.identity();a.translate(t.x/r.width,t.y/r.height);var n=r.width/t.width,i=r.height/t.height;return a.scale(n,i),a},r.calculateSpriteMatrix=function(e,t,r,n){var i=n._texture.orig,o=e.set(r.width,0,0,r.height,t.x,t.y),s=n.worldTransform.copy(a.Matrix.TEMP_MATRIX);return s.invert(),o.prepend(s),o.scale(1/i.width,1/i.height),o.translate(n.anchor.x,n.anchor.y),o};var a=e("../../../math")},{"../../../math":62}],81:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e("../Filter"),l=a(s),d=e("../../../../math"),u=e("path"),p=e("../../../../textures/TextureMatrix"),c=a(p),_=function(e){function t(r){n(this,t);var a=new d.Matrix,o=i(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return r.renderable=!1,o.maskSprite=r,o.maskMatrix=a,o}return o(t,e),t.prototype.apply=function(e,t,r){var a=this.maskSprite,n=this.maskSprite.texture;n.valid&&(!n.transform&&(n.transform=new c.default(n,0)),n.transform.update(),this.uniforms.mask=n,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,a).prepend(n.transform.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=n.transform.uClampFrame,e.applyFilter(this,t,r))},t}(l.default);r.default=_},{"../../../../math":62,"../../../../textures/TextureMatrix":108,"../Filter":78,path:13}],82:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var s=e("./WebGLManager"),l=a(s),d=e("../utils/RenderTarget"),u=a(d),p=e("../utils/Quad"),c=a(p),_=e("../../../math"),h=e("../../../Shader"),f=a(h),g=e("../filters/filterTransforms"),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(g),y=e("bit-twiddle"),x=a(y),T=function e(){o(this,e),this.renderTarget=null,this.sourceFrame=new _.Rectangle,this.destinationFrame=new _.Rectangle,this.filters=[],this.target=null,this.resolution=1},b=function(e){function t(r){o(this,t);var a=n(this,e.call(this,r));return a.gl=a.renderer.gl,a.quad=new c.default(a.gl,r.state.attribState),a.shaderCache={},a.pool={},a.filterData=null,a.managedFilters=[],a}return i(t,e),t.prototype.pushFilter=function(e,t){var r=this.renderer,a=this.filterData;if(!a){a=this.renderer._activeRenderTarget.filterStack;var n=new T;n.sourceFrame=n.destinationFrame=this.renderer._activeRenderTarget.size,n.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=a={index:0,stack:[n]},this.filterData=a}var i=a.stack[++a.index];i||(i=a.stack[a.index]=new T);var o=t[0].resolution,s=0|t[0].padding,l=e.filterArea||e.getBounds(!0),d=i.sourceFrame,u=i.destinationFrame;d.x=(0|l.x*o)/o,d.y=(0|l.y*o)/o,d.width=(0|l.width*o)/o,d.height=(0|l.height*o)/o,a.stack[0].renderTarget.transform||t[0].autoFit&&d.fit(a.stack[0].destinationFrame),d.pad(s),u.width=d.width,u.height=d.height;var p=this.getPotRenderTarget(r.gl,d.width,d.height,o);i.target=e,i.filters=t,i.resolution=o,i.renderTarget=p,p.setFrame(u,d),r.bindRenderTarget(p),p.clear()},t.prototype.popFilter=function(){var e=this.filterData,r=e.stack[e.index-1],a=e.stack[e.index];this.quad.map(a.renderTarget.size,a.sourceFrame).upload();var n=a.filters;if(1===n.length)n[0].apply(this,a.renderTarget,r.renderTarget,!1,a),this.freePotRenderTarget(a.renderTarget);else{var o=a.renderTarget,s=this.getPotRenderTarget(this.renderer.gl,a.sourceFrame.width,a.sourceFrame.height,a.resolution);s.setFrame(a.destinationFrame,a.sourceFrame),s.clear();var l=0;for(l=0;l<n.length-1;++l){n[l].apply(this,o,s,!0,a);var i=o;o=s,s=i}n[l].apply(this,o,r.renderTarget,!1,a),this.freePotRenderTarget(o),this.freePotRenderTarget(s)}e.index--,0===e.index&&(this.filterData=null)},t.prototype.applyFilter=function(e,t,r,a){var n=this.renderer,i=n.gl,o=e.glShaders[n.CONTEXT_UID];o||(e.glShaderKey?(o=this.shaderCache[e.glShaderKey],!o&&(o=new f.default(this.gl,e.vertexSrc,e.fragmentSrc),e.glShaders[n.CONTEXT_UID]=this.shaderCache[e.glShaderKey]=o,this.managedFilters.push(e))):(o=e.glShaders[n.CONTEXT_UID]=new f.default(this.gl,e.vertexSrc,e.fragmentSrc),this.managedFilters.push(e)),n.bindVao(null),this.quad.initVao(o)),n.bindVao(this.quad.vao),n.bindRenderTarget(r),a&&(i.disable(i.SCISSOR_TEST),n.clear(),i.enable(i.SCISSOR_TEST)),r===n.maskManager.scissorRenderTarget&&n.maskManager.pushScissorMask(null,n.maskManager.scissorData),n.bindShader(o);var s=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=s,this.syncUniforms(o,e),n.state.setBlendMode(e.blendMode),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,t.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),i.bindTexture(i.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)},t.prototype.syncUniforms=function(e,t){var r=t.uniformData,a=t.uniforms,n=1,o;if(e.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=e.uniforms.filterArea;s[0]=o.renderTarget.size.width,s[1]=o.renderTarget.size.height,s[2]=o.sourceFrame.x,s[3]=o.sourceFrame.y,e.uniforms.filterArea=s}if(e.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var l=e.uniforms.filterClamp;l[0]=0,l[1]=0,l[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,l[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,e.uniforms.filterClamp=l}for(var d in r){var i=r[d].type;if("sampler2d"===i&&0!==a[d]){if(a[d].baseTexture)e.uniforms[d]=this.renderer.bindTexture(a[d].baseTexture,n);else{e.uniforms[d]=n;var u=this.renderer.gl;this.renderer.boundTextures[n]=this.renderer.emptyTextures[n],u.activeTexture(u.TEXTURE0+n),a[d].texture.bind()}n++}else if("mat3"===i)e.uniforms[d]=void 0===a[d].a?a[d]:a[d].toArray(!0);else if("vec2"!==i)"float"===i?e.uniforms.data[d].value!==r[d]&&(e.uniforms[d]=a[d]):e.uniforms[d]=a[d];else if(void 0!==a[d].x){var p=e.uniforms[d]||new Float32Array(2);p[0]=a[d].x,p[1]=a[d].y,e.uniforms[d]=p}else e.uniforms[d]=a[d]}},t.prototype.getRenderTarget=function(e,t){var r=this.filterData.stack[this.filterData.index],a=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,t||r.resolution);return a.setFrame(r.destinationFrame,r.sourceFrame),a},t.prototype.returnRenderTarget=function(e){this.freePotRenderTarget(e)},t.prototype.calculateScreenSpaceMatrix=function(e){var t=this.filterData.stack[this.filterData.index];return m.calculateScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size)},t.prototype.calculateNormalizedScreenSpaceMatrix=function(e){var t=this.filterData.stack[this.filterData.index];return m.calculateNormalizedScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size,t.destinationFrame)},t.prototype.calculateSpriteMatrix=function(e,t){var r=this.filterData.stack[this.filterData.index];return m.calculateSpriteMatrix(e,r.sourceFrame,r.renderTarget.size,t)},t.prototype.destroy=function(){for(var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.renderer,r=this.managedFilters,a=0;a<r.length;a++)e||r[a].glShaders[t.CONTEXT_UID].destroy(),delete r[a].glShaders[t.CONTEXT_UID];this.shaderCache={},e?this.pool={}:this.emptyPool()},t.prototype.getPotRenderTarget=function(e,t,r,a){t=x.default.nextPow2(t*a),r=x.default.nextPow2(r*a);var n=(65535&t)<<16|65535&r;this.pool[n]||(this.pool[n]=[]);var i=this.pool[n].pop();if(!i){var o=this.renderer.boundTextures[0];e.activeTexture(e.TEXTURE0),i=new u.default(e,t,r,null,1),e.bindTexture(e.TEXTURE_2D,o._glTextures[this.renderer.CONTEXT_UID].texture)}return i.resolution=a,i.defaultFrame.width=i.size.width=t/a,i.defaultFrame.height=i.size.height=r/a,i},t.prototype.emptyPool=function(){for(var e in this.pool){var t=this.pool[e];if(t)for(var r=0;r<t.length;r++)t[r].destroy(!0)}this.pool={}},t.prototype.freePotRenderTarget=function(e){var t=e.size.width*e.resolution,r=e.size.height*e.resolution;this.pool[(65535&t)<<16|65535&r].push(e)},t}(l.default);r.default=b},{"../../../Shader":36,"../../../math":62,"../filters/filterTransforms":80,"../utils/Quad":87,"../utils/RenderTarget":88,"./WebGLManager":85,"bit-twiddle":4}],83:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e("./WebGLManager"),l=a(s),d=e("../filters/spriteMask/SpriteMaskFilter"),u=a(d),p=function(e){function t(r){n(this,t);var a=i(this,e.call(this,r));return a.scissor=!1,a.scissorData=null,a.scissorRenderTarget=null,a.enableScissor=!0,a.alphaMaskPool=[],a.alphaMaskIndex=0,a}return o(t,e),t.prototype.pushMask=function(e,t){if(t.texture)this.pushSpriteMask(e,t);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&t.isFastRect()){var r=t.worldTransform,a=Math.atan2(r.b,r.a);a=Math.round(a*(180/Math.PI)),a%90?this.pushStencilMask(t):this.pushScissorMask(e,t)}else this.pushStencilMask(t)},t.prototype.popMask=function(e,t){t.texture?this.popSpriteMask(e,t):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(e,t):this.popStencilMask(e,t)},t.prototype.pushSpriteMask=function(e,t){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new u.default(t)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=t,e.filterArea=t.getBounds(!0),this.renderer.filterManager.pushFilter(e,r),this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},t.prototype.pushStencilMask=function(e){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(e)},t.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},t.prototype.pushScissorMask=function(e,t){t.renderable=!0;var r=this.renderer._activeRenderTarget,a=t.getBounds();a.fit(r.size),t.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var n=this.renderer.resolution;this.renderer.gl.scissor(a.x*n,(r.root?r.size.height-a.y-a.height:a.y)*n,a.width*n,a.height*n),this.scissorRenderTarget=r,this.scissorData=t,this.scissor=!0},t.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var e=this.renderer.gl;e.disable(e.SCISSOR_TEST)},t}(l.default);r.default=p},{"../filters/spriteMask/SpriteMaskFilter":81,"./WebGLManager":85}],84:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e("./WebGLManager"),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(r){a(this,t);var i=n(this,e.call(this,r));return i.stencilMaskStack=null,i}return i(t,e),t.prototype.setMaskStack=function(e){this.stencilMaskStack=e;var t=this.renderer.gl;0===e.length?t.disable(t.STENCIL_TEST):t.enable(t.STENCIL_TEST)},t.prototype.pushStencil=function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var t=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&t.enable(t.STENCIL_TEST),this.stencilMaskStack.push(e),t.colorMask(!1,!1,!1,!1),t.stencilFunc(t.EQUAL,r,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.INCR),this.renderer.plugins.graphics.render(e),this._useCurrent()},t.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var e=this.renderer.gl,t=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),this.renderer.plugins.graphics.render(t),this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},t.prototype.destroy=function(){s.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},t}(s.default);r.default=l},{"./WebGLManager":85}],85:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=function(){function e(t){a(this,e),this.renderer=t,this.renderer.on("context",this.onContextChange,this)}return e.prototype.onContextChange=function(){},e.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},e}();r.default=n},{}],86:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e("../managers/WebGLManager"),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(){return a(this,t),n(this,e.apply(this,arguments))}return i(t,e),t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.flush=function(){},t.prototype.render=function(){},t}(s.default);r.default=l},{"../managers/WebGLManager":85}],87:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=e("pixi-gl-core"),o=a(i),s=e("../../../utils/createIndicesForQuads"),l=a(s),d=function(){function e(t,r){n(this,e),this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var a=0;4>a;a++)this.interleaved[4*a]=this.vertices[2*a],this.interleaved[4*a+1]=this.vertices[2*a+1],this.interleaved[4*a+2]=this.uvs[2*a],this.interleaved[4*a+3]=this.uvs[2*a+1];this.indices=(0,l.default)(1),this.vertexBuffer=o.default.GLBuffer.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new o.default.VertexArrayObject(t,r)}return e.prototype.initVao=function(e){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,e.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,e.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},e.prototype.map=function(e,t){var r=0,a=0;return this.uvs[0]=r,this.uvs[1]=a,this.uvs[2]=r+t.width/e.width,this.uvs[3]=a,this.uvs[4]=r+t.width/e.width,this.uvs[5]=a+t.height/e.height,this.uvs[6]=r,this.uvs[7]=a+t.height/e.height,r=t.x,a=t.y,this.vertices[0]=r,this.vertices[1]=a,this.vertices[2]=r+t.width,this.vertices[3]=a,this.vertices[4]=r+t.width,this.vertices[5]=a+t.height,this.vertices[6]=r,this.vertices[7]=a+t.height,this},e.prototype.upload=function(){for(var e=0;4>e;e++)this.interleaved[4*e]=this.vertices[2*e],this.interleaved[4*e+1]=this.vertices[2*e+1],this.interleaved[4*e+2]=this.uvs[2*e],this.interleaved[4*e+3]=this.uvs[2*e+1];return this.vertexBuffer.upload(this.interleaved),this},e.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer)},e}();r.default=d},{"../../../utils/createIndicesForQuads":115,"pixi-gl-core":20}],88:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=e("../../../math"),i=e("../../../const"),o=e("../../../settings"),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=e("pixi-gl-core"),d=function(){function e(t,r,o,d,u,p){a(this,e),this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new n.Rectangle(0,0,1,1),this.resolution=u||s.default.RESOLUTION,this.projectionMatrix=new n.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new n.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0===d?s.default.SCALE_MODE:d,this.root=p,this.root?(this.frameBuffer=new l.GLFramebuffer(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=l.GLFramebuffer.createRGBA(t,100,100),this.scaleMode===i.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,o)}return e.prototype.clear=function(e){var t=e||this.clearColor;this.frameBuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},e.prototype.setFrame=function(e,t){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||this.destinationFrame},e.prototype.activate=function(){var e=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame===this.sourceFrame?e.disable(e.SCISSOR_TEST):(e.enable(e.SCISSOR_TEST),e.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width*this.resolution,0|this.destinationFrame.height*this.resolution)),e.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width*this.resolution,0|this.destinationFrame.height*this.resolution)},e.prototype.calculateProjection=function(e,t){var r=this.projectionMatrix;t=t||e,r.identity(),this.root?(r.a=2*(1/e.width),r.d=2*(-1/e.height),r.tx=-1-t.x*r.a,r.ty=1-t.y*r.d):(r.a=2*(1/e.width),r.d=2*(1/e.height),r.tx=-1-t.x*r.a,r.ty=-1-t.y*r.d)},e.prototype.resize=function(e,t){if(e|=0,t|=0,this.size.width!==e||this.size.height!==t){this.size.width=e,this.size.height=t,this.defaultFrame.width=e,this.defaultFrame.height=t,this.frameBuffer.resize(e*this.resolution,t*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},e.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},e}();r.default=d},{"../../../const":38,"../../../math":62,"../../../settings":93,"pixi-gl-core":20}],89:[function(e,t,r){"use strict";function a(e){for(var t="",r=0;r<e;++r)0<r&&(t+="\nelse "),r<e-1&&(t+="if(test == "+r+".0){}");return t}r.__esModule=!0,r.default=function(e,t){var r=!t;if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var n=document.createElement("canvas");n.width=1,n.height=1,t=i.default.createContext(n)}for(var s=t.createShader(t.FRAGMENT_SHADER),l;l=o.replace(/%forloop%/gi,a(e)),t.shaderSource(s,l),t.compileShader(s),!t.getShaderParameter(s,t.COMPILE_STATUS);)e=0|e/2;return r&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").loseContext(),e};var n=e("pixi-gl-core"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o="precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}"},{"pixi-gl-core":20}],90:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return t[a.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.ADD]=[e.ONE,e.DST_ALPHA],t[a.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR],t[a.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[a.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.DST_ALPHA,e.ONE,e.DST_ALPHA],t[a.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_COLOR],t};var a=e("../../../const")},{"../../../const":38}],91:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t[a.DRAW_MODES.POINTS]=e.POINTS,t[a.DRAW_MODES.LINES]=e.LINES,t[a.DRAW_MODES.LINE_LOOP]=e.LINE_LOOP,t[a.DRAW_MODES.LINE_STRIP]=e.LINE_STRIP,t[a.DRAW_MODES.TRIANGLES]=e.TRIANGLES,t[a.DRAW_MODES.TRIANGLE_STRIP]=e.TRIANGLE_STRIP,t[a.DRAW_MODES.TRIANGLE_FAN]=e.TRIANGLE_FAN,t};var a=e("../../../const")},{"../../../const":38}],92:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e){var t=e.getContextAttributes();t.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},{}],93:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var n=e("./utils/maxRecommendedTextures"),i=a(n),o=e("./utils/canUploadSameBuffer"),s=a(o);r.default={TARGET_FPMS:0.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,i.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,s.default)()}},{"./utils/canUploadSameBuffer":114,"./utils/maxRecommendedTextures":119}],94:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.abs;r.__esModule=!0;var l=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=e("../math"),u=e("../utils"),p=e("../const"),c=e("../textures/Texture"),_=a(c),h=e("../display/Container"),f=a(h),g=new d.Point,m=function(e){function t(r){n(this,t);var a=i(this,e.call(this));return a._anchor=new d.ObservablePoint(a._onAnchorUpdate,a),a._texture=null,a._width=0,a._height=0,a._tint=null,a._tintRGB=null,a.tint=16777215,a.blendMode=p.BLEND_MODES.NORMAL,a.shader=null,a.cachedTint=16777215,a.texture=r||_.default.EMPTY,a.vertexData=new Float32Array(8),a.vertexTrimmedData=null,a._transformID=-1,a._textureID=-1,a._transformTrimmedID=-1,a._textureTrimmedID=-1,a.pluginName="sprite",a}return o(t,e),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,u.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,u.sign)(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var e=this._texture,t=this.transform.worldTransform,r=t.a,a=t.b,n=t.c,i=t.d,o=t.tx,s=t.ty,l=this.vertexData,d=e.trim,u=e.orig,p=this._anchor,c=0,_=0,h=0,f=0;d?(_=d.x-p._x*u.width,c=_+d.width,f=d.y-p._y*u.height,h=f+d.height):(_=-p._x*u.width,c=_+u.width,f=-p._y*u.height,h=f+u.height),l[0]=r*_+n*f+o,l[1]=i*f+a*_+s,l[2]=r*c+n*f+o,l[3]=i*f+a*c+s,l[4]=r*c+n*h+o,l[5]=i*h+a*c+s,l[6]=r*_+n*h+o,l[7]=i*h+a*_+s}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,r=e.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,l=i.d,d=i.tx,u=i.ty,p=-n._x*r.width,c=p+r.width,_=-n._y*r.height,h=_+r.height;t[0]=o*p+s*_+d,t[1]=l*_+a*p+u,t[2]=o*c+s*_+d,t[3]=l*_+a*c+u,t[4]=o*c+s*h+d,t[5]=l*h+a*c+u,t[6]=o*p+s*h+d,t[7]=l*h+a*p+u},t.prototype._renderWebGL=function(e){this.calculateVertices(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._renderCanvas=function(e){e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;e&&(e.width!==t.width||e.height!==t.height)?(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData)):(this.calculateVertices(),this._bounds.addQuad(this.vertexData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(!this._localBoundsRect&&(this._localBoundsRect=new d.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,g);var t=this._texture.orig.width,r=this._texture.orig.height,a=-t*this.anchor.x,n=0;return g.x>=a&&g.x<a+t&&(n=-r*this.anchor.y,g.y>=n&&g.y<n+r)},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this._anchor=null;var r="boolean"==typeof t?t:t&&t.texture;if(r){var a="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!a)}this._texture=null,this.shader=null},t.from=function(e){return new t(_.default.from(e))},t.fromFrame=function(e){var r=u.TextureCache[e];if(!r)throw new Error("The frameId \""+e+"\" does not exist in the texture cache");return new t(r)},t.fromImage=function(e,r,a){return new t(_.default.fromImage(e,r,a))},l(t,[{key:"width",get:function(){return s(this.scale.x)*this._texture.orig.width},set:function(e){var t=(0,u.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return s(this.scale.y)*this._texture.orig.height},set:function(e){var t=(0,u.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor.copy(e)}},{key:"tint",get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture===e||(this._texture=e,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}]),t}(f.default);r.default=m},{"../const":38,"../display/Container":40,"../math":62,"../textures/Texture":107,"../utils":117}],95:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=e("../../renderers/canvas/CanvasRenderer"),o=a(i),s=e("../../const"),l=e("../../math"),d=e("./CanvasTinter"),u=a(d),p=new l.Matrix,c=function(){function e(t){n(this,e),this.renderer=t}return e.prototype.render=function(e){var t=e._texture,r=this.renderer,a=t._frame.width,n=t._frame.height,i=e.transform.worldTransform,o=0,d=0;if(!(0>=t.orig.width||0>=t.orig.height||!t.baseTexture.source)&&(r.setBlendMode(e.blendMode),t.valid)){r.context.globalAlpha=e.worldAlpha;var c=t.baseTexture.scaleMode===s.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==c&&(r.context[r.smoothProperty]=c),t.trim?(o=t.trim.width/2+t.trim.x-e.anchor.x*t.orig.width,d=t.trim.height/2+t.trim.y-e.anchor.y*t.orig.height):(o=(0.5-e.anchor.x)*t.orig.width,d=(0.5-e.anchor.y)*t.orig.height),t.rotate&&(i.copy(p),i=p,l.GroupD8.matrixAppendRotationInv(i,t.rotate,o,d),o=0,d=0),o-=a/2,d-=n/2,r.roundPixels?(r.context.setTransform(i.a,i.b,i.c,i.d,0|i.tx*r.resolution,0|i.ty*r.resolution),o|=0,d|=0):r.context.setTransform(i.a,i.b,i.c,i.d,i.tx*r.resolution,i.ty*r.resolution);var _=t.baseTexture.resolution;16777215===e.tint?r.context.drawImage(t.baseTexture.source,t._frame.x*_,t._frame.y*_,a*_,n*_,o*r.resolution,d*r.resolution,a*r.resolution,n*r.resolution):((e.cachedTint!==e.tint||e.tintedTexture.tintId!==e._texture._updateID)&&(e.cachedTint=e.tint,e.tintedTexture=u.default.getTintedTexture(e,e.tint)),r.context.drawImage(e.tintedTexture,0,0,a*_,n*_,o*r.resolution,d*r.resolution,a*r.resolution,n*r.resolution))}},e.prototype.destroy=function(){this.renderer=null},e}();r.default=c,o.default.registerPlugin("sprite",c)},{"../../const":38,"../../math":62,"../../renderers/canvas/CanvasRenderer":69,"./CanvasTinter":96}],96:[function(e,t,r){"use strict";var a=Math.ceil,n=Math.min;r.__esModule=!0;var o=e("../../utils"),i=e("../../renderers/canvas/utils/canUseNewCanvasBlendModes"),s=function(e){return e&&e.__esModule?e:{default:e}}(i),l={getTintedTexture:function(e,t){var r=e._texture;t=l.roundColor(t);var a="#"+("00000"+(0|t).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var n=r.tintCache[a],i;if(n){if(n.tintId===r._updateID)return r.tintCache[a];i=r.tintCache[a]}else i=l.canvas||document.createElement("canvas");if(l.tintMethod(r,t,i),i.tintId=r._updateID,l.convertTintToImage){var o=new Image;o.src=i.toDataURL(),r.tintCache[a]=o}else r.tintCache[a]=i,l.canvas=null;return i},tintWithMultiply:function(e,t,r){var n=r.getContext("2d"),i=e._frame.clone(),o=e.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=a(i.width),r.height=a(i.height),n.save(),n.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithOverlay:function(e,t,r){var n=r.getContext("2d"),i=e._frame.clone(),o=e.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=a(i.width),r.height=a(i.height),n.save(),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithPerPixel:function(e,t,n){var s=n.getContext("2d"),l=e._frame.clone(),d=e.baseTexture.resolution;l.x*=d,l.y*=d,l.width*=d,l.height*=d,n.width=a(l.width),n.height=a(l.height),s.save(),s.globalCompositeOperation="copy",s.drawImage(e.baseTexture.source,l.x,l.y,l.width,l.height,0,0,l.width,l.height),s.restore();for(var u=(0,o.hex2rgb)(t),p=u[0],r=u[1],c=u[2],_=s.getImageData(0,0,l.width,l.height),h=_.data,f=0;f<h.length;f+=4)h[f+0]*=p,h[f+1]*=r,h[f+2]*=c;s.putImageData(_,0,0)},roundColor:function(e){var t=l.cacheStepsPerColorChannel,r=(0,o.hex2rgb)(e);return r[0]=n(255,r[0]/t*t),r[1]=n(255,r[1]/t*t),r[2]=n(255,r[2]/t*t),(0,o.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,s.default)(),tintMethod:0};l.tintMethod=l.canUseMultiply?l.tintWithMultiply:l.tintWithPerPixel,r.default=l},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":72,"../../utils":117}],97:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=function(){function e(t){a(this,e),this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return e.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},e}();r.default=n},{}],98:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.min;r.__esModule=!0;var l=e("../../renderers/webgl/utils/ObjectRenderer"),d=a(l),u=e("../../renderers/webgl/WebGLRenderer"),p=a(u),c=e("../../utils/createIndicesForQuads"),_=a(c),h=e("./generateMultiTextureShader"),f=a(h),g=e("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),m=a(g),y=e("./BatchBuffer"),x=a(y),T=e("../../settings"),b=a(T),v=e("../../utils"),E=e("pixi-gl-core"),P=a(E),S=e("bit-twiddle"),C=a(S),O=0,R=0,w=function(e){function t(r){n(this,t);var a=o(this,e.call(this,r));a.vertSize=5,a.vertByteSize=4*a.vertSize,a.size=b.default.SPRITE_BATCH_SIZE,a.buffers=[];for(var s=1;s<=C.default.nextPow2(a.size);s*=2)a.buffers.push(new x.default(4*s*a.vertByteSize));a.indices=(0,_.default)(a.size),a.shader=null,a.currentIndex=0,a.groups=[];for(var i=0;i<a.size;i++)a.groups[i]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return a.sprites=[],a.vertexBuffers=[],a.vaos=[],a.vaoMax=2,a.vertexCount=0,a.renderer.on("prerender",a.onPrerender,a),a}return i(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=s(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),b.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,m.default)(this.MAX_TEXTURES,e)),this.shader=(0,f.default)(e,this.MAX_TEXTURES),this.indexBuffer=P.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.renderer.bindVao(null);for(var t=this.shader.attributes,r=0;r<this.vaoMax;r++){var a=this.vertexBuffers[r]=P.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),n=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(a,t.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(a,t.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(a,t.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);t.aTextureId&&n.addAttribute(a,t.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=n}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=Array(this.MAX_TEXTURES)},t.prototype.onPrerender=function(){this.vertexCount=0},t.prototype.render=function(e){this.currentIndex>=this.size&&this.flush(),e._texture._uvs&&(this.sprites[this.currentIndex++]=e)},t.prototype.flush=function(){if(0!==this.currentIndex){var e=this.renderer.gl,r=this.MAX_TEXTURES,a=C.default.nextPow2(this.currentIndex),n=C.default.log2(a),o=this.buffers[n],l=this.sprites,d=this.groups,u=o.float32View,p=o.uint32View,c=this.boundTextures,_=this.renderer.boundTextures,h=this.renderer.textureGC.count,f=0,g=1,m=0,y=d[0],x=v.premultiplyBlendMode[l[0]._texture.baseTexture.premultipliedAlpha?1:0][l[0].blendMode],T,E,S,w;y.textureCount=0,y.start=0,y.blend=x,O++;var A;for(A=0;A<r;++A){var i=_[A];if(i._enabled===O){c[A]=this.renderer.emptyTextures[A];continue}c[A]=i,i._virtalBoundId=A,i._enabled=O}for(O++,A=0;A<this.currentIndex;++A){var M=l[A];T=M._texture.baseTexture;var D=v.premultiplyBlendMode[+T.premultipliedAlpha][M.blendMode];if(x!==D&&(x=D,E=null,m=r,O++),E!==T&&(E=T,T._enabled!==O)){if(m===r&&(O++,y.size=A-y.start,m=0,y=d[g++],y.blend=x,y.textureCount=0,y.start=A),T.touched=h,-1===T._virtalBoundId)for(var I=0;I<r;++I){var k=(I+R)%r,L=c[k];if(L._enabled!==O){R++,L._virtalBoundId=-1,T._virtalBoundId=k,c[k]=T;break}}T._enabled=O,y.textureCount++,y.ids[m]=T._virtalBoundId,y.textures[m++]=T}if(S=M.vertexData,w=M._texture._uvs.uvsUint32,this.renderer.roundPixels){var t=this.renderer.resolution;u[f]=(0|S[0]*t)/t,u[f+1]=(0|S[1]*t)/t,u[f+5]=(0|S[2]*t)/t,u[f+6]=(0|S[3]*t)/t,u[f+10]=(0|S[4]*t)/t,u[f+11]=(0|S[5]*t)/t,u[f+15]=(0|S[6]*t)/t,u[f+16]=(0|S[7]*t)/t}else u[f]=S[0],u[f+1]=S[1],u[f+5]=S[2],u[f+6]=S[3],u[f+10]=S[4],u[f+11]=S[5],u[f+15]=S[6],u[f+16]=S[7];p[f+2]=w[0],p[f+7]=w[1],p[f+12]=w[2],p[f+17]=w[3];var N=s(M.worldAlpha,1),B=1>N&&T.premultipliedAlpha?(0,v.premultiplyTint)(M._tintRGB,N):M._tintRGB+(255*N<<24);p[f+3]=p[f+8]=p[f+13]=p[f+18]=B,u[f+4]=u[f+9]=u[f+14]=u[f+19]=T._virtalBoundId,f+=20}if(y.size=A-y.start,!b.default.CAN_UPLOAD_SAME_BUFFER){if(this.vaoMax<=this.vertexCount){this.vaoMax++;var F=this.shader.attributes,U=this.vertexBuffers[this.vertexCount]=P.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),X=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(U,F.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(U,F.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(U,F.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);F.aTextureId&&X.addAttribute(U,F.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=X}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(o.vertices,0,!1),this.vertexCount++}else this.vertexBuffers[this.vertexCount].upload(o.vertices,0,!0);for(A=0;A<r;++A)_[A]._virtalBoundId=-1;for(A=0;A<g;++A){for(var G=d[A],j=G.textureCount,Y=0;Y<j;Y++)E=G.textures[Y],_[G.ids[Y]]!==E&&this.renderer.bindTexture(E,G.ids[Y],!0),E._virtalBoundId=-1;this.renderer.state.setBlendMode(G.blend),e.drawElements(e.TRIANGLES,6*G.size,e.UNSIGNED_SHORT,2*(6*G.start))}this.currentIndex=0}},t.prototype.start=function(){this.renderer.bindShader(this.shader),b.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this.vaoMax;t++)this.vertexBuffers[t]&&this.vertexBuffers[t].destroy(),this.vaos[t]&&this.vaos[t].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},t}(d.default);r.default=w,p.default.registerPlugin("sprite",w)},{"../../renderers/webgl/WebGLRenderer":76,"../../renderers/webgl/utils/ObjectRenderer":86,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":89,"../../settings":93,"../../utils":117,"../../utils/createIndicesForQuads":115,"./BatchBuffer":97,"./generateMultiTextureShader":99,"bit-twiddle":4,"pixi-gl-core":20}],99:[function(e,t,r){"use strict";function a(e){var t="";t+="\n",t+="\n";for(var r=0;r<e;r++)0<r&&(t+="\nelse "),r<e-1&&(t+="if(textureId == "+r+".0)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n",t}r.__esModule=!0,r.default=function(e,t){var r=s;r=r.replace(/%count%/gi,t),r=r.replace(/%forloop%/gi,a(t));for(var n=new o.default(e,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",r),l=[],d=0;d<t;d++)l[d]=d;return n.bind(),n.uniforms.uSamplers=l,n};var n=e("../../Shader"),o=function(e){return e&&e.__esModule?e:{default:e}}(n),i=e("path"),s="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\nvoid main(void){\nvec4 color;\nfloat textureId = floor(vTextureId+0.5);\n%forloop%\ngl_FragColor = color * vColor;\n}"},{"../../Shader":36,path:13}],100:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.ceil,l=Math.abs;r.__esModule=!0;var d=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),u=e("../sprites/Sprite"),p=a(u),c=e("../textures/Texture"),_=a(c),h=e("../math"),f=e("../utils"),g=e("../const"),m=e("../settings"),y=a(m),x=e("./TextStyle"),T=a(x),b=e("./TextMetrics"),v=a(b),E=e("../utils/trimCanvas"),P=a(E),S={texture:!0,children:!1,baseTexture:!0},C=function(e){function t(r,a,o){n(this,t),o=o||document.createElement("canvas"),o.width=3,o.height=3;var s=_.default.fromCanvas(o,y.default.SCALE_MODE,"text");s.orig=new h.Rectangle,s.trim=new h.Rectangle;var l=i(this,e.call(this,s));return _.default.addToCache(l._texture,l._texture.baseTexture.textureCacheIds[0]),l.canvas=o,l.context=l.canvas.getContext("2d"),l.resolution=y.default.RESOLUTION,l._text=null,l._style=null,l._styleListener=null,l._font="",l.text=r,l.style=a,l.localStyleID=-1,l}return o(t,e),t.prototype.updateText=function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var r=this.context,a=v.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),n=a.width,o=a.height,l=a.lines,d=a.lineHeight,u=a.lineWidths,p=a.maxLineWidth,c=a.fontProperties;this.canvas.width=s((n+2*t.padding)*this.resolution),this.canvas.height=s((o+2*t.padding)*this.resolution),r.scale(this.resolution,this.resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.strokeStyle=t.stroke,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;var _,h;if(t.dropShadow){r.fillStyle=t.dropShadowColor,r.globalAlpha=t.dropShadowAlpha,r.shadowBlur=t.dropShadowBlur,0<t.dropShadowBlur&&(r.shadowColor=t.dropShadowColor);for(var f=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,g=Math.sin(t.dropShadowAngle)*t.dropShadowDistance,m=0;m<l.length;m++)_=t.strokeThickness/2,h=t.strokeThickness/2+m*d+c.ascent,"right"===t.align?_+=p-u[m]:"center"===t.align&&(_+=(p-u[m])/2),t.fill&&(this.drawLetterSpacing(l[m],_+f+t.padding,h+g+t.padding),t.stroke&&t.strokeThickness&&(r.strokeStyle=t.dropShadowColor,this.drawLetterSpacing(l[m],_+f+t.padding,h+g+t.padding,!0),r.strokeStyle=t.stroke))}r.shadowBlur=0,r.globalAlpha=1,r.fillStyle=this._generateFillStyle(t,l);for(var i=0;i<l.length;i++)_=t.strokeThickness/2,h=t.strokeThickness/2+i*d+c.ascent,"right"===t.align?_+=p-u[i]:"center"===t.align&&(_+=(p-u[i])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(l[i],_+t.padding,h+t.padding,!0),t.fill&&this.drawLetterSpacing(l[i],_+t.padding,h+t.padding);this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]&&arguments[3],n=this._style,i=n.letterSpacing;if(0===i)return void(a?this.context.strokeText(e,t,r):this.context.fillText(e,t,r));for(var o=String.prototype.split.call(e,""),s=t,l=0,d="";l<e.length;)d=o[l++],a?this.context.strokeText(d,s,r):this.context.fillText(d,s,r),s+=this.context.measureText(d).width+i},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=(0,P.default)(e);e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0)}var r=this._texture,a=this._style,n=a.trim?0:a.padding,i=r.baseTexture;i.hasLoaded=!0,i.resolution=this.resolution,i.realWidth=e.width,i.realHeight=e.height,i.width=e.width/this.resolution,i.height=e.height/this.resolution,r.trim.width=r._frame.width=e.width/this.resolution,r.trim.height=r._frame.height=e.height/this.resolution,r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),i.emit("update",i),this.dirty=!1},t.prototype.renderWebGL=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype.renderWebGL.call(this,t)},t.prototype._renderCanvas=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._renderCanvas.call(this,t)},t.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._onStyleChange=function(){this.dirty=!0},t.prototype._generateFillStyle=function(e,t){if(!Array.isArray(e.fill))return e.fill;if(navigator.isCocoonJS)return e.fill[0];var r=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,n=e.fill.slice(),o=e.fillGradientStops.slice(),s,l,d,u;if(!o.length)for(var p=n.length+1,c=1;c<p;++c)o.push(c/p);if(n.unshift(e.fill[0]),o.unshift(0),n.push(e.fill[e.fill.length-1]),o.push(1),e.fillGradientType===g.TEXT_GRADIENT.LINEAR_VERTICAL){s=this.context.createLinearGradient(r/2,0,r/2,a),l=(n.length+1)*t.length,d=0;for(var i=0;i<t.length;i++){d+=1;for(var _=0;_<n.length;_++)u="number"==typeof o[_]?o[_]/t.length+i/t.length:d/l,s.addColorStop(u,n[_]),d++}}else{s=this.context.createLinearGradient(0,a/2,r,a/2),l=n.length+1,d=1;for(var h=0;h<n.length;h++)u="number"==typeof o[h]?o[h]:d/l,s.addColorStop(u,n[h]),d++}return s},t.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},S,t),e.prototype.destroy.call(this,t),this.context=null,this.canvas=null,this._style=null},d(t,[{key:"width",get:function(){return this.updateText(!0),l(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=(0,f.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return this.updateText(!0),l(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=(0,f.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"style",get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof T.default?e:new T.default(e),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(e){e=(""===e||null===e||void 0===e?" ":e)+"",this._text===e||(this._text=e,this.dirty=!0)}}]),t}(p.default);r.default=C},{"../const":38,"../math":62,"../settings":93,"../sprites/Sprite":94,"../textures/Texture":107,"../utils":117,"../utils/trimCanvas":122,"./TextMetrics":101,"./TextStyle":102}],101:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=Math.ceil,o=Math.max;r.__esModule=!0;var i=function(){function e(t,r,n,i,o,s,l,d,u){a(this,e),this.text=t,this.style=r,this.width=n,this.height=i,this.lines=o,this.lineWidths=s,this.lineHeight=l,this.maxLineWidth=d,this.fontProperties=u}return e.measureText=function(t,r,a){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:e._canvas;a=a||r.wordWrap;var s=r.toFontString(),l=e.measureFont(s),d=n.getContext("2d");d.font=s;for(var u=a?e.wordWrap(t,r,n):t,p=u.split(/(?:\r\n|\r|\n)/),c=Array(p.length),_=0,h=0,i;h<p.length;h++)i=d.measureText(p[h]).width+(p[h].length-1)*r.letterSpacing,c[h]=i,_=o(_,i);var f=_+r.strokeThickness;r.dropShadow&&(f+=r.dropShadowDistance);var g=r.lineHeight||l.fontSize+r.strokeThickness,m=o(g,l.fontSize+r.strokeThickness)+(p.length-1)*(g+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new e(t,r,f,m,p,c,g+r.leading,_,l)},e.wordWrap=function(t,r){for(var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e._canvas,n=a.getContext("2d"),o="",s=t.charAt(0),l=t.split("\n"),d=r.wordWrapWidth,u={},p=0;p<l.length;p++){for(var i=d,_=l[p].split(" "),h=0,f;h<_.length;h++)if(f=n.measureText(_[h]).width,r.breakWords&&f>d)for(var g=_[h].split(""),m=0;m<g.length;m++){var c=g[m],y=u[c];void 0===y&&(y=n.measureText(c).width,u[c]=y),y>i?(o+="\n"+c,i=d-y):(0===m&&(0<h||" "===s)&&(o+=" "),o+=c,i-=y)}else{var x=f+n.measureText(" ").width;0===h||x>i?(0<h&&(o+="\n"),o+=_[h],i=d-f):(i-=x,o+=" "+_[h])}p<l.length-1&&(o+="\n")}return o},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var r={},a=e._canvas,o=e._context;o.font=t;var s=n(o.measureText("|M\xC9q").width),l=n(o.measureText("M").width),d=2*l;l=0|1.4*l,a.width=s,a.height=d,o.fillStyle="#f00",o.fillRect(0,0,s,d),o.font=t,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText("|M\xC9q",0,l);var u=o.getImageData(0,0,s,d).data,p=u.length,c=4*s,_=0,i=0,h=!1;for(_=0;_<l;++_){for(var f=0;f<c;f+=4)if(255!==u[i+f]){h=!0;break}if(!h)i+=c;else break}for(r.ascent=l-_,i=p-c,h=!1,_=d;_>l;--_){for(var g=0;g<c;g+=4)if(255!==u[i+g]){h=!0;break}if(!h)i-=c;else break}return r.descent=_-l,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r},e}();r.default=i;var s=document.createElement("canvas");s.width=s.height=10,i._canvas=s,i._context=s.getContext("2d"),i._fonts={}},{}],102:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){return"number"==typeof e?(0,u.hex2string)(e):("string"==typeof e&&0===e.indexOf("0x")&&(e=e.replace("0x","#")),e)}function i(e){if(!Array.isArray(e))return n(e);for(var t=0;t<e.length;++t)e[t]=n(e[t]);return e}function o(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function s(e,t,r){for(var a in r)e[a]=Array.isArray(t[a])?t[a].slice():t[a]}r.__esModule=!0;var l=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=e("../const"),u=e("../utils"),p={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:d.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,wordWrap:!1,wordWrapWidth:100,leading:0},c=function(){function e(t){a(this,e),this.styleID=0,this.reset(),s(this,t,t)}return e.prototype.clone=function(){var t={};return s(t,this,p),new e(t)},e.prototype.reset=function(){s(this,p,p)},e.prototype.toFontString=function(){var e="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var r=t.length-1,a;0<=r;r--)a=t[r].trim(),/([\"\'])[^\'\"]+\1/.test(a)||(a="\""+a+"\""),t[r]=a;return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},l(e,[{key:"align",get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(e){var t=i(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(e){var t=i(e);this._fill!==t&&(this._fill=t,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(e){o(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(e){var t=i(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}}]),e}();r.default=c},{"../const":38,"../utils":117}],103:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.ceil;r.__esModule=!0;var l=e("./BaseTexture"),d=a(l),u=e("../settings"),p=a(u),c=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,o=arguments[2],l=arguments[3];n(this,t);var d=i(this,e.call(this,null,o));return d.resolution=l||p.default.RESOLUTION,d.width=s(r),d.height=s(a),d.realWidth=d.width*d.resolution,d.realHeight=d.height*d.resolution,d.scaleMode=void 0===o?p.default.SCALE_MODE:o,d.hasLoaded=!0,d._glRenderTargets={},d._canvasRenderTarget=null,d.valid=!1,d}return o(t,e),t.prototype.resize=function(e,t){(e=s(e),t=s(t),e!==this.width||t!==this.height)&&(this.valid=0<e&&0<t,this.width=e,this.height=t,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},t.prototype.destroy=function(){e.prototype.destroy.call(this,!0),this.renderer=null},t}(d.default);r.default=c},{"../settings":93,"./BaseTexture":104}],104:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.round;r.__esModule=!0;var l=e("../utils"),d=e("../settings"),u=a(d),p=e("eventemitter3"),c=a(p),_=e("../utils/determineCrossOrigin"),h=a(_),f=e("bit-twiddle"),g=a(f),m=function(e){function t(r,a,o){n(this,t);var s=i(this,e.call(this));return s.uid=(0,l.uid)(),s.touched=0,s.resolution=o||u.default.RESOLUTION,s.width=100,s.height=100,s.realWidth=100,s.realHeight=100,s.scaleMode=void 0===a?u.default.SCALE_MODE:a,s.hasLoaded=!1,s.isLoading=!1,s.source=null,s.origSource=null,s.imageType=null,s.sourceScale=1,s.premultipliedAlpha=!0,s.imageUrl=null,s.isPowerOfTwo=!1,s.mipmap=u.default.MIPMAP_TEXTURES,s.wrapMode=u.default.WRAP_MODE,s._glTextures={},s._enabled=0,s._virtalBoundId=-1,s._destroyed=!1,s.textureCacheIds=[],r&&s.loadSource(r),s}return o(t,e),t.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},t.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=g.default.isPow2(this.realWidth)&&g.default.isPow2(this.realHeight)},t.prototype.loadSource=function(e){var t=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,t&&this.source&&(this.source.onload=null,this.source.onerror=null);var r=!this.source;if(this.source=e,(e.src&&e.complete||e.getContext)&&e.width&&e.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit("loaded",this);else if(!e.getContext){this.isLoading=!0;var a=this;if(e.onload=function(){if(a._updateImageType(),e.onload=null,e.onerror=null,!!a.isLoading)return a.isLoading=!1,a._sourceLoaded(),"svg"===a.imageType?void a._loadSvgSource():void a.emit("loaded",a)},e.onerror=function(){e.onload=null,e.onerror=null,a.isLoading&&(a.isLoading=!1,a.emit("error",a))},e.complete&&e.src){if(e.onload=null,e.onerror=null,"svg"===a.imageType)return void a._loadSvgSource();this.isLoading=!1,e.width&&e.height?(this._sourceLoaded(),t&&this.emit("loaded",this)):t&&this.emit("error",this)}}},t.prototype._updateImageType=function(){if(this.imageUrl){var e=(0,l.decomposeDataUri)(this.imageUrl),t;if(e&&"image"===e.mediaType){var r=e.subType.split("+")[0];if(t=(0,l.getUrlFileExtension)("."+r),!t)throw new Error("Invalid image type in data URI.")}else t=(0,l.getUrlFileExtension)(this.imageUrl),t||(t="png");this.imageType=t}},t.prototype._loadSvgSource=function(){if("svg"===this.imageType){var e=(0,l.decomposeDataUri)(this.imageUrl);e?this._loadSvgSourceUsingDataUri(e):this._loadSvgSourceUsingXhr()}},t.prototype._loadSvgSourceUsingDataUri=function(e){var t;if("base64"===e.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");t=atob(e.data)}else t=e.data;this._loadSvgSourceUsingString(t)},t.prototype._loadSvgSourceUsingXhr=function(){var e=this,t=new XMLHttpRequest;t.onload=function(){if(t.readyState!==t.DONE||200!==t.status)throw new Error("Failed to load SVG using XHR.");e._loadSvgSourceUsingString(t.response)},t.onerror=function(){return e.emit("error",e)},t.open("GET",this.imageUrl,!0),t.send()},t.prototype._loadSvgSourceUsingString=function(e){var r=(0,l.getSvgSize)(e),a=r.width,n=r.height;if(!a||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=s(a*this.sourceScale),this.realHeight=s(n*this.sourceScale),this._updateDimensions();var i=document.createElement("canvas");i.width=this.realWidth,i.height=this.realHeight,i._pixiId="canvas_"+(0,l.uid)(),i.getContext("2d").drawImage(this.source,0,0,a,n,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=i,t.addToCache(this,i._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},t.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},t.prototype.destroy=function(){this.imageUrl&&(delete l.TextureCache[this.imageUrl],this.imageUrl=null,!navigator.isCocoonJS&&(this.source.src="")),this.source=null,this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.updateSourceImage=function(e){this.source.src=e,this.loadSource(this.source)},t.fromImage=function(e,r,a,n){var i=l.BaseTextureCache[e];if(!i){var o=new Image;void 0===r&&0!==e.indexOf("data:")?o.crossOrigin=(0,h.default)(e):r&&(o.crossOrigin="string"==typeof r?r:"anonymous"),i=new t(o,a),i.imageUrl=e,n&&(i.sourceScale=n),i.resolution=(0,l.getResolutionOfUrl)(e),o.src=e,t.addToCache(i,e)}return i},t.fromCanvas=function(e,r){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas";e._pixiId||(e._pixiId=a+"_"+(0,l.uid)());var n=l.BaseTextureCache[e._pixiId];return n||(n=new t(e,r),t.addToCache(n,e._pixiId)),n},t.from=function(e,r,a){if("string"==typeof e)return t.fromImage(e,void 0,r,a);if(e instanceof HTMLImageElement){var n=e.src,i=l.BaseTextureCache[n];return i||(i=new t(e,r),i.imageUrl=n,a&&(i.sourceScale=a),i.resolution=(0,l.getResolutionOfUrl)(n),t.addToCache(i,n)),i}return e instanceof HTMLCanvasElement?t.fromCanvas(e,r):e},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),l.BaseTextureCache[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),l.BaseTextureCache[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=l.BaseTextureCache[e];if(t){var r=t.textureCacheIds.indexOf(e);return-1<r&&t.textureCacheIds.splice(r,1),delete l.BaseTextureCache[e],t}}else if(e&&e.textureCacheIds){for(var a=0;a<e.textureCacheIds.length;++a)delete l.BaseTextureCache[e.textureCacheIds[a]];return e.textureCacheIds.length=0,e}return null},t}(c.default);r.default=m},{"../settings":93,"../utils":117,"../utils/determineCrossOrigin":116,"bit-twiddle":4,eventemitter3:181}],105:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.ceil;r.__esModule=!0;var l=e("./BaseRenderTexture"),d=a(l),u=e("./Texture"),p=a(u),c=function(e){function t(r,a){n(this,t);var o=null;if(!(r instanceof d.default)){var s=arguments[1],l=arguments[2],u=arguments[3],p=arguments[4];console.warn("Please use RenderTexture.create("+s+", "+l+") instead of the ctor directly."),o=arguments[0],a=null,r=new d.default(s,l,u,p)}var c=i(this,e.call(this,r,a));return c.legacyRenderer=o,c.valid=!0,c._updateUvs(),c}return o(t,e),t.prototype.resize=function(e,t,r){e=s(e),t=s(t),this.valid=0<e&&0<t,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,r||this.baseTexture.resize(e,t),this._updateUvs()},t.create=function(e,r,a,n){return new t(new d.default(e,r,a,n))},t}(p.default);r.default=c},{"./BaseRenderTexture":103,"./Texture":107}],106:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=Math.floor;r.__esModule=!0;var i=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=e("../"),s=e("../utils"),l=function(){function e(t,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;a(this,e),this.baseTexture=t,this.textures={},this.data=r,this.resolution=this._updateResolution(n||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return i(e,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),e.prototype._updateResolution=function(e){var t=this.data.meta.scale,r=(0,s.getResolutionOfUrl)(e,null);return null===r&&(r=void 0===t?1:parseFloat(t)),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var r=t,a=e.BATCH_SIZE,s=this.baseTexture.sourceScale;r-t<a&&r<this._frameKeys.length;){var l=this._frameKeys[r],i=this._frames[l].frame;if(i){var d=null,u=null,p=new o.Rectangle(0,0,n(this._frames[l].sourceSize.w*s)/this.resolution,n(this._frames[l].sourceSize.h*s)/this.resolution);d=this._frames[l].rotated?new o.Rectangle(n(i.x*s)/this.resolution,n(i.y*s)/this.resolution,n(i.h*s)/this.resolution,n(i.w*s)/this.resolution):new o.Rectangle(n(i.x*s)/this.resolution,n(i.y*s)/this.resolution,n(i.w*s)/this.resolution,n(i.h*s)/this.resolution),this._frames[l].trimmed&&(u=new o.Rectangle(n(this._frames[l].spriteSourceSize.x*s)/this.resolution,n(this._frames[l].spriteSourceSize.y*s)/this.resolution,n(i.w*s)/this.resolution,n(i.h*s)/this.resolution)),this.textures[l]=new o.Texture(this.baseTexture,d,p,u,this._frames[l].rotated?2:0),o.Texture.addToCache(this.textures[l],l)}r++}},e.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():t._parseComplete()},0)},e.prototype.destroy=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];for(var t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&this.baseTexture.destroy(),this.baseTexture=null},e}();r.default=l},{"../":57,"../utils":117}],107:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}r.__esModule=!0;var l=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=e("./BaseTexture"),u=a(d),p=e("./VideoBaseTexture"),c=a(p),_=e("./TextureUvs"),h=a(_),f=e("eventemitter3"),g=a(f),m=e("../math"),y=e("../utils"),x=e("../settings"),T=a(x),b=function(e){function t(r,a,o,s,l){n(this,t);var d=i(this,e.call(this));if(d.noFrame=!1,a||(d.noFrame=!0,a=new m.Rectangle(0,0,1,1)),r instanceof t&&(r=r.baseTexture),d.baseTexture=r,d._frame=a,d.trim=s,d.valid=!1,d.requiresUpdate=!1,d._uvs=null,d.orig=o||a,d._rotate=+(l||0),!0===l)d._rotate=2;else if(0!=d._rotate%2)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return r.hasLoaded?(d.noFrame&&(a=new m.Rectangle(0,0,r.width,r.height),r.on("update",d.onBaseTextureUpdated,d)),d.frame=a):r.once("loaded",d.onBaseTextureLoaded,d),d._updateID=0,d.transform=null,d.textureCacheIds=[],d}return o(t,e),t.prototype.update=function(){this.baseTexture.update()},t.prototype.onBaseTextureLoaded=function(e){this._updateID++,this.frame=this.noFrame?new m.Rectangle(0,0,e.width,e.height):this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},t.prototype.onBaseTextureUpdated=function(e){this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.emit("update",this)},t.prototype.destroy=function(e){this.baseTexture&&(e&&(y.TextureCache[this.baseTexture.imageUrl]&&t.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},t.prototype._updateUvs=function(){this._uvs||(this._uvs=new h.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.fromImage=function(e,r,a,n){var i=y.TextureCache[e];return i||(i=new t(u.default.fromImage(e,r,a,n)),t.addToCache(i,e)),i},t.fromFrame=function(e){var t=y.TextureCache[e];if(!t)throw new Error("The frameId \""+e+"\" does not exist in the texture cache");return t},t.fromCanvas=function(e,r){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas";return new t(u.default.fromCanvas(e,r,a))},t.fromVideo=function(e,r){return"string"==typeof e?t.fromVideoUrl(e,r):new t(c.default.fromVideo(e,r))},t.fromVideoUrl=function(e,r){return new t(c.default.fromUrl(e,r))},t.from=function(e){if("string"==typeof e){var r=y.TextureCache[e];if(!r){var a=null!==e.match(/\.(mp4|webm|ogg|h264|avi|mov)$/);return a?t.fromVideoUrl(e):t.fromImage(e)}return r}return e instanceof HTMLImageElement?new t(u.default.from(e)):e instanceof HTMLCanvasElement?t.fromCanvas(e,T.default.SCALE_MODE,"HTMLCanvasElement"):e instanceof HTMLVideoElement?t.fromVideo(e):e instanceof u.default?new t(e):e},t.fromLoader=function(e,r,a){var n=new u.default(e,void 0,(0,y.getResolutionOfUrl)(r)),i=new t(n);return n.imageUrl=r,a||(a=r),u.default.addToCache(i.baseTexture,a),t.addToCache(i,a),a!==r&&(u.default.addToCache(i.baseTexture,r),t.addToCache(i,r)),i},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),y.TextureCache[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),y.TextureCache[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=y.TextureCache[e];if(t){var r=t.textureCacheIds.indexOf(e);return-1<r&&t.textureCacheIds.splice(r,1),delete y.TextureCache[e],t}}else if(e&&e.textureCacheIds){for(var a=0;a<e.textureCacheIds.length;++a)y.TextureCache[e.textureCacheIds[a]]===e&&delete y.TextureCache[e.textureCacheIds[a]];return e.textureCacheIds.length=0,e}return null},l(t,[{key:"frame",get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,r=e.y,a=e.width,n=e.height,i=t+a>this.baseTexture.width,o=r+n>this.baseTexture.height;if(i||o){var s=i&&o?"and":"or",l="X: "+t+" + "+a+" = "+(t+a)+" > "+this.baseTexture.width,d="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(l+" "+s+" "+d))}this.valid=a&&n&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=e),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),t}(g.default);r.default=b,b.EMPTY=new b(new u.default()),s(b.EMPTY),s(b.EMPTY.baseTexture),b.WHITE=function(){var e=document.createElement("canvas");e.width=10,e.height=10;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,10,10),new b(new u.default(e))}(),s(b.WHITE),s(b.WHITE.baseTexture)},{"../math":62,"../settings":93,"../utils":117,"./BaseTexture":104,"./TextureUvs":109,"./VideoBaseTexture":110,eventemitter3:181}],108:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=e("../math/Matrix"),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=new o.default,l=function(){function e(t,r){a(this,e),this._texture=t,this.mapCoord=new o.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin="undefined"==typeof r?0.5:r}return e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var r=this.mapCoord,a=0;a<e.length;a+=2){var n=e[a],i=e[a+1];t[a]=n*r.a+i*r.c+r.tx,t[a+1]=n*r.b+i*r.d+r.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._lastTextureID===t._updateID)return!1;this._lastTextureID=t._updateID;var r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var a=t.orig,n=t.trim;n&&(s.set(a.width/n.width,0,0,a.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(s));var i=t.baseTexture,o=this.uClampFrame,l=this.clampMargin/i.resolution,d=this.clampOffset;return o[0]=(t._frame.x+l+d)/i.width,o[1]=(t._frame.y+l+d)/i.height,o[2]=(t._frame.x+t._frame.width-l+d)/i.width,o[3]=(t._frame.y+t._frame.height-l+d)/i.height,this.uClampOffset[0]=d/i.realWidth,this.uClampOffset[1]=d/i.realHeight,!0},n(e,[{key:"texture",get:function(){return this._texture},set:function(e){this._texture=e,this._lastTextureID=-1}}]),e}();r.default=l},{"../math/Matrix":59}],109:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=e("../math/GroupD8"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),o=function(){function e(){a(this,e),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return e.prototype.set=function(e,t,r){var a=t.width,n=t.height;if(r){var o=e.width/2/a,s=e.height/2/n,l=e.x/a+o,d=e.y/n+s;r=i.default.add(r,i.default.NW),this.x0=l+o*i.default.uX(r),this.y0=d+s*i.default.uY(r),r=i.default.add(r,2),this.x1=l+o*i.default.uX(r),this.y1=d+s*i.default.uY(r),r=i.default.add(r,2),this.x2=l+o*i.default.uX(r),this.y2=d+s*i.default.uY(r),r=i.default.add(r,2),this.x3=l+o*i.default.uX(r),this.y3=d+s*i.default.uY(r)}else this.x0=e.x/a,this.y0=e.y/n,this.x1=(e.x+e.width)/a,this.y1=e.y/n,this.x2=(e.x+e.width)/a,this.y2=(e.y+e.height)/n,this.x3=e.x/a,this.y3=(e.y+e.height)/n;this.uvsUint32[0]=(65535&65535*this.y0)<<16|65535&65535*this.x0,this.uvsUint32[1]=(65535&65535*this.y1)<<16|65535&65535*this.x1,this.uvsUint32[2]=(65535&65535*this.y2)<<16|65535&65535*this.x2,this.uvsUint32[3]=(65535&65535*this.y3)<<16|65535&65535*this.x3},e}();r.default=o},{"../math/GroupD8":58}],110:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){t||(t="video/"+e.substr(e.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=e,r.type=t,r}r.__esModule=!0;var l=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=e("./BaseTexture"),u=a(d),p=e("../utils"),c=e("../ticker"),_=e("../const"),h=e("../utils/determineCrossOrigin"),f=a(h),g=function(e){function t(r,a){if(n(this,t),!r)throw new Error("No video source element specified.");(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var o=i(this,e.call(this,r,a));return o.width=r.videoWidth,o.height=r.videoHeight,o._autoUpdate=!0,o._isAutoUpdating=!1,o.autoPlay=!0,o.update=o.update.bind(o),o._onCanPlay=o._onCanPlay.bind(o),r.addEventListener("play",o._onPlayStart.bind(o)),r.addEventListener("pause",o._onPlayStop.bind(o)),o.hasLoaded=!1,o.__loaded=!1,o._isSourceReady()?o._onCanPlay():(r.addEventListener("canplay",o._onCanPlay),r.addEventListener("canplaythrough",o._onCanPlay)),o}return o(t,e),t.prototype._isSourcePlaying=function(){var e=this.source;return 0<e.currentTime&&!1===e.paused&&!1===e.ended&&2<e.readyState},t.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},t.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(c.shared.add(this.update,this,_.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},t.prototype._onPlayStop=function(){this._isAutoUpdating&&(c.shared.remove(this.update,this),this._isAutoUpdating=!1)},t.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,!this.__loaded&&(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},t.prototype.destroy=function(){this._isAutoUpdating&&c.shared.remove(this.update,this),this.source&&this.source._pixiId&&(u.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),e.prototype.destroy.call(this)},t.fromVideo=function(e,r){e._pixiId||(e._pixiId="video_"+(0,p.uid)());var a=p.BaseTextureCache[e._pixiId];return a||(a=new t(e,r),u.default.addToCache(a,e._pixiId)),a},t.fromUrl=function(e,r,a){var n=document.createElement("video");n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","");var o=Array.isArray(e)?e[0].src||e[0]:e.src||e;if(void 0===a&&0!==o.indexOf("data:")?n.crossOrigin=(0,f.default)(o):a&&(n.crossOrigin="string"==typeof a?a:"anonymous"),Array.isArray(e))for(var l=0;l<e.length;++l)n.appendChild(s(e[l].src||e[l],e[l].mime));else n.appendChild(s(o,e.mime));return n.load(),t.fromVideo(n,r)},l(t,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isAutoUpdating?(c.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(c.shared.add(this.update,this,_.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),t}(u.default);r.default=g,g.fromUrls=g.fromUrl},{"../const":38,"../ticker":113,"../utils":117,"../utils/determineCrossOrigin":116,"./BaseTexture":104}],111:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=e("../settings"),s=a(o),l=e("../const"),d=e("./TickerListener"),u=a(d),p=function(){function e(){var t=this;n(this,e),this._head=new u.default(null,null,Infinity),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/s.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:l.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(e,t,r))},e.prototype.addOnce=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:l.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(e,t,r,!0))},e.prototype._addListener=function(e){var t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this},e.prototype.remove=function(e,t){for(var r=this._head.next;r;)r=r.match(e,t)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null},e.prototype.update=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),t;if(e>this.lastTime){t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),this.deltaTime=t*s.default.TARGET_FPMS*this.speed;for(var r=this._head,a=r.next;a;)a=a.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=e},i(e,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(Math.max(0,e)/1e3,s.default.TARGET_FPMS);this._maxElapsedMS=1/t}}]),e}();r.default=p},{"../const":38,"../settings":93,"./TickerListener":112}],112:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=function(){function e(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];a(this,e),this.fn=t,this.context=r,this.priority=n,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return e.prototype.match=function(e,t){return t=t||null,this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.previous;return this.next=e?null:t,this.previous=null,t},e}();r.default=n},{}],113:[function(e,t,r){"use strict";r.__esModule=!0,r.Ticker=r.shared=void 0;var a=e("./Ticker"),n=function(e){return e&&e.__esModule?e:{default:e}}(a),i=new n.default;i.autoStart=!0,i.destroy=function(){},r.shared=i,r.Ticker=n.default},{"./Ticker":111}],114:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(){var e=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!e}},{}],115:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e){for(var t=6*e,r=new Uint16Array(t),a=0,n=0;a<t;a+=6,n+=4)r[a+0]=n+0,r[a+1]=n+1,r[a+2]=n+2,r[a+3]=n+0,r[a+4]=n+2,r[a+5]=n+3;return r}},{}],116:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:window.location;if(0===e.indexOf("data:"))return"";t=t||window.location,i||(i=document.createElement("a")),i.href=e,e=n.default.parse(i.href);var r=!e.port&&""===t.port||e.port===t.port;return e.hostname===t.hostname&&r&&e.protocol===t.protocol?"":"anonymous"};var a=e("url"),n=function(e){return e&&e.__esModule?e:{default:e}}(a),i=void 0},{url:196}],117:[function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}var i=Math.round;r.__esModule=!0,r.premultiplyBlendMode=r.BaseTextureCache=r.TextureCache=r.mixins=r.pluginTarget=r.EventEmitter=r.removeItems=r.isMobile=void 0,r.uid=function(){return++b},r.hex2rgb=function(e,t){return t=t||[],t[0]=(255&e>>16)/255,t[1]=(255&e>>8)/255,t[2]=(255&e)/255,t},r.hex2string=function(e){return e=e.toString(16),e="000000".substr(0,6-e.length)+e,"#"+e},r.rgb2hex=function(e){return(255*e[0]<<16)+(255*e[1]<<8)+(0|255*e[2])},r.getResolutionOfUrl=function(e,t){var r=l.default.RETINA_PREFIX.exec(e);return r?parseFloat(r[1]):t===void 0?1:t},r.decomposeDataUri=function(e){var t=o.DATA_URI.exec(e);return t?{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,encoding:t[3]?t[3].toLowerCase():void 0,data:t[4]}:void 0},r.getUrlFileExtension=function(e){var t=o.URL_FILE_EXTENSION.exec(e);return t?t[1].toLowerCase():void 0},r.getSvgSize=function(e){var t=o.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=i(parseFloat(t[3])),r[t[5]]=i(parseFloat(t[7]))),r},r.skipHello=function(){v=!0},r.sayHello=function(e){if(!v){if(-1<navigator.userAgent.toLowerCase().indexOf("chrome")){var t=["\n %c %c %c PixiJS "+o.VERSION+" - \u2730 "+e+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,t)}else window.console&&window.console.log("PixiJS "+o.VERSION+" - "+e+" - http://www.pixijs.com/");v=!0}},r.isWebGLSupported=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),a=!!(r&&r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,a}catch(t){return!1}},r.sign=function(e){return 0===e?0:0>e?-1:1},r.destroyTextureCache=function(){for(var e in E)E[e].destroy();for(e in P)P[e].destroy()},r.clearTextureCache=function(){for(var e in E)delete E[e];for(e in P)delete P[e]},r.correctBlendMode=function(e,t){return S[t?1:0][e]},r.premultiplyTint=function(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var r=255&e>>16,a=255&e>>8,n=255&e;return r=0|r*t+0.5,a=0|a*t+0.5,n=0|n*t+0.5,(255*t<<24)+(r<<16)+(a<<8)+n},r.premultiplyRgba=function(e,t,r,a){return r=r||new Float32Array(4),a||void 0===a?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r},r.premultiplyTintToRgba=function(e,t,r,a){return r=r||new Float32Array(4),r[0]=(255&e>>16)/255,r[1]=(255&e>>8)/255,r[2]=(255&e)/255,(a||void 0===a)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r};var o=e("../const"),s=e("../settings"),l=n(s),d=e("eventemitter3"),u=n(d),p=e("./pluginTarget"),c=n(p),_=e("./mixin"),h=a(_),f=e("ismobilejs"),g=a(f),m=e("remove-array-items"),y=n(m),x=e("./mapPremultipliedBlendModes"),T=n(x),b=0,v=!1;r.isMobile=g,r.removeItems=y.default,r.EventEmitter=u.default,r.pluginTarget=c.default,r.mixins=h;var E=r.TextureCache=Object.create(null),P=r.BaseTextureCache=Object.create(null),S=r.premultiplyBlendMode=(0,T.default)()},{"../const":38,"../settings":93,"./mapPremultipliedBlendModes":118,"./mixin":120,"./pluginTarget":121,eventemitter3:181,ismobilejs:9,"remove-array-items":189}],118:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(){for(var e=[],t=[],r=0;32>r;r++)e[r]=r,t[r]=r;e[a.BLEND_MODES.NORMAL_NPM]=a.BLEND_MODES.NORMAL,e[a.BLEND_MODES.ADD_NPM]=a.BLEND_MODES.ADD,e[a.BLEND_MODES.SCREEN_NPM]=a.BLEND_MODES.SCREEN,t[a.BLEND_MODES.NORMAL]=a.BLEND_MODES.NORMAL_NPM,t[a.BLEND_MODES.ADD]=a.BLEND_MODES.ADD_NPM,t[a.BLEND_MODES.SCREEN]=a.BLEND_MODES.SCREEN_NPM;return[t,e]};var a=e("../const")},{"../const":38}],119:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e){return n.default.tablet||n.default.phone?4:e};var a=e("ismobilejs"),n=function(e){return e&&e.__esModule?e:{default:e}}(a)},{ismobilejs:9}],120:[function(e,t,r){"use strict";function a(e,t){if(e&&t)for(var r=Object.keys(t),a=0,n;a<r.length;++a)n=r[a],Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}r.__esModule=!0,r.mixin=a,r.delayMixin=function(e,t){n.push(e,t)},r.performMixins=function(){for(var e=0;e<n.length;e+=2)a(n[e],n[e+1]);n.length=0};var n=[]},{}],121:[function(e,t,r){"use strict";function a(e){e.__plugins={},e.registerPlugin=function(t,r){e.__plugins[t]=r},e.prototype.initPlugins=function(){for(var t in this.plugins=this.plugins||{},e.__plugins)this.plugins[t]=new e.__plugins[t](this)},e.prototype.destroyPlugins=function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;this.plugins=null}}r.__esModule=!0,r.default={mixin:function(e){a(e)}}},{}],122:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e){var t=e.width,r=e.height,a=e.getContext("2d"),n=a.getImageData(0,0,t,r),o=n.data,s=o.length,l={top:null,left:null,right:null,bottom:null},d,i,u;for(d=0;d<s;d+=4)0!==o[d+3]&&(i=d/4%t,u=~~(d/4/t),null===l.top&&(l.top=u),null===l.left?l.left=i:i<l.left&&(l.left=i),null===l.right?l.right=i+1:l.right<i&&(l.right=i+1),null===l.bottom?l.bottom=u:l.bottom<u&&(l.bottom=u));t=l.right-l.left,r=l.bottom-l.top+1;var p=a.getImageData(l.left,l.top,t,r);return{height:r,width:t,data:p}}},{}],123:[function(e,t,r){"use strict";function a(e){var t=new Error().stack;"undefined"==typeof t?console.warn("Deprecation Warning: ",e):(t=t.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e),console.warn(t),console.groupEnd()):(console.warn("Deprecation Warning: ",e),console.warn(t)))}r.__esModule=!0,r.default=function(e){var t=e.mesh,r=e.particles,n=e.extras,o=e.filters,s=e.prepare,l=e.loaders,d=e.interaction;Object.defineProperties(e,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return a("You do not need to use a PIXI Stage any more, you can simply render any container."),e.Container}},DisplayObjectContainer:{get:function(){return a("DisplayObjectContainer has been shortened to Container, please use Container from now on."),e.Container}},Strip:{get:function(){return a("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),t.Mesh}},Rope:{get:function(){return a("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),t.Rope}},ParticleContainer:{get:function(){return a("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),r.ParticleContainer}},MovieClip:{get:function(){return a("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),n.AnimatedSprite}},TilingSprite:{get:function(){return a("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),n.TilingSprite}},BitmapText:{get:function(){return a("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),n.BitmapText}},blendModes:{get:function(){return a("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),e.BLEND_MODES}},scaleModes:{get:function(){return a("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),e.SCALE_MODES}},BaseTextureCache:{get:function(){return a("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),e.utils.BaseTextureCache}},TextureCache:{get:function(){return a("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),e.utils.TextureCache}},math:{get:function(){return a("The math namespace is deprecated, please access members already accessible on PIXI."),e}},AbstractFilter:{get:function(){return a("AstractFilter has been renamed to Filter, please use PIXI.Filter"),e.Filter}},TransformManual:{get:function(){return a("TransformManual has been renamed to TransformBase, please update your pixi-spine"),e.TransformBase}},TARGET_FPMS:{get:function(){return a("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),e.settings.TARGET_FPMS},set:function(t){a("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),e.settings.TARGET_FPMS=t}},FILTER_RESOLUTION:{get:function(){return a("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),e.settings.FILTER_RESOLUTION},set:function(t){a("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),e.settings.FILTER_RESOLUTION=t}},RESOLUTION:{get:function(){return a("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),e.settings.RESOLUTION},set:function(t){a("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),e.settings.RESOLUTION=t}},MIPMAP_TEXTURES:{get:function(){return a("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),e.settings.MIPMAP_TEXTURES},set:function(t){a("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),e.settings.MIPMAP_TEXTURES=t}},SPRITE_BATCH_SIZE:{get:function(){return a("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),e.settings.SPRITE_BATCH_SIZE},set:function(t){a("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),e.settings.SPRITE_BATCH_SIZE=t}},SPRITE_MAX_TEXTURES:{get:function(){return a("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),e.settings.SPRITE_MAX_TEXTURES},set:function(t){a("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),e.settings.SPRITE_MAX_TEXTURES=t}},RETINA_PREFIX:{get:function(){return a("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),e.settings.RETINA_PREFIX},set:function(t){a("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),e.settings.RETINA_PREFIX=t}},DEFAULT_RENDER_OPTIONS:{get:function(){return a("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),e.settings.RENDER_OPTIONS}}});for(var u=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],p=function(t){var r=u[t];Object.defineProperty(e[r.parent],"DEFAULT",{get:function(){return a("PIXI."+r.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+r.target)),e.settings[r.target]},set:function(t){a("PIXI."+r.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+r.target)),e.settings[r.target]=t}})},c=0;c<u.length;c++)p(c);Object.defineProperties(e.settings,{PRECISION:{get:function(){return a("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),e.settings.PRECISION_FRAGMENT},set:function(t){a("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),e.settings.PRECISION_FRAGMENT=t}}}),n.AnimatedSprite&&Object.defineProperties(n,{MovieClip:{get:function(){return a("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),n.AnimatedSprite}}}),n&&Object.defineProperties(n,{TextureTransform:{get:function(){return a("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),e.TextureMatrix}}}),e.DisplayObject.prototype.generateTexture=function(e,t,r){return a("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),e.generateTexture(this,t,r)},e.Graphics.prototype.generateTexture=function(e,t){return a("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(e,t)},e.GroupD8.isSwapWidthHeight=function(t){return a("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),e.GroupD8.isVertical(t)},e.RenderTexture.prototype.render=function(e,t,r,n){this.legacyRenderer.render(e,this,r,t,!n),a("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},e.RenderTexture.prototype.getImage=function(e){return a("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(e)},e.RenderTexture.prototype.getBase64=function(e){return a("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(e)},e.RenderTexture.prototype.getCanvas=function(e){return a("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(e)},e.RenderTexture.prototype.getPixels=function(e){return a("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(e)},e.Sprite.prototype.setTexture=function(e){this.texture=e,a("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},n.BitmapText&&(n.BitmapText.prototype.setText=function(e){this.text=e,a("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),e.Text.prototype.setText=function(e){this.text=e,a("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},e.Text.calculateFontProperties=function(t){return a("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),e.TextMetrics.measureFont(t)},Object.defineProperties(e.Text,{fontPropertiesCache:{get:function(){return a("Text.fontPropertiesCache is deprecated"),e.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return a("Text.fontPropertiesCanvas is deprecated"),e.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return a("Text.fontPropertiesContext is deprecated"),e.TextMetrics._context}}}),e.Text.prototype.setStyle=function(e){this.style=e,a("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},e.Text.prototype.determineFontProperties=function(t){return a("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),e.TextMetrics.measureFont(t)},e.Text.getFontStyle=function(t){return a("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),t=t||{},t instanceof e.TextStyle||(t=new e.TextStyle(t)),t.toFontString()},Object.defineProperties(e.TextStyle.prototype,{font:{get:function(){a("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var e="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+e+" "+this._fontFamily},set:function(e){a("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),this._fontStyle=1<e.indexOf("italic")?"italic":-1<e.indexOf("oblique")?"oblique":"normal",this._fontVariant=-1<e.indexOf("small-caps")?"small-caps":"normal";var t=e.split(" "),r=-1;this._fontSize=26;for(var n=0;n<t.length;++n)if(t[n].match(/(px|pt|em|%)/)){r=n,this._fontSize=t[n];break}this._fontWeight="normal";for(var i=0;i<r;++i)if(t[i].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=t[i];break}if(-1<r&&r<t.length-1){this._fontFamily="";for(var o=r+1;o<t.length;++o)this._fontFamily+=t[o]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),e.Texture.prototype.setFrame=function(e){this.frame=e,a("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},e.Texture.addTextureToCache=function(t,r){e.Texture.addToCache(t,r),a("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},e.Texture.removeTextureFromCache=function(t){return a("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),e.BaseTexture.removeFromCache(t),e.Texture.removeFromCache(t)},Object.defineProperties(o,{AbstractFilter:{get:function(){return a("AstractFilter has been renamed to Filter, please use PIXI.Filter"),e.AbstractFilter}},SpriteMaskFilter:{get:function(){return a("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),e.SpriteMaskFilter}},VoidFilter:{get:function(){return a("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),o.AlphaFilter}}}),e.utils.uuid=function(){return a("utils.uuid() is deprecated, please use utils.uid() from now on."),e.utils.uid()},e.utils.canUseNewCanvasBlendModes=function(){return a("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),e.CanvasTinter.canUseMultiply};var i=!0;if(Object.defineProperty(e.utils,"_saidHello",{set:function(e){e&&(a("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),i=e},get:function(){return i}}),s.BasePrepare&&(s.BasePrepare.prototype.register=function(e,t){return a("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),e&&this.registerFindHook(e),t&&this.registerUploadHook(t),this}),s.canvas&&Object.defineProperty(s.canvas,"UPLOADS_PER_FRAME",{set:function(){a("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return a("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),s.webgl&&Object.defineProperty(s.webgl,"UPLOADS_PER_FRAME",{set:function(){a("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return a("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),l.Loader){var _=l.Resource,h=l.Loader;Object.defineProperties(_.prototype,{isJson:{get:function(){return a("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===_.TYPE.JSON}},isXml:{get:function(){return a("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===_.TYPE.XML}},isImage:{get:function(){return a("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===_.TYPE.IMAGE}},isAudio:{get:function(){return a("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===_.TYPE.AUDIO}},isVideo:{get:function(){return a("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===_.TYPE.VIDEO}}}),Object.defineProperties(h.prototype,{before:{get:function(){return a("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return a("The after() method is deprecated, please use use()."),this.use}}})}d.interactiveTarget&&Object.defineProperty(d.interactiveTarget,"defaultCursor",{set:function(e){a("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=e},get:function(){return a("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),d.InteractionManager&&(Object.defineProperty(d.InteractionManager,"defaultCursorStyle",{set:function(e){a("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=e},get:function(){return a("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(d.InteractionManager,"currentCursorStyle",{set:function(e){a("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=e},get:function(){return a("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}},{}],124:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=e("../../core"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n),o=new i.Rectangle,s=function(){function e(t){a(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function(e){var t=new Image;return t.src=this.base64(e),t},e.prototype.base64=function(e){return this.canvas(e).toDataURL()},e.prototype.canvas=function(e){var t=this.renderer,r,a,n,s;e&&(e instanceof i.RenderTexture?s=e:s=t.generateTexture(e)),s?(r=s.baseTexture._canvasRenderTarget.context,a=s.baseTexture._canvasRenderTarget.resolution,n=s.frame):(r=t.rootContext,n=o,n.width=this.renderer.width,n.height=this.renderer.height);var l=n.width*a,d=n.height*a,u=new i.CanvasRenderTarget(l,d),p=r.getImageData(n.x*a,n.y*a,l,d);return u.context.putImageData(p,0,0),u.canvas},e.prototype.pixels=function(e){var t=this.renderer,r,a,n,s;return e&&(e instanceof i.RenderTexture?s=e:s=t.generateTexture(e)),s?(r=s.baseTexture._canvasRenderTarget.context,a=s.baseTexture._canvasRenderTarget.resolution,n=s.frame):(r=t.rootContext,n=o,n.width=t.width,n.height=t.height),r.getImageData(0,0,n.width*a,n.height*a).data},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();r.default=s,i.CanvasRenderer.registerPlugin("extract",s)},{"../../core":57}],125:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var n=e("./webgl/WebGLExtract");Object.defineProperty(r,"webgl",{enumerable:!0,get:function(){return a(n).default}});var i=e("./canvas/CanvasExtract");Object.defineProperty(r,"canvas",{enumerable:!0,get:function(){return a(i).default}})},{"./canvas/CanvasExtract":124,"./webgl/WebGLExtract":126}],126:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=e("../../core"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n),o=new i.Rectangle,s=4,l=function(){function e(t){a(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function(e){var t=new Image;return t.src=this.base64(e),t},e.prototype.base64=function(e){return this.canvas(e).toDataURL()},e.prototype.canvas=function(e){var t=this.renderer,r=!1,a,n,l,d;e&&(e instanceof i.RenderTexture?d=e:d=this.renderer.generateTexture(e)),d?(a=d.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=a.resolution,l=d.frame,r=!1):(a=this.renderer.rootRenderTarget,n=a.resolution,r=!0,l=o,l.width=a.size.width,l.height=a.size.height);var u=l.width*n,p=l.height*n,c=new i.CanvasRenderTarget(u,p);if(a){t.bindRenderTarget(a);var _=new Uint8Array(s*u*p),h=t.gl;h.readPixels(l.x*n,l.y*n,u,p,h.RGBA,h.UNSIGNED_BYTE,_);var f=c.context.getImageData(0,0,u,p);f.data.set(_),c.context.putImageData(f,0,0),r&&(c.context.scale(1,-1),c.context.drawImage(c.canvas,0,-p))}return c.canvas},e.prototype.pixels=function(e){var t=this.renderer,r,a,n,l;e&&(e instanceof i.RenderTexture?l=e:l=this.renderer.generateTexture(e)),l?(r=l.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],a=r.resolution,n=l.frame):(r=this.renderer.rootRenderTarget,a=r.resolution,n=o,n.width=r.size.width,n.height=r.size.height);var d=n.width*a,u=n.height*a,p=new Uint8Array(s*d*u);if(r){t.bindRenderTarget(r);var c=t.gl;c.readPixels(n.x*a,n.y*a,d,u,c.RGBA,c.UNSIGNED_BYTE,p)}return p},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();r.default=l,i.WebGLRenderer.registerPlugin("extract",l)},{"../../core":57}],127:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=Math.floor;r.__esModule=!0;var s=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=e("../core"),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(l),u=function(e){function t(r,i){a(this,t);var o=n(this,e.call(this,r[0]instanceof d.Texture?r[0]:r[0].texture));return o._textures=null,o._durations=null,o.textures=r,o._autoUpdate=!1!==i,o.animationSpeed=1,o.loop=!0,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o.playing=!1,o}return i(t,e),t.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&d.ticker.shared.remove(this.update,this))},t.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&d.ticker.shared.add(this.update,this,d.UPDATE_PRIORITY.HIGH))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){var t=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=1e3*(t/60);0>a;)this._currentTime--,a+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*e);for(this._currentTime=o(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=t;0>this._currentTime&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<r?this.onLoop():0>this.animationSpeed&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},t.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},t.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t)},t.fromFrames=function(e){for(var r=[],a=0;a<e.length;++a)r.push(d.Texture.fromFrame(e[a]));return new t(r)},t.fromImages=function(e){for(var r=[],a=0;a<e.length;++a)r.push(d.Texture.fromImage(e[a]));return new t(r)},s(t,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(e){if(e[0]instanceof d.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var e=o(this._currentTime)%this._textures.length;return 0>e&&(e+=this._textures.length),e}}]),t}(d.Sprite);r.default=u},{"../core":57}],128:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.max;r.__esModule=!0;var l=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=e("../core"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),p=e("../core/math/ObservablePoint"),c=a(p),_=e("../core/utils"),h=e("../core/settings"),f=a(h),g=function(e){function t(r){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};n(this,t);var o=i(this,e.call(this));return o._textWidth=0,o._textHeight=0,o._glyphs=[],o._font={tint:void 0===a.tint?16777215:a.tint,align:a.align||"left",name:null,size:0},o.font=a.font,o._text=r,o._maxWidth=0,o._maxLineHeight=0,o._anchor=new c.default(function(){o.dirty=!0},o,0,0),o.dirty=!1,o.updateText(),o}return o(t,e),t.prototype.updateText=function(){for(var e=t.fonts[this._font.name],r=this._font.size/e.size,a=new u.Point,n=[],o=[],l=null,d=0,p=0,_=0,h=-1,f=0,g=0,m=0,y=0,i;y<this.text.length;y++){if(i=this.text.charCodeAt(y),/(\s)/.test(this.text.charAt(y))&&(h=y,f=d),/(?:\r\n|\r|\n)/.test(this.text.charAt(y))){o.push(d),p=s(p,d),_++,a.x=0,a.y+=e.lineHeight,l=null;continue}if(-1!==h&&0<this._maxWidth&&a.x*r>this._maxWidth){u.utils.removeItems(n,h-g,y-h),y=h,h=-1,++g,o.push(f),p=s(p,f),_++,a.x=0,a.y+=e.lineHeight,l=null;continue}var x=e.chars[i];x&&(l&&x.kerning[l]&&(a.x+=x.kerning[l]),n.push({texture:x.texture,line:_,charCode:i,position:new u.Point(a.x+x.xOffset,a.y+x.yOffset)}),d=a.x+(x.texture.width+x.xOffset),a.x+=x.xAdvance,m=s(m,x.yOffset+x.texture.height),l=i)}o.push(d),p=s(p,d);for(var T=[],b=0,v;b<=_;b++)v=0,"right"===this._font.align?v=p-o[b]:"center"===this._font.align&&(v=(p-o[b])/2),T.push(v);for(var E=n.length,P=this.tint,S=0,C;S<E;S++)C=this._glyphs[S],C?C.texture=n[S].texture:(C=new u.Sprite(n[S].texture),this._glyphs.push(C)),C.position.x=(n[S].position.x+T[n[S].line])*r,C.position.y=n[S].position.y*r,C.scale.x=C.scale.y=r,C.tint=P,C.parent||this.addChild(C);for(var c=E;c<this._glyphs.length;++c)this.removeChild(this._glyphs[c]);if(this._textWidth=p*r,this._textHeight=(a.y+e.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var O=0;O<E;O++)this._glyphs[O].x-=this._textWidth*this.anchor.x,this._glyphs[O].y-=this._textHeight*this.anchor.y;this._maxLineHeight=m*r},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},t.registerFont=function(e,r){var a={},n=e.getElementsByTagName("info")[0],o=e.getElementsByTagName("common")[0],s=e.getElementsByTagName("page")[0].getAttribute("file"),l=(0,_.getResolutionOfUrl)(s,f.default.RESOLUTION);a.font=n.getAttribute("face"),a.size=parseInt(n.getAttribute("size"),10),a.lineHeight=parseInt(o.getAttribute("lineHeight"),10)/l,a.chars={};for(var d=e.getElementsByTagName("char"),p=0;p<d.length;p++){var i=d[p],c=parseInt(i.getAttribute("id"),10),h=new u.Rectangle(parseInt(i.getAttribute("x"),10)/l+r.frame.x/l,parseInt(i.getAttribute("y"),10)/l+r.frame.y/l,parseInt(i.getAttribute("width"),10)/l,parseInt(i.getAttribute("height"),10)/l);a.chars[c]={xOffset:parseInt(i.getAttribute("xoffset"),10)/l,yOffset:parseInt(i.getAttribute("yoffset"),10)/l,xAdvance:parseInt(i.getAttribute("xadvance"),10)/l,kerning:{},texture:new u.Texture(r.baseTexture,h)}}for(var g=e.getElementsByTagName("kerning"),m=0;m<g.length;m++){var y=g[m],x=parseInt(y.getAttribute("first"),10)/l,T=parseInt(y.getAttribute("second"),10)/l,b=parseInt(y.getAttribute("amount"),10)/l;a.chars[T]&&(a.chars[T].kerning[x]=b)}return t.fonts[a.font]=a,a},l(t,[{key:"tint",get:function(){return this._font.tint},set:function(e){this._font.tint="number"==typeof e&&0<=e?e:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(e){this._font.align=e||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copy(e)}},{key:"font",get:function(){return this._font},set:function(e){e&&("string"==typeof e?(e=e.split(" "),this._font.name=1===e.length?e[0]:e.slice(1).join(" "),this._font.size=2<=e.length?parseInt(e[0],10):t.fonts[this._font.name].size):(this._font.name=e.name,this._font.size="number"==typeof e.size?e.size:parseInt(e.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(e){e=e.toString()||" ",this._text===e||(this._text=e,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(e){this._maxWidth===e||(this._maxWidth=e,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),t}(u.Container);r.default=g,g.fonts={}},{"../core":57,"../core/math/ObservablePoint":60,"../core/settings":93,"../core/utils":117}],129:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=e("../core"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),d=e("../core/sprites/canvas/CanvasTinter"),u=function(e){return e&&e.__esModule?e:{default:e}}(d),p=new l.Point,c=function(e){function t(r){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100;a(this,t);var s=n(this,e.call(this,r));return s.tileTransform=new l.TransformStatic,s._width=i,s._height=o,s._canvasPattern=null,s.uvTransform=r.transform||new l.TextureMatrix(r),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return i(t,e),t.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},t.prototype._renderWebGL=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._renderCanvas=function(e){var t=this._texture;if(t.baseTexture.hasLoaded){var r=e.context,a=this.worldTransform,n=e.resolution,i=t.baseTexture,o=i.resolution,s=this.tilePosition.x/this.tileScale.x%t._frame.width*o,d=this.tilePosition.y/this.tileScale.y%t._frame.height*o;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var p=new l.CanvasRenderTarget(t._frame.width,t._frame.height,o);16777215===this.tint?p.context.drawImage(i.source,-t._frame.x*o,-t._frame.y*o):(this.tintedTexture=u.default.getTintedTexture(this,this.tint),p.context.drawImage(this.tintedTexture,0,0)),this.cachedTint=this.tint,this._canvasPattern=p.context.createPattern(p.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(a.a*n,a.b*n,a.c*n,a.d*n,a.tx*n,a.ty*n),e.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/o,this.tileScale.y/o);var c=this.anchor.x*-this._width,_=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(s,d),r.fillRect(-s+c,-d+_,this._width/this.tileScale.x*o,this._height/this.tileScale.y*o)):(r.translate(s+c,d+_),r.fillRect(-s,-d,this._width/this.tileScale.x*o,this._height/this.tileScale.y*o))}},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,a)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),t||(!this._localBoundsRect&&(this._localBoundsRect=new l.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,p);var t=this._width,r=this._height,a=-t*this.anchor._x;if(p.x>=a&&p.x<a+t){var n=-r*this.anchor._y;if(p.y>=n&&p.y<n+r)return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvTransform=null},t.from=function(e,r,a){return new t(l.Texture.from(e),r,a)},t.fromFrame=function(e,r,a){var n=l.utils.TextureCache[e];if(!n)throw new Error("The frameId \""+e+"\" does not exist in the texture cache "+this);return new t(n,r,a)},t.fromImage=function(e,r,a,n,i){return new t(l.Texture.fromImage(e,n,i),r,a)},o(t,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(e){this.uvTransform.clampMargin=e,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copy(e)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copy(e)}},{key:"width",get:function(){return this._width},set:function(e){this._width=e}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}}]),t}(l.Sprite);r.default=c},{"../core":57,"../core/sprites/canvas/CanvasTinter":96}],130:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=e("../core"),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a),i=e("../core/textures/Texture"),o=t(i),s=e("../core/textures/BaseTexture"),l=t(s),d=e("../core/utils"),u=n.DisplayObject,p=new n.Matrix;u.prototype._cacheAsBitmap=!1,u.prototype._cacheData=!1;var c=function e(){r(this,e),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(u.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t;e?(!this._cacheData&&(this._cacheData=new c),t=this._cacheData,t.originalRenderWebGL=this.renderWebGL,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this._calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=t.originalRenderWebGL,this.renderCanvas=t.originalRenderCanvas,this._calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}}),u.prototype._renderCachedWebGL=function(e){this.visible&&!(0>=this.worldAlpha)&&this.renderable&&(this._initCachedDisplayObject(e),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(e))},u.prototype._initCachedDisplayObject=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.alpha;this.alpha=1,e.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters){var a=this._filters[0].padding;r.pad(a)}var i=e._activeRenderTarget,s=e.filterManager.filterStack,u=n.RenderTexture.create(0|r.width,0|r.height),c="cacheAsBitmap_"+(0,d.uid)();this._cacheData.textureCacheId=c,l.default.addToCache(u.baseTexture,c),o.default.addToCache(u,c);var _=p;_.tx=-r.x,_.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,e.render(this,u,!0,_,!0),e.bindRenderTarget(i),e.filterManager.filterStack=s,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var h=new n.Sprite(u);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=t,h._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}},u.prototype._renderCachedCanvas=function(e){this.visible&&!(0>=this.worldAlpha)&&this.renderable&&(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(e))},u.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.getLocalBounds(),r=this.alpha;this.alpha=1;var a=e.context,i=n.RenderTexture.create(0|t.width,0|t.height),s="cacheAsBitmap_"+(0,d.uid)();this._cacheData.textureCacheId=s,l.default.addToCache(i.baseTexture,s),o.default.addToCache(i,s);var u=p;this.transform.localTransform.copy(u),u.invert(),u.tx-=t.x,u.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,i,!0,u,!1),e.context=a,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var c=new n.Sprite(i);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(t.x/t.width),c.anchor.y=-(t.y/t.height),c._bounds=this._bounds,c.alpha=r,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=c,this.containsPoint=c.containsPoint.bind(c)}},u.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},u.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},u.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,l.default.removeFromCache(this._cacheData.textureCacheId),o.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},u.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)}},{"../core":57,"../core/textures/BaseTexture":104,"../core/textures/Texture":107,"../core/utils":117}],131:[function(e){"use strict";var t=e("../core"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(t);r.DisplayObject.prototype.name=null,r.Container.prototype.getChildByName=function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].name===e)return this.children[t];return null}},{"../core":57}],132:[function(e){"use strict";var t=e("../core"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(t);r.DisplayObject.prototype.getGlobalPosition=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new r.Point,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e}},{"../core":57}],133:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0,r.BitmapText=r.TilingSpriteRenderer=r.TilingSprite=r.AnimatedSprite=void 0;var n=e("./AnimatedSprite");Object.defineProperty(r,"AnimatedSprite",{enumerable:!0,get:function(){return a(n).default}});var i=e("./TilingSprite");Object.defineProperty(r,"TilingSprite",{enumerable:!0,get:function(){return a(i).default}});var o=e("./webgl/TilingSpriteRenderer");Object.defineProperty(r,"TilingSpriteRenderer",{enumerable:!0,get:function(){return a(o).default}});var s=e("./BitmapText");Object.defineProperty(r,"BitmapText",{enumerable:!0,get:function(){return a(s).default}}),e("./cacheAsBitmap"),e("./getChildByName"),e("./getGlobalPosition")},{"./AnimatedSprite":127,"./BitmapText":128,"./TilingSprite":129,"./cacheAsBitmap":130,"./getChildByName":131,"./getGlobalPosition":132,"./webgl/TilingSpriteRenderer":134}],134:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e("../../core"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),l=e("../../core/const"),d=e("path"),u=new s.Matrix,p=function(e){function t(r){a(this,t);var i=n(this,e.call(this,r));return i.shader=null,i.simpleShader=null,i.quad=null,i}return i(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new s.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new s.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new s.Quad(e,this.renderer.state.attribState),this.quad.initVao(this.shader)},t.prototype.render=function(e){var t=this.renderer,r=this.quad;t.bindVao(r.vao);var a=r.vertices;a[0]=a[6]=e._width*-e.anchor.x,a[1]=a[3]=e._height*-e.anchor.y,a[2]=a[4]=e._width*(1-e.anchor.x),a[5]=a[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&(a=r.uvs,a[0]=a[6]=-e.anchor.x,a[1]=a[3]=-e.anchor.y,a[2]=a[4]=1-e.anchor.x,a[5]=a[7]=1-e.anchor.y),r.upload();var n=e._texture,i=n.baseTexture,o=e.tileTransform.localTransform,d=e.uvTransform,p=i.isPowerOfTwo&&n.frame.width===i.width&&n.frame.height===i.height;p&&(i._glTextures[t.CONTEXT_UID]?p=i.wrapMode!==l.WRAP_MODES.CLAMP:i.wrapMode===l.WRAP_MODES.CLAMP&&(i.wrapMode=l.WRAP_MODES.REPEAT));var c=p?this.simpleShader:this.shader;t.bindShader(c);var _=n.width,f=n.height,h=e._width,g=e._height;u.set(o.a*_/h,o.b*_/g,o.c*f/h,o.d*f/g,o.tx/h,o.ty/g),u.invert(),p?u.prepend(d.mapCoord):(c.uniforms.uMapCoord=d.mapCoord.toArray(!0),c.uniforms.uClampFrame=d.uClampFrame,c.uniforms.uClampOffset=d.uClampOffset),c.uniforms.uTransform=u.toArray(!0),c.uniforms.uColor=s.utils.premultiplyTintToRgba(e.tint,e.worldAlpha,c.uniforms.uColor,i.premultipliedAlpha),c.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),c.uniforms.uSampler=t.bindTexture(n),t.setBlendMode(s.utils.correctBlendMode(e.blendMode,i.premultipliedAlpha)),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},t}(s.ObjectRenderer);r.default=p,s.WebGLRenderer.registerPlugin("tilingSprite",p)},{"../../core":57,"../../core/const":38,path:13}],135:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=e("../../core"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),d=e("path"),u=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;a(this,t);var i=n(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return i.alpha=r,i.glShaderKey="alpha",i}return i(t,e),o(t,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),t}(l.Filter);r.default=u},{"../../core":57,path:13}],136:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.abs,l=Math.max;r.__esModule=!0;var d=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),u=e("../../core"),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),c=e("./BlurXFilter"),_=a(c),h=e("./BlurYFilter"),f=a(h),g=function(e){function t(r,a,o,s){n(this,t);var l=i(this,e.call(this));return l.blurXFilter=new _.default(r,a,o,s),l.blurYFilter=new f.default(r,a,o,s),l.padding=0,l.resolution=o||p.settings.RESOLUTION,l.quality=a||4,l.blur=r||8,l}return o(t,e),t.prototype.apply=function(e,t,r){var a=e.getRenderTarget(!0);this.blurXFilter.apply(e,t,a,!0),this.blurYFilter.apply(e,a,r,!1),e.returnRenderTarget(a)},d(t,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.padding=2*l(s(this.blurXFilter.strength),s(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.padding=2*l(s(this.blurXFilter.strength),s(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.padding=2*l(s(this.blurXFilter.strength),s(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(e){this.blurYFilter._blendMode=e}}]),t}(p.Filter);r.default=g},{"../../core":57,"./BlurXFilter":137,"./BlurYFilter":138}],137:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=e("../../core"),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(l),u=e("./generateBlurVertSource"),p=a(u),c=e("./generateBlurFragSource"),_=a(c),h=e("./getMaxBlurKernelSize"),f=a(h),g=function(e){function t(r,a,o,s){n(this,t),s=s||5;var l=(0,p.default)(s,!0),u=(0,_.default)(s),c=i(this,e.call(this,l,u));return c.resolution=o||d.settings.RESOLUTION,c._quality=0,c.quality=a||4,c.strength=r||8,c.firstRun=!0,c}return o(t,e),t.prototype.apply=function(e,t,r,a){if(this.firstRun){var n=e.renderer.gl,o=(0,f.default)(n);this.vertexSrc=(0,p.default)(o,!0),this.fragmentSrc=(0,_.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/t.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,a);else{for(var s=e.getRenderTarget(!0),l=t,d=s,u=0;u<this.passes-1;u++){e.applyFilter(this,l,d,!0);var i=d;d=l,l=i}e.applyFilter(this,l,r,a),e.returnRenderTarget(s)}},s(t,[{key:"blur",get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),t}(d.Filter);r.default=g},{"../../core":57,"./generateBlurFragSource":139,"./generateBlurVertSource":140,"./getMaxBlurKernelSize":141}],138:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=e("../../core"),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(l),u=e("./generateBlurVertSource"),p=a(u),c=e("./generateBlurFragSource"),_=a(c),h=e("./getMaxBlurKernelSize"),f=a(h),g=function(e){function t(r,a,o,s){n(this,t),s=s||5;var l=(0,p.default)(s,!1),u=(0,_.default)(s),c=i(this,e.call(this,l,u));return c.resolution=o||d.settings.RESOLUTION,c._quality=0,c.quality=a||4,c.strength=r||8,c.firstRun=!0,c}return o(t,e),t.prototype.apply=function(e,t,r,a){if(this.firstRun){var n=e.renderer.gl,o=(0,f.default)(n);this.vertexSrc=(0,p.default)(o,!1),this.fragmentSrc=(0,_.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/t.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,a);else{for(var s=e.getRenderTarget(!0),l=t,d=s,u=0;u<this.passes-1;u++){e.applyFilter(this,l,d,!0);var i=d;d=l,l=i}e.applyFilter(this,l,r,a),e.returnRenderTarget(s)}},s(t,[{key:"blur",get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),t}(d.Filter);r.default=g},{"../../core":57,"./generateBlurFragSource":139,"./generateBlurVertSource":140,"./getMaxBlurKernelSize":141}],139:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e){for(var t=a[e],r=t.length,o=n,s="",l=void 0,d=0,i;d<e;d++)i="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",d),l=d,d>=r&&(l=e-d-1),i=i.replace("%value%",t[l]),s+=i,s+="\n";return o=o.replace("%blur%",s),o=o.replace("%size%",e),o};var a={5:[0.153388,0.221461,0.250301],7:[0.071303,0.131514,0.189879,0.214607],9:[0.028532,0.067234,0.124009,0.179044,0.20236],11:[0.0093,0.028002,0.065984,0.121703,0.175713,0.198596],13:[0.002406,0.009255,0.027867,0.065666,0.121117,0.174868,0.197641],15:[0.000489,0.002403,0.009246,0.02784,0.065602,0.120999,0.174697,0.197448]},n="varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}"},{}],140:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e,t){var r=Math.ceil(e/2),n=a,o="",s;s=t?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var l=0,i;l<e;l++)i=s.replace("%index%",l),i=i.replace("%sampleIndex%",l-(r-1)+".0"),o+=i,o+="\n";return n=n.replace("%blur%",o),n=n.replace("%size%",e),n};var a="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform float strength;\nuniform mat3 projectionMatrix;\nvarying vec2 vBlurTexCoords[%size%];\nvoid main(void)\n{\ngl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n%blur%\n}"},{}],141:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e){for(var t=e.getParameter(e.MAX_VARYING_VECTORS),r=15;r>t;)r-=2;return r}},{}],142:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=e("../../core"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),d=e("path"),u=function(e){function t(){a(this,t);var r=n(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return i(t,e),t.prototype._loadMatrix=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r},t.prototype._multiply=function(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],t)},t.prototype.greyscale=function(e,t){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],t)},t.prototype.blackAndWhite=function(e){this._loadMatrix([0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var r=Math.cos(e),a=Math.sin(e),n=Math.sqrt,i=1/3,o=n(i);this._loadMatrix([r+(1-r)*i,i*(1-r)-o*a,i*(1-r)+o*a,0,0,i*(1-r)+o*a,r+i*(1-r),i*(1-r)-o*a,0,0,i*(1-r)-o*a,i*(1-r)+o*a,r+i*(1-r),0,0,0,0,0,1,0],t)},t.prototype.contrast=function(e,t){var r=(e||0)+1,a=-0.5*(r-1);this._loadMatrix([r,0,0,0,a,0,r,0,0,a,0,0,r,0,a,0,0,0,1,0],t)},t.prototype.saturate=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],r=2*e/3+1,a=-0.5*(r-1);this._loadMatrix([r,a,a,0,0,a,r,a,0,0,a,a,r,0,0,0,0,0,1,0],t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([0.393,0.7689999,0.18899999,0,0,0.349,0.6859999,0.16799999,0,0,0.272,0.5339999,0.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-0.8545344976951645,-0.09155508482755585,0,11.793603434377337,-0.3087833385928097,1.7658908555458428,-0.10601743074722245,0,-70.35205161461398,-0.231103377548616,-0.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-0.062,-0.062,0,0,-0.122,1.378,-0.122,0,0,-0.016,-0.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-0.3967382283601348,-0.03992559172921793,0,63.72958762196502,-0.16404339962244616,1.0835251566291304,-0.05498805115633132,0,24.732407896706203,-0.16786010706155763,-0.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([0.5997023498159715,0.34553243048391263,-0.2708298674538042,0,47.43192855600873,-0.037703249837783157,0.8609577587992641,0.15059552388459913,0,-36.96841498319127,0.24113635128153335,-0.07441037908422492,0.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([0.6279345635605994,0.3202183420819367,-0.03965408211312453,0,9.651285835294123,0.02578397704808868,0.6441188644374771,0.03259127616149294,0,7.462829176470591,0.0466055556782719,-0.0851232987247891,0.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,t,r,a,n){e=e||0.2,t=t||0.15,r=r||16770432,a=a||3375104;var i=(255&r>>16)/255,o=(255&r>>8)/255,s=(255&r)/255,l=(255&a>>16)/255,d=(255&a>>8)/255,u=(255&a)/255,p=[0.3,0.59,0.11,0,0,i,o,s,e,0,l,d,u,t,0,i-l,o-d,s-u,0,0];this._loadMatrix(p,n)},t.prototype.night=function(e,t){e=e||0.1;var r=[-2*e,-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.predator=function(e,t){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,0.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,0.8044459223747253*e,0,0,0,1,0],t)},t.prototype.lsd=function(e){this._loadMatrix([2,-0.4,0.5,0,0,-0.5,2,-0.4,0,0,-0.4,-0.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},o(t,[{key:"matrix",get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),t}(l.Filter);r.default=u,u.prototype.grayscale=u.prototype.greyscale},{"../../core":57,path:13}],143:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=e("../../core"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),d=e("path"),u=function(e){function t(r,i){a(this,t);var o=new l.Matrix;r.renderable=!1;var s=n(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return s.maskSprite=r,s.maskMatrix=o,s.uniforms.mapSampler=r._texture,s.uniforms.filterMatrix=o,s.uniforms.scale={x:1,y:1},(null===i||void 0===i)&&(i=20),s.scale=new l.Point(i,i),s}return i(t,e),t.prototype.apply=function(e,t,r){var a=1/r.destinationFrame.width*(r.size.width/t.size.width);this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x*a,this.uniforms.scale.y=this.scale.y*a,e.applyFilter(this,t,r)},o(t,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e}}]),t}(l.Filter);r.default=u},{"../../core":57,path:13}],144:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e("../../core"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),l=e("path"),d=function(e){function t(){return a(this,t),n(this,e.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}","varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it's\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n"))}return i(t,e),t}(s.Filter);r.default=d},{"../../core":57,path:13}],145:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var n=e("./fxaa/FXAAFilter");Object.defineProperty(r,"FXAAFilter",{enumerable:!0,get:function(){return a(n).default}});var i=e("./noise/NoiseFilter");Object.defineProperty(r,"NoiseFilter",{enumerable:!0,get:function(){return a(i).default}});var o=e("./displacement/DisplacementFilter");Object.defineProperty(r,"DisplacementFilter",{enumerable:!0,get:function(){return a(o).default}});var s=e("./blur/BlurFilter");Object.defineProperty(r,"BlurFilter",{enumerable:!0,get:function(){return a(s).default}});var l=e("./blur/BlurXFilter");Object.defineProperty(r,"BlurXFilter",{enumerable:!0,get:function(){return a(l).default}});var d=e("./blur/BlurYFilter");Object.defineProperty(r,"BlurYFilter",{enumerable:!0,get:function(){return a(d).default}});var u=e("./colormatrix/ColorMatrixFilter");Object.defineProperty(r,"ColorMatrixFilter",{enumerable:!0,get:function(){return a(u).default}});var p=e("./alpha/AlphaFilter");Object.defineProperty(r,"AlphaFilter",{enumerable:!0,get:function(){return a(p).default}})},{"./alpha/AlphaFilter":135,"./blur/BlurFilter":136,"./blur/BlurXFilter":137,"./blur/BlurYFilter":138,"./colormatrix/ColorMatrixFilter":142,"./displacement/DisplacementFilter":143,"./fxaa/FXAAFilter":144,"./noise/NoiseFilter":146}],146:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=e("../../core"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),d=e("path"),u=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0.5,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Math.random();a(this,t);var o=n(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return o.noise=r,o.seed=i,o}return i(t,e),o(t,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e}}]),t}(l.Filter);r.default=u},{"../../core":57,path:13}],147:[function(e,t,r){(function(t){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}r.__esModule=!0,r.loader=r.prepare=r.particles=r.mesh=r.loaders=r.interaction=r.filters=r.extras=r.extract=r.accessibility=void 0;var n=e("./polyfill");Object.keys(n).forEach(function(e){"default"===e||"__esModule"===e||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}})});var i=e("./core");Object.keys(i).forEach(function(e){"default"===e||"__esModule"===e||Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}})});var o=e("./deprecation"),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=e("./accessibility"),d=a(l),u=e("./extract"),p=a(u),c=e("./extras"),_=a(c),h=e("./filters"),f=a(h),g=e("./interaction"),m=a(g),y=e("./loaders"),x=a(y),T=e("./mesh"),b=a(T),v=e("./particles"),E=a(v),P=e("./prepare"),S=a(P);i.utils.mixins.performMixins();var C=x.shared||null;r.accessibility=d,r.extract=p,r.extras=_,r.filters=f,r.interaction=m,r.loaders=x,r.mesh=b,r.particles=E,r.prepare=S,r.loader=C,"function"==typeof s.default&&(0,s.default)(r),t.PIXI=r}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"./accessibility":34,"./core":57,"./deprecation":123,"./extract":125,"./extras":133,"./filters":145,"./interaction":152,"./loaders":155,"./mesh":164,"./particles":167,"./polyfill":173,"./prepare":177}],148:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=e("../core"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(i),s=function(){function e(){a(this,e),this.global=new o.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return e.prototype.getLocalPosition=function(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)},e.prototype._copyEvent=function(e){e.isPrimary&&(this.isPrimary=!0),this.button=e.button,this.buttons=e.buttons,this.width=e.width,this.height=e.height,this.tiltX=e.tiltX,this.tiltY=e.tiltY,this.pointerType=e.pointerType,this.pressure=e.pressure,this.rotationAngle=e.rotationAngle,this.twist=e.twist||0,this.tangentialPressure=e.tangentialPressure||0},e.prototype._reset=function(){this.isPrimary=!1},n(e,[{key:"pointerId",get:function(){return this.identifier}}]),e}();r.default=s},{"../core":57}],149:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=function(){function e(){a(this,e),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0},e.prototype._reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},e}();r.default=n},{}],150:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=e("../core"),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(l),u=e("./InteractionData"),p=a(u),c=e("./InteractionEvent"),_=a(c),h=e("./InteractionTrackingData"),f=a(h),g=e("eventemitter3"),m=a(g),y=e("./interactiveTarget"),x=a(y);d.utils.mixins.delayMixin(d.DisplayObject.prototype,x.default);var T="MOUSE",b={target:null,data:{global:null}},v=function(e){function t(r,a){n(this,t);var o=i(this,e.call(this));return a=a||{},o.renderer=r,o.autoPreventDefault=void 0===a.autoPreventDefault||a.autoPreventDefault,o.interactionFrequency=a.interactionFrequency||10,o.mouse=new p.default,o.mouse.identifier=T,o.mouse.global.set(-999999),o.activeInteractionData={},o.activeInteractionData[T]=o.mouse,o.interactionDataPool=[],o.eventData=new _.default,o.interactionDOMElement=null,o.moveWhenInside=!1,o.eventsAdded=!1,o.mouseOverRenderer=!1,o.supportsTouchEvents="ontouchstart"in window,o.supportsPointerEvents=!!window.PointerEvent,o.onPointerUp=o.onPointerUp.bind(o),o.processPointerUp=o.processPointerUp.bind(o),o.onPointerCancel=o.onPointerCancel.bind(o),o.processPointerCancel=o.processPointerCancel.bind(o),o.onPointerDown=o.onPointerDown.bind(o),o.processPointerDown=o.processPointerDown.bind(o),o.onPointerMove=o.onPointerMove.bind(o),o.processPointerMove=o.processPointerMove.bind(o),o.onPointerOut=o.onPointerOut.bind(o),o.processPointerOverOut=o.processPointerOverOut.bind(o),o.onPointerOver=o.onPointerOver.bind(o),o.cursorStyles={default:"inherit",pointer:"pointer"},o.currentCursorMode=null,o.cursor=null,o._tempPoint=new d.Point,o.resolution=1,o.setTargetElement(o.renderer.view,o.renderer.resolution),o}return o(t,e),t.prototype.hitTest=function(e,t){return b.target=null,b.data.global=e,t||(t=this.renderer._lastObjectRendered),this.processInteractive(b,t,null,!0),b.target},t.prototype.setTargetElement=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents()},t.prototype.addEvents=function(){this.interactionDOMElement&&(d.ticker.shared.add(this.update,this,d.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},t.prototype.removeEvents=function(){this.interactionDOMElement&&(d.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},t.prototype.update=function(e){if((this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency))&&(this._deltaTime=0,!!this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var r=this.activeInteractionData[t];if(r.originalEvent&&"touch"!==r.pointerType){var a=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch("undefined"==typeof t?"undefined":s(t)){case"string":this.interactionDOMElement.style.cursor=t;break;case"function":t(e);break;case"object":Object.assign(this.interactionDOMElement.style,t);}else"string"!=typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,t,r){r.stopped||(r.currentTarget=e,r.type=t,e.emit(t,r),e[t]&&e[t](r))},t.prototype.mapPositionToPoint=function(e,t,r){var a=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=navigator.isCocoonJS?this.resolution:1/this.resolution;e.x=(t-a.left)*(this.interactionDOMElement.width/a.width)*n,e.y=(r-a.top)*(this.interactionDOMElement.height/a.height)*n},t.prototype.processInteractive=function(e,t,r,a,n){if(!t||!t.visible)return!1;var o=e.data.global;n=t.interactive||n;var s=!1,l=n;if(t.hitArea?l=!1:a&&t._mask&&!t._mask.containsPoint(o)&&(a=!1),t.interactiveChildren&&t.children)for(var d=t.children,u=d.length-1;0<=u;u--){var i=d[u],p=this.processInteractive(e,i,r,a,l);if(p){if(!i.parent)continue;l=!1,p&&(e.target&&(a=!1),s=!0)}}return n&&(a&&!e.target&&(t.hitArea?(t.worldTransform.applyInverse(o,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)&&(s=!0)):t.containsPoint&&t.containsPoint(o)&&(s=!0)),t.interactive&&(s&&!e.target&&(e.target=t),r&&r(e,t,!!s))),s},t.prototype.onPointerDown=function(e){if(!(this.supportsTouchEvents&&"touch"===e.pointerType)){var t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&e.preventDefault();for(var r=t.length,a=0;a<r;a++){var n=t[a],i=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,i);if(o.data.originalEvent=e,this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",o),"touch"===n.pointerType)this.emit("touchstart",o);else if("mouse"===n.pointerType||"pen"===n.pointerType){var s=2===n.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(e,t,r){var a=e.data,n=e.data.identifier;if(r)if(t.trackedPointers[n]||(t.trackedPointers[n]=new f.default(n)),this.dispatchEvent(t,"pointerdown",e),"touch"===a.pointerType)this.dispatchEvent(t,"touchstart",e);else if("mouse"===a.pointerType||"pen"===a.pointerType){var i=2===a.button;i?t.trackedPointers[n].rightDown=!0:t.trackedPointers[n].leftDown=!0,this.dispatchEvent(t,i?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,t,r){for(var a=this.normalizeToPointerData(e),n=a.length,o=e.target===this.interactionDOMElement?"":"outside",s=0;s<n;s++){var i=a[s],l=this.getInteractionDataForPointerId(i),d=this.configureInteractionEventForDOMEvent(this.eventData,i,l);if(d.data.originalEvent=e,this.processInteractive(d,this.renderer._lastObjectRendered,r,t||!o),this.emit(t?"pointercancel":"pointerup"+o,d),"mouse"===i.pointerType||"pen"===i.pointerType){var u=2===i.button;this.emit(u?"rightup"+o:"mouseup"+o,d)}else"touch"===i.pointerType&&(this.emit(t?"touchcancel":"touchend"+o,d),this.releaseInteractionDataForPointerId(i.pointerId,l))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,t){var r=e.data,a=e.data.identifier;void 0!==t.trackedPointers[a]&&(delete t.trackedPointers[a],this.dispatchEvent(t,"pointercancel",e),"touch"===r.pointerType&&this.dispatchEvent(t,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,t,r){var a=e.data,n=e.data.identifier,i=t.trackedPointers[n],o="touch"===a.pointerType,s="mouse"===a.pointerType||"pen"===a.pointerType;if(s){var l=2===a.button,d=f.default.FLAGS,u=l?d.RIGHT_DOWN:d.LEFT_DOWN,p=void 0!==i&&i.flags&u;r?(this.dispatchEvent(t,l?"rightup":"mouseup",e),p&&this.dispatchEvent(t,l?"rightclick":"click",e)):p&&this.dispatchEvent(t,l?"rightupoutside":"mouseupoutside",e),i&&(l?i.rightDown=!1:i.leftDown=!1)}r?(this.dispatchEvent(t,"pointerup",e),o&&this.dispatchEvent(t,"touchend",e),i&&(this.dispatchEvent(t,"pointertap",e),o&&(this.dispatchEvent(t,"tap",e),i.over=!1))):i&&(this.dispatchEvent(t,"pointerupoutside",e),o&&this.dispatchEvent(t,"touchendoutside",e)),i&&i.none&&delete t.trackedPointers[n]},t.prototype.onPointerMove=function(e){if(!(this.supportsTouchEvents&&"touch"===e.pointerType)){var t=this.normalizeToPointerData(e);"mouse"===t[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var r=t.length,a=0;a<r;a++){var n=t[a],i=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,i);o.data.originalEvent=e;var s="touch"!==n.pointerType||this.moveWhenInside;this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerMove,s),this.emit("pointermove",o),"touch"===n.pointerType&&this.emit("touchmove",o),("mouse"===n.pointerType||"pen"===n.pointerType)&&this.emit("mousemove",o)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,t,r){var a=e.data,n="touch"===a.pointerType,i="mouse"===a.pointerType||"pen"===a.pointerType;i&&this.processPointerOverOut(e,t,r),(!this.moveWhenInside||r)&&(this.dispatchEvent(t,"pointermove",e),n&&this.dispatchEvent(t,"touchmove",e),i&&this.dispatchEvent(t,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!(this.supportsTouchEvents&&"touch"===e.pointerType)){var t=this.normalizeToPointerData(e),r=t[0];"mouse"===r.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(r),n=this.configureInteractionEventForDOMEvent(this.eventData,r,a);n.data.originalEvent=r,this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===r.pointerType||"pen"===r.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(a.identifier)}},t.prototype.processPointerOverOut=function(e,t,r){var a=e.data,n=e.data.identifier,i="mouse"===a.pointerType||"pen"===a.pointerType,o=t.trackedPointers[n];r&&!o&&(o=t.trackedPointers[n]=new f.default(n)),void 0===o||(r&&this.mouseOverRenderer?(!o.over&&(o.over=!0,this.dispatchEvent(t,"pointerover",e),i&&this.dispatchEvent(t,"mouseover",e)),i&&null===this.cursor&&(this.cursor=t.cursor)):o.over&&(o.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),i&&this.dispatchEvent(t,"mouseout",e),o.none&&delete t.trackedPointers[n]))},t.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e),r=t[0],a=this.getInteractionDataForPointerId(r),n=this.configureInteractionEventForDOMEvent(this.eventData,r,a);n.data.originalEvent=r,"mouse"===r.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),("mouse"===r.pointerType||"pen"===r.pointerType)&&this.emit("mouseover",n)},t.prototype.getInteractionDataForPointerId=function(e){var t=e.pointerId,r;return t===T||"mouse"===e.pointerType?r=this.mouse:this.activeInteractionData[t]?r=this.activeInteractionData[t]:(r=this.interactionDataPool.pop()||new p.default,r.identifier=t,this.activeInteractionData[t]=r),r._copyEvent(e),r},t.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t._reset(),this.interactionDataPool.push(t))},t.prototype.configureInteractionEventForDOMEvent=function(e,t,r){return e.data=r,this.mapPositionToPoint(r.global,t.clientX,t.clientY),navigator.isCocoonJS&&"touch"===t.pointerType&&(r.global.x/=this.resolution,r.global.y/=this.resolution),"touch"===t.pointerType&&(t.globalX=r.global.x,t.globalY=r.global.y),r.originalEvent=t,e._reset(),e},t.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,a=e.changedTouches.length,n;r<a;r++)n=e.changedTouches[r],"undefined"==typeof n.button&&(n.button=e.touches.length?1:0),"undefined"==typeof n.buttons&&(n.buttons=e.touches.length?1:0),"undefined"==typeof n.isPrimary&&(n.isPrimary=1===e.touches.length&&"touchstart"===e.type),"undefined"==typeof n.width&&(n.width=n.radiusX||1),"undefined"==typeof n.height&&(n.height=n.radiusY||1),"undefined"==typeof n.tiltX&&(n.tiltX=0),"undefined"==typeof n.tiltY&&(n.tiltY=0),"undefined"==typeof n.pointerType&&(n.pointerType="touch"),"undefined"==typeof n.pointerId&&(n.pointerId=n.identifier||0),"undefined"==typeof n.pressure&&(n.pressure=n.force||0.5),n.twist=0,n.tangentialPressure=0,"undefined"==typeof n.layerX&&(n.layerX=n.offsetX=n.clientX),"undefined"==typeof n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,t.push(n);else!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent?t.push(e):("undefined"==typeof e.isPrimary&&(e.isPrimary=!0),"undefined"==typeof e.width&&(e.width=1),"undefined"==typeof e.height&&(e.height=1),"undefined"==typeof e.tiltX&&(e.tiltX=0),"undefined"==typeof e.tiltY&&(e.tiltY=0),"undefined"==typeof e.pointerType&&(e.pointerType="mouse"),"undefined"==typeof e.pointerId&&(e.pointerId=T),"undefined"==typeof e.pressure&&(e.pressure=0.5),e.twist=0,e.tangentialPressure=0,e.isNormalized=!0,t.push(e));return t},t.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},t}(m.default);r.default=v,d.WebGLRenderer.registerPlugin("interaction",v),d.CanvasRenderer.registerPlugin("interaction",v)},{"../core":57,"./InteractionData":148,"./InteractionEvent":149,"./InteractionTrackingData":151,"./interactiveTarget":153,eventemitter3:181}],151:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=function(){function e(t){a(this,e),this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(e,t){t?this._flags|=e:this._flags&=~e},n(e,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(e){this._flags=e}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(e){this._doSet(this.constructor.FLAGS.OVER,e)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,e)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.LEFT_DOWN,e)}}]),e}();r.default=i,i.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},{}],152:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var n=e("./InteractionData");Object.defineProperty(r,"InteractionData",{enumerable:!0,get:function(){return a(n).default}});var i=e("./InteractionManager");Object.defineProperty(r,"InteractionManager",{enumerable:!0,get:function(){return a(i).default}});var o=e("./interactiveTarget");Object.defineProperty(r,"interactiveTarget",{enumerable:!0,get:function(){return a(o).default}});var s=e("./InteractionTrackingData");Object.defineProperty(r,"InteractionTrackingData",{enumerable:!0,get:function(){return a(s).default}});var l=e("./InteractionEvent");Object.defineProperty(r,"InteractionEvent",{enumerable:!0,get:function(){return a(l).default}})},{"./InteractionData":148,"./InteractionEvent":149,"./InteractionManager":150,"./InteractionTrackingData":151,"./interactiveTarget":153}],153:[function(e,t,r){"use strict";r.__esModule=!0,r.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},{}],154:[function(e,t,r){"use strict";function a(e,t){e.bitmapFont=l.BitmapText.registerFont(e.data,t)}r.__esModule=!0,r.parse=a,r.default=function(){return function(e,t){if(!e.data||e.type!==s.Resource.TYPE.XML)return void t();if(0===e.data.getElementsByTagName("page").length||0===e.data.getElementsByTagName("info").length||null===e.data.getElementsByTagName("info")[0].getAttribute("face"))return void t();var r=e.isDataUrl?"":i.dirname(e.url);e.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/")),r=r.replace(this.baseUrl,""),r&&"/"!==r.charAt(r.length-1)&&(r+="/");var n=r+e.data.getElementsByTagName("page")[0].getAttribute("file");if(o.utils.TextureCache[n])a(e,o.utils.TextureCache[n]),t();else{var l={crossOrigin:e.crossOrigin,loadType:s.Resource.LOAD_TYPE.IMAGE,metadata:e.metadata.imageMetadata,parentResource:e};this.add(e.name+"_image",n,l,function(r){a(e,r.texture),t()})}}};var n=e("path"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n),o=e("../core"),s=e("resource-loader"),l=e("../extras")},{"../core":57,"../extras":133,path:13,"resource-loader":194}],155:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0,r.shared=r.Resource=r.textureParser=r.getResourcePath=r.spritesheetParser=r.parseBitmapFontData=r.bitmapFontParser=r.Loader=void 0;var n=e("./bitmapFontParser");Object.defineProperty(r,"bitmapFontParser",{enumerable:!0,get:function(){return a(n).default}}),Object.defineProperty(r,"parseBitmapFontData",{enumerable:!0,get:function(){return n.parse}});var i=e("./spritesheetParser");Object.defineProperty(r,"spritesheetParser",{enumerable:!0,get:function(){return a(i).default}}),Object.defineProperty(r,"getResourcePath",{enumerable:!0,get:function(){return i.getResourcePath}});var o=e("./textureParser");Object.defineProperty(r,"textureParser",{enumerable:!0,get:function(){return a(o).default}});var s=e("resource-loader");Object.defineProperty(r,"Resource",{enumerable:!0,get:function(){return s.Resource}});var l=e("../core/Application"),d=a(l),u=e("./loader"),p=a(u);r.Loader=p.default;var c=new p.default;c.destroy=function(){},r.shared=c;var _=d.default.prototype;_._loader=null,Object.defineProperty(_,"loader",{get:function(){if(!this._loader){var e=this._options.sharedLoader;this._loader=e?c:new p.default}return this._loader}}),_._parentDestroy=_.destroy,_.destroy=function(e){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(e)}},{"../core/Application":35,"./bitmapFontParser":154,"./loader":156,"./spritesheetParser":157,"./textureParser":158,"resource-loader":194}],156:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e("resource-loader"),l=a(s),d=e("resource-loader/lib/middlewares/parsing/blob"),u=e("eventemitter3"),p=a(u),c=e("./textureParser"),_=a(c),h=e("./spritesheetParser"),f=a(h),g=e("./bitmapFontParser"),m=a(g),y=function(e){function t(r,a){n(this,t);var s=o(this,e.call(this,r,a));p.default.call(s);for(var l=0;l<t._pixiMiddleware.length;++l)s.use(t._pixiMiddleware[l]());return s.onStart.add(function(e){return s.emit("start",e)}),s.onProgress.add(function(e,t){return s.emit("progress",e,t)}),s.onError.add(function(t,e,a){return s.emit("error",t,e,a)}),s.onLoad.add(function(e,t){return s.emit("load",e,t)}),s.onComplete.add(function(e,t){return s.emit("complete",e,t)}),s}return i(t,e),t.addPixiMiddleware=function(e){t._pixiMiddleware.push(e)},t.prototype.destroy=function(){this.removeAllListeners(),this.reset()},t}(l.default);for(var x in r.default=y,p.default.prototype)y.prototype[x]=p.default.prototype[x];y._pixiMiddleware=[d.blobMiddlewareFactory,_.default,f.default,m.default];var T=l.default.Resource;T.setExtensionXhrType("fnt",T.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":154,"./spritesheetParser":157,"./textureParser":158,eventemitter3:181,"resource-loader":194,"resource-loader/lib/middlewares/parsing/blob":195}],157:[function(e,t,r){"use strict";function a(e,t){return e.isDataUrl?e.data.meta.image:o.default.resolve(e.url.replace(t,""),e.data.meta.image)}r.__esModule=!0,r.default=function(){return function(e,t){var r=e.name+"_image";if(!e.data||e.type!==n.Resource.TYPE.JSON||!e.data.frames||this.resources[r])return void t();var i={crossOrigin:e.crossOrigin,loadType:n.Resource.LOAD_TYPE.IMAGE,metadata:e.metadata.imageMetadata,parentResource:e},o=a(e,this.baseUrl);this.add(r,o,i,function(r){var a=new s.Spritesheet(r.texture.baseTexture,e.data,e.url);a.parse(function(){e.spritesheet=a,e.textures=a.textures,t()})})}},r.getResourcePath=a;var n=e("resource-loader"),i=e("url"),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=e("../core")},{"../core":57,"resource-loader":194,url:196}],158:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(){return function(e,t){e.data&&e.type===a.Resource.TYPE.IMAGE&&(e.texture=i.default.fromLoader(e.data,e.url,e.name)),t()}};var a=e("resource-loader"),n=e("../core/textures/Texture"),i=function(e){return e&&e.__esModule?e:{default:e}}(n)},{"../core/textures/Texture":107,"resource-loader":194}],159:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=e("../core"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),d=e("../core/textures/Texture"),u=function(e){return e&&e.__esModule?e:{default:e}}(d),p=new l.Point,c=new l.Polygon,_=function(e){function t(r,i,o,s,d){a(this,t);var p=n(this,e.call(this));return p._texture=r||u.default.EMPTY,p.uvs=o||new Float32Array([0,0,1,0,1,1,0,1]),p.vertices=i||new Float32Array([0,0,100,0,100,100,0,100]),p.indices=s||new Uint16Array([0,1,3,2]),p.dirty=0,p.indexDirty=0,p.blendMode=l.BLEND_MODES.NORMAL,p.canvasPadding=0,p.drawMode=d||t.DRAW_MODES.TRIANGLE_MESH,p.shader=null,p.tintRgb=new Float32Array([1,1,1]),p._glDatas={},p._uvTransform=new l.TextureMatrix(p._texture),p.uploadUvTransform=!1,p.pluginName="mesh",p}return i(t,e),t.prototype._renderWebGL=function(e){this.refresh(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._renderCanvas=function(e){this.refresh(),e.plugins[this.pluginName].render(this)},t.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},t.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},t.prototype.refresh=function(e){this._uvTransform.update(e)&&this._refresh()},t.prototype._refresh=function(){},t.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,p);for(var r=this.vertices,a=c.points,n=this.indices,o=this.indices.length,s=this.drawMode===t.DRAW_MODES.TRIANGLES?3:1,l=0;l+2<o;l+=s){var i=2*n[l],d=2*n[l+1],u=2*n[l+2];if(a[0]=r[i],a[1]=r[i+1],a[2]=r[d],a[3]=r[d+1],a[4]=r[u],a[5]=r[u+1],c.contains(p.x,p.y))return!0}return!1},o(t,[{key:"texture",get:function(){return this._texture},set:function(e){this._texture===e||(this._texture=e,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return l.utils.rgb2hex(this.tintRgb)},set:function(e){this.tintRgb=l.utils.hex2rgb(e,this.tintRgb)}}]),t}(l.Container);r.default=_,_.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":57,"../core/textures/Texture":107}],160:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=e("./Plane"),l=function(e){return e&&e.__esModule?e:{default:e}}(s),d=10,u=function(e){function t(r,i,o,s,l){a(this,t);var u=n(this,e.call(this,r,4,4));return u._origWidth=r.orig.width,u._origHeight=r.orig.height,u._width=u._origWidth,u._height=u._origHeight,u.leftWidth="undefined"==typeof i?d:i,u.rightWidth="undefined"==typeof s?d:s,u.topHeight="undefined"==typeof o?d:o,u.bottomHeight="undefined"==typeof l?d:l,u.refresh(!0),u}return i(t,e),t.prototype.updateHorizontalVertices=function(){var e=this.vertices;e[9]=e[11]=e[13]=e[15]=this._topHeight,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices;e[2]=e[10]=e[18]=e[26]=this._leftWidth,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._renderCanvas=function(e){var t=e.context;t.globalAlpha=this.worldAlpha;var r=this.worldTransform,a=e.resolution;e.roundPixels?t.setTransform(r.a*a,r.b*a,r.c*a,r.d*a,0|r.tx*a,0|r.ty*a):t.setTransform(r.a*a,r.b*a,r.c*a,r.d*a,r.tx*a,r.ty*a);var n=this._texture.baseTexture,i=n.source,o=n.width*n.resolution,s=n.height*n.resolution;this.drawSegment(t,i,o,s,0,1,10,11),this.drawSegment(t,i,o,s,2,3,12,13),this.drawSegment(t,i,o,s,4,5,14,15),this.drawSegment(t,i,o,s,8,9,18,19),this.drawSegment(t,i,o,s,10,11,20,21),this.drawSegment(t,i,o,s,12,13,22,23),this.drawSegment(t,i,o,s,16,17,26,27),this.drawSegment(t,i,o,s,18,19,28,29),this.drawSegment(t,i,o,s,20,21,30,31)},t.prototype.drawSegment=function(e,t,r,a,n,i,o,s){var l=this.uvs,d=this.vertices,u=(l[o]-l[n])*r,p=(l[s]-l[i])*a,c=d[o]-d[n],_=d[s]-d[i];1>u&&(u=1),1>p&&(p=1),1>c&&(c=1),1>_&&(_=1),e.drawImage(t,l[n]*r,l[i]*a,u,p,d[n],d[i],c,_)},t.prototype._refresh=function(){e.prototype._refresh.call(this);var t=this.uvs,r=this._texture;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var a=1/this._origWidth,n=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=a*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-a*this._rightWidth,t[9]=t[11]=t[13]=t[15]=n*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},o(t,[{key:"width",get:function(){return this._width},set:function(e){this._width=e,this._refresh()}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()}}]),t}(l.default);r.default=u},{"./Plane":161}],161:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e("./Mesh"),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(r,i,o){a(this,t);var l=n(this,e.call(this,r));return l._ready=!0,l.verticesX=i||10,l.verticesY=o||10,l.drawMode=s.default.DRAW_MODES.TRIANGLES,l.refresh(),l}return i(t,e),t.prototype._refresh=function(){for(var e=this._texture,t=this.verticesX*this.verticesY,r=[],a=[],n=[],o=[],s=this.verticesX-1,l=this.verticesY-1,d=e.width/s,u=e.height/l,p=0;p<t;p++){var i=p%this.verticesX,c=0|p/this.verticesX;r.push(i*d,c*u),n.push(i/s,c/l)}for(var _=0;_<s*l;_++){var h=_%s,f=0|_/s,g=f*this.verticesX+h,m=f*this.verticesX+h+1,y=(f+1)*this.verticesX+h,x=(f+1)*this.verticesX+h+1;o.push(g,m,y),o.push(m,x,y)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(n),this.colors=new Float32Array(a),this.indices=new Uint16Array(o),this.dirty++,this.indexDirty++,this.multiplyUvs()},t.prototype._onTextureUpdate=function(){s.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},t}(s.default);r.default=l},{"./Mesh":159}],162:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e("./Mesh"),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(r,i){a(this,t);var o=n(this,e.call(this,r));return o.points=i,o.vertices=new Float32Array(4*i.length),o.uvs=new Float32Array(4*i.length),o.colors=new Float32Array(2*i.length),o.indices=new Uint16Array(2*i.length),o.autoUpdate=!0,o.refresh(),o}return i(t,e),t.prototype._refresh=function(){var e=this.points;if(!(1>e.length)&&this._texture._uvs){this.vertices.length/4!==e.length&&(this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length));var t=this.uvs,r=this.indices,a=this.colors;t[0]=0,t[1]=0,t[2]=0,t[3]=1,a[0]=1,a[1]=1,r[0]=0,r[1]=1;for(var n=e.length,o=1;o<n;o++){var i=4*o,s=o/(n-1);t[i]=s,t[i+1]=0,t[i+2]=s,t[i+3]=1,i=2*o,a[i]=1,a[i+1]=1,i=2*o,r[i]=i,r[i+1]=i+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},t.prototype.refreshVertices=function(){var e=this.points;if(!(1>e.length))for(var t=e[0],r=void 0,a=0,n=0,o=this.vertices,s=e.length,l=0;l<s;l++){var i=e[l],d=4*l;r=l<e.length-1?e[l+1]:i,n=-(r.x-t.x),a=r.y-t.y;var u=10*(1-l/(s-1));1<u&&(u=1);var p=Math.sqrt(a*a+n*n),c=this._texture.height/2;a/=p,n/=p,a*=c,n*=c,o[d]=i.x+a,o[d+1]=i.y+n,o[d+2]=i.x-a,o[d+3]=i.y-n,t=i}},t.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},t}(s.default);r.default=l},{"./Mesh":159}],163:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=Math.sqrt;r.__esModule=!0;var i=e("../../core"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(i),s=e("../Mesh"),l=function(e){return e&&e.__esModule?e:{default:e}}(s),d=function(){function e(t){a(this,e),this.renderer=t}return e.prototype.render=function(e){var t=this.renderer,r=t.context,a=e.worldTransform,n=t.resolution;t.roundPixels?r.setTransform(a.a*n,a.b*n,a.c*n,a.d*n,0|a.tx*n,0|a.ty*n):r.setTransform(a.a*n,a.b*n,a.c*n,a.d*n,a.tx*n,a.ty*n),t.setBlendMode(e.blendMode),e.drawMode===l.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(e):this._renderTriangles(e)},e.prototype._renderTriangleMesh=function(e){for(var t=e.vertices.length/2,r=0,a;r<t-2;r++)a=2*r,this._renderDrawTriangle(e,a,a+2,a+4)},e.prototype._renderTriangles=function(e){for(var t=e.indices,r=t.length,a=0;a<r;a+=3){var n=2*t[a],i=2*t[a+1],o=2*t[a+2];this._renderDrawTriangle(e,n,i,o)}},e.prototype._renderDrawTriangle=function(e,t,r,a){var i=this.renderer.context,o=e.uvs,s=e.vertices,l=e._texture;if(l.valid){var d=l.baseTexture,u=d.source,p=d.width,c=d.height,_,h,f,g,m,y;if(e.uploadUvTransform){var x=e._uvTransform.mapCoord;_=(o[t]*x.a+o[t+1]*x.c+x.tx)*d.width,h=(o[r]*x.a+o[r+1]*x.c+x.tx)*d.width,f=(o[a]*x.a+o[a+1]*x.c+x.tx)*d.width,g=(o[t]*x.b+o[t+1]*x.d+x.ty)*d.height,m=(o[r]*x.b+o[r+1]*x.d+x.ty)*d.height,y=(o[a]*x.b+o[a+1]*x.d+x.ty)*d.height}else _=o[t]*d.width,h=o[r]*d.width,f=o[a]*d.width,g=o[t+1]*d.height,m=o[r+1]*d.height,y=o[a+1]*d.height;var T=s[t],b=s[r],v=s[a],E=s[t+1],P=s[r+1],S=s[a+1];if(0<e.canvasPadding){var C=e.canvasPadding/e.worldTransform.a,O=e.canvasPadding/e.worldTransform.d,R=(T+b+v)/3,w=(E+P+S)/3,A=T-R,M=E-w,D=n(A*A+M*M);T=R+A/D*(D+C),E=w+M/D*(D+O),A=b-R,M=P-w,D=n(A*A+M*M),b=R+A/D*(D+C),P=w+M/D*(D+O),A=v-R,M=S-w,D=n(A*A+M*M),v=R+A/D*(D+C),S=w+M/D*(D+O)}i.save(),i.beginPath(),i.moveTo(T,E),i.lineTo(b,P),i.lineTo(v,S),i.closePath(),i.clip();var I=_*m+g*f+h*y-m*f-g*h-_*y,k=T*m+g*v+b*y-m*v-g*b-T*y,L=_*b+T*f+h*v-b*f-T*h-_*v,N=_*m*v+g*b*f+T*h*y-T*m*f-g*h*v-_*b*y,B=E*m+g*S+P*y-m*S-g*P-E*y,F=_*P+E*f+h*S-P*f-E*h-_*S,U=_*m*S+g*P*f+E*h*y-E*m*f-g*h*S-_*P*y;i.transform(k/I,B/I,L/I,F/I,N/I,U/I),i.drawImage(u,0,0,p*d.resolution,c*d.resolution,0,0,p,c),i.restore(),this.renderer.invalidateBlendMode()}},e.prototype.renderMeshFlat=function(e){var t=this.renderer.context,r=e.vertices,a=r.length/2;t.beginPath();for(var n=1;n<a-2;++n){var i=2*n,o=r[i],s=r[i+1],l=r[i+2],d=r[i+3],u=r[i+4],p=r[i+5];t.moveTo(o,s),t.lineTo(l,d),t.lineTo(u,p)}t.fillStyle="#FF0000",t.fill(),t.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();r.default=d,o.CanvasRenderer.registerPlugin("mesh",d)},{"../../core":57,"../Mesh":159}],164:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var n=e("./Mesh");Object.defineProperty(r,"Mesh",{enumerable:!0,get:function(){return a(n).default}});var i=e("./webgl/MeshRenderer");Object.defineProperty(r,"MeshRenderer",{enumerable:!0,get:function(){return a(i).default}});var o=e("./canvas/CanvasMeshRenderer");Object.defineProperty(r,"CanvasMeshRenderer",{enumerable:!0,get:function(){return a(o).default}});var s=e("./Plane");Object.defineProperty(r,"Plane",{enumerable:!0,get:function(){return a(s).default}});var l=e("./NineSlicePlane");Object.defineProperty(r,"NineSlicePlane",{enumerable:!0,get:function(){return a(l).default}});var d=e("./Rope");Object.defineProperty(r,"Rope",{enumerable:!0,get:function(){return a(d).default}})},{"./Mesh":159,"./NineSlicePlane":160,"./Plane":161,"./Rope":162,"./canvas/CanvasMeshRenderer":163,"./webgl/MeshRenderer":165}],165:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e("../../core"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),d=e("pixi-gl-core"),u=a(d),p=e("../Mesh"),c=a(p),_=e("path"),h=l.Matrix.IDENTITY,f=function(e){function t(r){n(this,t);var a=i(this,e.call(this,r));return a.shader=null,a}return o(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new l.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},t.prototype.render=function(e){var t=this.renderer,r=t.gl,a=e._texture;if(a.valid){var n=e._glDatas[t.CONTEXT_UID];n||(t.bindVao(null),n={shader:this.shader,vertexBuffer:u.default.GLBuffer.createVertexBuffer(r,e.vertices,r.STREAM_DRAW),uvBuffer:u.default.GLBuffer.createVertexBuffer(r,e.uvs,r.STREAM_DRAW),indexBuffer:u.default.GLBuffer.createIndexBuffer(r,e.indices,r.STATIC_DRAW),vao:null,dirty:e.dirty,indexDirty:e.indexDirty},n.vao=new u.default.VertexArrayObject(r).addIndex(n.indexBuffer).addAttribute(n.vertexBuffer,n.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(n.uvBuffer,n.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),e._glDatas[t.CONTEXT_UID]=n),t.bindVao(n.vao),e.dirty!==n.dirty&&(n.dirty=e.dirty,n.uvBuffer.upload(e.uvs)),e.indexDirty!==n.indexDirty&&(n.indexDirty=e.indexDirty,n.indexBuffer.upload(e.indices)),n.vertexBuffer.upload(e.vertices),t.bindShader(n.shader),n.shader.uniforms.uSampler=t.bindTexture(a),t.state.setBlendMode(l.utils.correctBlendMode(e.blendMode,a.baseTexture.premultipliedAlpha)),n.shader.uniforms.uTransform&&(e.uploadUvTransform?n.shader.uniforms.uTransform=e._uvTransform.mapCoord.toArray(!0):n.shader.uniforms.uTransform=h.toArray(!0)),n.shader.uniforms.translationMatrix=e.worldTransform.toArray(!0),n.shader.uniforms.uColor=l.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,n.shader.uniforms.uColor,a.baseTexture.premultipliedAlpha);var i=e.drawMode===c.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;n.vao.draw(i,e.indices.length,0)}},t}(l.ObjectRenderer);r.default=f,l.WebGLRenderer.registerPlugin("mesh",f)},{"../../core":57,"../Mesh":159,path:13,"pixi-gl-core":20}],166:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=e("../core"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),d=e("../core/utils"),u=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,i=arguments[1],o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16384,s=3<arguments.length&&void 0!==arguments[3]&&arguments[3];a(this,t);var d=n(this,e.call(this)),u=16384;return o>u&&(o=u),o>r&&(o=r),d._properties=[!1,!0,!1,!1,!1],d._maxSize=r,d._batchSize=o,d._glBuffers={},d._bufferToUpdate=0,d.interactiveChildren=!1,d.blendMode=l.BLEND_MODES.NORMAL,d.autoResize=s,d.roundPixels=!0,d.baseTexture=null,d.setProperties(i),d._tint=0,d.tintRgb=new Float32Array(4),d.tint=16777215,d}return i(t,e),t.prototype.setProperties=function(e){e&&(this._properties[0]="scale"in e?!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="alpha"in e||"tint"in e?!!e.alpha||!!e.tint:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},t.prototype.renderWebGL=function(e){var t=this;this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable&&(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.hasLoaded&&this.baseTexture.once("update",function(){return t.onChildrenChange(0)})),e.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){var t=Math.floor(e/this._batchSize);t<this._bufferToUpdate&&(this._bufferToUpdate=t)},t.prototype.renderCanvas=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){var t=e.context,r=this.worldTransform,a=!0,n=0,o=0,s=0,l=0;e.setBlendMode(this.blendMode),t.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var d=0,i;d<this.children.length;++d)if(i=this.children[d],!!i.visible){var u=i._texture.frame;if(t.globalAlpha=this.worldAlpha*i.alpha,0==i.rotation%(2*Math.PI))a&&(t.setTransform(r.a,r.b,r.c,r.d,r.tx*e.resolution,r.ty*e.resolution),a=!1),n=i.anchor.x*(-u.width*i.scale.x)+i.position.x+0.5,o=i.anchor.y*(-u.height*i.scale.y)+i.position.y+0.5,s=u.width*i.scale.x,l=u.height*i.scale.y;else{a||(a=!0),i.displayObjectUpdateTransform();var p=i.worldTransform;e.roundPixels?t.setTransform(p.a,p.b,p.c,p.d,0|p.tx*e.resolution,0|p.ty*e.resolution):t.setTransform(p.a,p.b,p.c,p.d,p.tx*e.resolution,p.ty*e.resolution),n=i.anchor.x*-u.width+0.5,o=i.anchor.y*-u.height+0.5,s=u.width,l=u.height}var c=i._texture.baseTexture.resolution;t.drawImage(i._texture.baseTexture.source,u.x*c,u.y*c,u.width*c,u.height*c,n*e.resolution,o*e.resolution,s*e.resolution,l*e.resolution)}}},t.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null},o(t,[{key:"tint",get:function(){return this._tint},set:function(e){this._tint=e,(0,d.hex2rgb)(e,this.tintRgb)}}]),t}(l.Container);r.default=u},{"../core":57,"../core/utils":117}],167:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var n=e("./ParticleContainer");Object.defineProperty(r,"ParticleContainer",{enumerable:!0,get:function(){return a(n).default}});var i=e("./webgl/ParticleRenderer");Object.defineProperty(r,"ParticleRenderer",{enumerable:!0,get:function(){return a(i).default}})},{"./ParticleContainer":166,"./webgl/ParticleRenderer":169}],168:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=e("pixi-gl-core"),o=a(i),s=e("../../core/utils/createIndicesForQuads"),l=a(s),d=function(){function e(t,r,a,o){n(this,e),this.gl=t,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var s=0,i;s<r.length;++s)i=r[s],i={attribute:i.attribute,size:i.size,uploadFunction:i.uploadFunction,unsignedByte:i.unsignedByte,offset:i.offset},a[s]?this.dynamicProperties.push(i):this.staticProperties.push(i);this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.gl,t=0;this.indices=(0,l.default)(this.size),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.dynamicStride=0;for(var r=0,a;r<this.dynamicProperties.length;++r)a=this.dynamicProperties[r],a.offset=t,t+=a.size,this.dynamicStride+=a.size;var n=new ArrayBuffer(4*(4*(this.size*this.dynamicStride)));this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=o.default.GLBuffer.createVertexBuffer(e,n,e.STREAM_DRAW);var i=0;this.staticStride=0;for(var s=0,d;s<this.staticProperties.length;++s)d=this.staticProperties[s],d.offset=i,i+=d.size,this.staticStride+=d.size;var u=new ArrayBuffer(4*(4*(this.size*this.staticStride)));this.staticData=new Float32Array(u),this.staticDataUint32=new Uint32Array(u),this.staticBuffer=o.default.GLBuffer.createVertexBuffer(e,u,e.STATIC_DRAW),this.vao=new o.default.VertexArrayObject(e).addIndex(this.indexBuffer);for(var p=0,c;p<this.dynamicProperties.length;++p)c=this.dynamicProperties[p],c.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,c.attribute,e.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*c.offset):this.vao.addAttribute(this.dynamicBuffer,c.attribute,e.FLOAT,!1,4*this.dynamicStride,4*c.offset);for(var _=0,h;_<this.staticProperties.length;++_)h=this.staticProperties[_],h.unsignedByte?this.vao.addAttribute(this.staticBuffer,h.attribute,e.UNSIGNED_BYTE,!0,4*this.staticStride,4*h.offset):this.vao.addAttribute(this.staticBuffer,h.attribute,e.FLOAT,!1,4*this.staticStride,4*h.offset)},e.prototype.uploadDynamic=function(e,t,r){for(var a=0,n;a<this.dynamicProperties.length;a++)n=this.dynamicProperties[a],n.uploadFunction(e,t,r,n.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset);this.dynamicBuffer.upload()},e.prototype.uploadStatic=function(e,t,r){for(var a=0,n;a<this.staticProperties.length;a++)n=this.staticProperties[a],n.uploadFunction(e,t,r,n.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,n.offset);this.staticBuffer.upload()},e.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},e}();r.default=d},{"../../core/utils/createIndicesForQuads":115,"pixi-gl-core":20}],169:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e("../../core"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),d=e("./ParticleShader"),u=a(d),p=e("./ParticleBuffer"),c=a(p),_=e("../../core/utils"),h=function(e){function t(r){n(this,t);var a=i(this,e.call(this,r));return a.shader=null,a.indexBuffer=null,a.properties=null,a.tempMatrix=new l.Matrix,a.CONTEXT_UID=0,a}return o(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new u.default(e),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},t.prototype.start=function(){this.renderer.bindShader(this.shader)},t.prototype.render=function(e){var t=e.children,r=e._maxSize,a=e._batchSize,n=this.renderer,o=t.length;if(0!==o){o>r&&(o=r);var s=e._glBuffers[n.CONTEXT_UID];s||(s=e._glBuffers[n.CONTEXT_UID]=this.generateBuffers(e));var d=t[0]._texture.baseTexture;this.renderer.setBlendMode(l.utils.correctBlendMode(e.blendMode,d.premultipliedAlpha));var u=n.gl,p=e.worldTransform.copy(this.tempMatrix);p.prepend(n._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=p.toArray(!0),this.shader.uniforms.uColor=l.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,d.premultipliedAlpha),this.shader.uniforms.uSampler=n.bindTexture(d);for(var c=0,i=0,_;c<o;c+=a,i+=1){if(_=o-c,_>a&&(_=a),i>=s.length){if(!e.autoResize)break;s.push(this._generateOneMoreBuffer(e))}var h=s[i];h.uploadDynamic(t,c,_),e._bufferToUpdate===i&&(h.uploadStatic(t,c,_),e._bufferToUpdate=i+1),n.bindVao(h.vao),h.vao.draw(u.TRIANGLES,6*_)}}},t.prototype.generateBuffers=function(e){for(var t=this.renderer.gl,r=[],a=e._maxSize,n=e._batchSize,o=e._properties,s=0;s<a;s+=n)r.push(new c.default(t,this.properties,o,n));return r},t.prototype._generateOneMoreBuffer=function(e){var t=this.renderer.gl,r=e._batchSize,a=e._properties;return new c.default(t,this.properties,a,r)},t.prototype.uploadVertices=function(e,t,r,a,n,o){for(var s=0,l=0,d=0,u=0,p=0;p<r;++p){var i=e[t+p],c=i._texture,_=i.scale.x,h=i.scale.y,f=c.trim,g=c.orig;f?(l=f.x-i.anchor.x*g.width,s=l+f.width,u=f.y-i.anchor.y*g.height,d=u+f.height):(s=g.width*(1-i.anchor.x),l=g.width*-i.anchor.x,d=g.height*(1-i.anchor.y),u=g.height*-i.anchor.y),a[o]=l*_,a[o+1]=u*h,a[o+n]=s*_,a[o+n+1]=u*h,a[o+2*n]=s*_,a[o+2*n+1]=d*h,a[o+3*n]=l*_,a[o+3*n+1]=d*h,o+=4*n}},t.prototype.uploadPosition=function(e,t,r,a,n,o){for(var s=0,i;s<r;s++)i=e[t+s].position,a[o]=i.x,a[o+1]=i.y,a[o+n]=i.x,a[o+n+1]=i.y,a[o+2*n]=i.x,a[o+2*n+1]=i.y,a[o+3*n]=i.x,a[o+3*n+1]=i.y,o+=4*n},t.prototype.uploadRotation=function(e,t,r,a,n,o){for(var s=0,i;s<r;s++)i=e[t+s].rotation,a[o]=i,a[o+n]=i,a[o+2*n]=i,a[o+3*n]=i,o+=4*n},t.prototype.uploadUvs=function(e,t,r,a,n,o){for(var s=0,i;s<r;++s)i=e[t+s]._texture._uvs,i?(a[o]=i.x0,a[o+1]=i.y0,a[o+n]=i.x1,a[o+n+1]=i.y1,a[o+2*n]=i.x2,a[o+2*n+1]=i.y2,a[o+3*n]=i.x3,a[o+3*n+1]=i.y3,o+=4*n):(a[o]=0,a[o+1]=0,a[o+n]=0,a[o+n+1]=0,a[o+2*n]=0,a[o+2*n+1]=0,a[o+3*n]=0,a[o+3*n+1]=0,o+=4*n)},t.prototype.uploadTint=function(e,t,r,a,n,o){for(var s=0;s<r;++s){var i=e[t+s],l=i._texture.baseTexture.premultipliedAlpha,d=i.alpha,u=1>d&&l?(0,_.premultiplyTint)(i._tintRGB,d):i._tintRGB+(255*d<<24);a[o]=u,a[o+n]=u,a[o+2*n]=u,a[o+3*n]=u,o+=4*n}},t.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),e.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},t}(l.ObjectRenderer);r.default=h,l.WebGLRenderer.registerPlugin("particle",h)},{"../../core":57,"../../core/utils":117,"./ParticleBuffer":168,"./ParticleShader":170}],170:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e("../../core/Shader"),s=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(e){function t(r){return a(this,t),n(this,e.call(this,r,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute vec2 aPositionCoord;\nattribute vec2 aScale;\nattribute float aRotation;\nuniform mat3 projectionMatrix;\nuniform vec4 uColor;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvoid main(void){\n   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n   vec2 v = vec2(x, y);\n   v = v + aPositionCoord;\n   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = aColor * uColor;\n}","varying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void){\n  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n  gl_FragColor = color;\n}"))}return i(t,e),t}(s.default);r.default=l},{"../../core/Shader":36}],171:[function(){"use strict";var e=Math.sign;e||(e=function(e){return e=+e,0===e||isNaN(e)?e:0<e?1:-1})},{}],172:[function(e){"use strict";var t=e("object-assign"),r=function(e){return e&&e.__esModule?e:{default:e}}(t);Object.assign||(Object.assign=r.default)},{"object-assign":11}],173:[function(e){"use strict";e("./Object.assign"),e("./requestAnimationFrame"),e("./Math.sign"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":171,"./Object.assign":172,"./requestAnimationFrame":174}],174:[function(){(function(e){"use strict";if(Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()}),!(e.performance&&e.performance.now)){var t=Date.now();e.performance||(e.performance={}),e.performance.now=function(){return Date.now()-t}}for(var r=Date.now(),a=["ms","moz","webkit","o"],n=0,i;n<a.length&&!e.requestAnimationFrame;++n)i=a[n],e.requestAnimationFrame=e[i+"RequestAnimationFrame"],e.cancelAnimationFrame=e[i+"CancelAnimationFrame"]||e[i+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),a=16+r-t;return 0>a&&(a=0),r=t,setTimeout(function(){r=Date.now(),e(performance.now())},a)}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){return clearTimeout(e)})}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],175:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){var r=!1;if(e&&e._textures&&e._textures.length)for(var a=0;a<e._textures.length;a++)if(e._textures[a]instanceof c.Texture){var n=e._textures[a].baseTexture;-1===t.indexOf(n)&&(t.push(n),r=!0)}return r}function i(e,t){return!!(e instanceof c.BaseTexture)&&(-1===t.indexOf(e)&&t.push(e),!0)}function o(e,t){if(e._texture&&e._texture instanceof c.Texture){var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function s(e,t){return!!(t instanceof c.Text)&&(t.updateText(!0),!0)}function l(e,t){if(t instanceof c.TextStyle){var r=t.toFontString();return c.TextMetrics.measureFont(r),!0}return!1}function d(e,t){if(e instanceof c.Text){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function u(e,t){return!!(e instanceof c.TextStyle)&&(-1===t.indexOf(e)&&t.push(e),!0)}r.__esModule=!0;var p=e("../core"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(p),_=e("./limiters/CountLimiter"),h=function(e){return e&&e.__esModule?e:{default:e}}(_),f=c.ticker.shared;c.settings.UPLOADS_PER_FRAME=4;var g=function(){function e(t){var r=this;a(this,e),this.limiter=new h.default(c.settings.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(d),this.registerFindHook(u),this.registerFindHook(n),this.registerFindHook(i),this.registerFindHook(o),this.registerUploadHook(s),this.registerUploadHook(l)}return e.prototype.upload=function(e,t){"function"==typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),!this.ticking&&(this.ticking=!0,f.addOnce(this.tick,this,c.UPDATE_PRIORITY.UTILITY))):t&&t()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var r=0,a=this.uploadHooks.length;r<a;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(!this.queue.length){this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(var i=0,o=n.length;i<o;i++)n[i]()}else f.addOnce(this.tick,this,c.UPDATE_PRIORITY.UTILITY)},e.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},e.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},e.prototype.add=function(e){for(var t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof c.Container)for(var a=e.children.length-1;0<=a;a--)this.add(e.children[a]);return this},e.prototype.destroy=function(){this.ticking&&f.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();r.default=g},{"../core":57,"./limiters/CountLimiter":178}],176:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(t instanceof d.BaseTexture){var r=t.source,a=0===r.width?e.canvas.width:s(e.canvas.width,r.width),n=0===r.height?e.canvas.height:s(e.canvas.height,r.height);return e.ctx.drawImage(r,0,0,a,n,0,0,e.canvas.width,e.canvas.height),!0}return!1}var s=Math.min;r.__esModule=!0;var l=e("../../core"),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(l),u=e("../BasePrepare"),p=function(e){return e&&e.__esModule?e:{default:e}}(u),c=16,_=function(e){function t(r){a(this,t);var i=n(this,e.call(this,r));return i.uploadHookHelper=i,i.canvas=document.createElement("canvas"),i.canvas.width=c,i.canvas.height=c,i.ctx=i.canvas.getContext("2d"),i.registerUploadHook(o),i}return i(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(p.default);r.default=_,d.CanvasRenderer.registerPlugin("prepare",_)},{"../../core":57,"../BasePrepare":175}],177:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var n=e("./webgl/WebGLPrepare");Object.defineProperty(r,"webgl",{enumerable:!0,get:function(){return a(n).default}});var i=e("./canvas/CanvasPrepare");Object.defineProperty(r,"canvas",{enumerable:!0,get:function(){return a(i).default}});var o=e("./BasePrepare");Object.defineProperty(r,"BasePrepare",{enumerable:!0,get:function(){return a(o).default}});var s=e("./limiters/CountLimiter");Object.defineProperty(r,"CountLimiter",{enumerable:!0,get:function(){return a(s).default}});var l=e("./limiters/TimeLimiter");Object.defineProperty(r,"TimeLimiter",{enumerable:!0,get:function(){return a(l).default}})},{"./BasePrepare":175,"./canvas/CanvasPrepare":176,"./limiters/CountLimiter":178,"./limiters/TimeLimiter":179,"./webgl/WebGLPrepare":180}],178:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=function(){function e(t){a(this,e),this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},e}();r.default=n},{}],179:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var n=function(){function e(t){a(this,e),this.maxMilliseconds=t,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}();r.default=n},{}],180:[function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){return!!(t instanceof u.BaseTexture)&&(t._glTextures[e.CONTEXT_UID]||e.textureManager.updateTexture(t),!0)}function s(e,t){return!!(t instanceof u.Graphics)&&((t.dirty||t.clearDirty||!t._webGL[e.plugins.graphics.CONTEXT_UID])&&e.plugins.graphics.updateGraphics(t),!0)}function l(e,t){return!!(e instanceof u.Graphics)&&(t.push(e),!0)}r.__esModule=!0;var d=e("../../core"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),p=e("../BasePrepare"),c=function(e){return e&&e.__esModule?e:{default:e}}(p),_=function(e){function t(r){a(this,t);var i=n(this,e.call(this,r));return i.uploadHookHelper=i.renderer,i.registerFindHook(l),i.registerUploadHook(o),i.registerUploadHook(s),i}return i(t,e),t}(c.default);r.default=_,u.WebGLRenderer.registerPlugin("prepare",_)},{"../../core":57,"../BasePrepare":175}],181:[function(e,t){"use strict";function r(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function n(){this._events=new r,this._eventsCount=0}var i=Object.prototype.hasOwnProperty,o="~";Object.create&&(r.prototype=Object.create(null),!new r().__proto__&&(o=!1)),n.prototype.eventNames=function(){var e=[],t,r;if(0===this._eventsCount)return e;for(r in t=this._events)i.call(t,r)&&e.push(o?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e},n.prototype.listeners=function(e,t){var r=o?o+e:e,a=this._events[r];if(t)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var n=0,i=a.length,s=Array(i);n<i;n++)s[n]=a[n].fn;return s},n.prototype.emit=function(e,t,r,a,n,s){var l=o?o+e:e;if(!this._events[l])return!1;var d=this._events[l],u=arguments.length,p,c;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,a),!0;case 5:return d.fn.call(d.context,t,r,a,n),!0;case 6:return d.fn.call(d.context,t,r,a,n,s),!0;}for(c=1,p=Array(u-1);c<u;c++)p[c-1]=arguments[c];d.fn.apply(d.context,p)}else{var i=d.length,_;for(c=0;c<i;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,a);break;default:if(!p)for(_=1,p=Array(u-1);_<u;_++)p[_-1]=arguments[_];d[c].fn.apply(d[c].context,p);}}return!0},n.prototype.on=function(e,t,r){var n=new a(t,r||this),i=o?o+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},n.prototype.once=function(e,t,r){var n=new a(t,r||this,!0),i=o?o+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},n.prototype.removeListener=function(e,t,a,n){var s=o?o+e:e;if(!this._events[s])return this;if(!t)return 0==--this._eventsCount?this._events=new r:delete this._events[s],this;var l=this._events[s];if(l.fn)l.fn!==t||n&&!l.once||a&&l.context!==a||(0==--this._eventsCount?this._events=new r:delete this._events[s]);else{for(var d=0,i=[],u=l.length;d<u;d++)(l[d].fn!==t||n&&!l[d].once||a&&l[d].context!==a)&&i.push(l[d]);i.length?this._events[s]=1===i.length?i[0]:i:0==--this._eventsCount?this._events=new r:delete this._events[s]}return this},n.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prototype.setMaxListeners=function(){return this},n.prefixed=o,n.EventEmitter=n,"undefined"!=typeof t&&(t.exports=n)},{}],182:[function(e,t){function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function n(e){if(p===setTimeout)return setTimeout(e,0);if((p===r||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function i(e){if(c===clearTimeout)return clearTimeout(e);if((c===a||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){h&&g&&(h=!1,g.length?_=g.concat(_):f=-1,_.length&&s())}function s(){if(!h){var e=n(o);h=!0;for(var t=_.length;t;){for(g=_,_=[];++f<t;)g&&g[f].run();f=-1,t=_.length}g=null,h=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function d(){}var u=t.exports={},p,c;(function(){try{p="function"==typeof setTimeout?setTimeout:r}catch(t){p=r}try{c="function"==typeof clearTimeout?clearTimeout:a}catch(t){c=a}})();var _=[],h=!1,f=-1,g;u.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];_.push(new l(e,t)),1!==_.length||h||n(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=d,u.addListener=d,u.once=d,u.off=d,u.removeListener=d,u.removeAllListeners=d,u.emit=d,u.prependListener=d,u.prependOnceListener=d,u.listeners=function(){return[]},u.binding=function(){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],183:[function(e,t,r){(function(e){(function(a){function o(e){throw new RangeError(w[e])}function n(e,t){for(var r=e.length,a=[];r--;)a[r]=t(e[r]);return a}function i(e,t){var r=e.split("@"),a="";1<r.length&&(a=r[0]+"@",e=r[1]),e=e.replace(R,".");var i=e.split("."),o=n(i,t).join(".");return a+o}function s(e){for(var t=[],r=0,a=e.length,n,i;r<a;)n=e.charCodeAt(r++),55296<=n&&56319>=n&&r<a?(i=e.charCodeAt(r++),56320==(64512&i)?t.push(((1023&n)<<10)+(1023&i)+65536):(t.push(n),r--)):t.push(n);return t}function l(e){return n(e,function(e){var t="";return 65535<e&&(e-=65536,t+=D(55296|1023&e>>>10),e=56320|1023&e),t+=D(e),t}).join("")}function d(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:m}function u(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function p(e,t,r){var a=0;for(e=r?M(e/v):e>>1,e+=M(e/t);e>A*T>>1;a+=m)e=M(e/A);return M(a+(A+1)*e/(e+b))}function c(e){var r=[],a=e.length,s=0,i=P,n=E,u,c,_,h,f,g,b,v,C,t;for(c=e.lastIndexOf(S),0>c&&(c=0),_=0;_<c;++_)128<=e.charCodeAt(_)&&o("not-basic"),r.push(e.charCodeAt(_));for(h=0<c?c+1:0;h<a;){for(f=s,g=1,b=m;;b+=m){if(h>=a&&o("invalid-input"),v=d(e.charCodeAt(h++)),(v>=m||v>M((y-s)/g))&&o("overflow"),s+=v*g,C=b<=n?x:b>=n+T?T:b-n,v<C)break;t=m-C,g>M(y/t)&&o("overflow"),g*=t}u=r.length+1,n=p(s-f,u,0==f),M(s/u)>y-i&&o("overflow"),i+=M(s/u),s%=u,r.splice(s++,0,i)}return l(r)}function _(e){var r=[],a,n,i,l,d,c,_,h,f,g,t,b,v,C,O;for(e=s(e),b=e.length,a=P,n=0,d=E,c=0;c<b;++c)t=e[c],128>t&&r.push(D(t));for(i=l=r.length,l&&r.push(S);i<b;){for(_=y,c=0;c<b;++c)t=e[c],t>=a&&t<_&&(_=t);for(v=i+1,_-a>M((y-n)/v)&&o("overflow"),n+=(_-a)*v,a=_,c=0;c<b;++c)if(t=e[c],t<a&&++n>y&&o("overflow"),t==a){for(h=n,f=m;;f+=m){if(g=f<=d?x:f>=d+T?T:f-d,h<g)break;O=h-g,C=m-g,r.push(D(u(g+O%C,0))),h=M(O/C)}r.push(D(u(h,0))),d=p(n,v,i==l),n=0,++i}++n,++a}return r.join("")}var h="object"==typeof r&&r&&!r.nodeType&&r,f="object"==typeof t&&t&&!t.nodeType&&t,g="object"==typeof e&&e;(g.global===g||g.window===g||g.self===g)&&(a=g);var y=2147483647,m=36,x=1,T=26,b=38,v=700,E=72,P=128,S="-",C=/^xn--/,O=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=m-x,M=Math.floor,D=String.fromCharCode,I,k;if(I={version:"1.4.1",ucs2:{decode:s,encode:l},decode:c,encode:_,toASCII:function(e){return i(e,function(e){return O.test(e)?"xn--"+_(e):e})},toUnicode:function(e){return i(e,function(e){return C.test(e)?c(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return I});else if(!(h&&f))a.punycode=I;else if(t.exports==h)f.exports=I;else for(k in I)I.hasOwnProperty(k)&&(h[k]=I[k])})(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],184:[function(e,t){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var l=/\+/g;e=e.split(t);var d=1e3;o&&"number"==typeof o.maxKeys&&(d=o.maxKeys);var u=e.length;0<d&&u>d&&(u=d);for(var p=0;p<u;++p){var i=e[p].replace(l,"%20"),c=i.indexOf(n),_,h,f,g;0<=c?(_=i.substr(0,c),h=i.substr(c+1)):(_=i,h=""),f=decodeURIComponent(_),g=decodeURIComponent(h),r(s,f)?a(s[f])?s[f].push(g):s[f]=[s[f],g]:s[f]=g}return s};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],185:[function(e,t){"use strict";function r(e,t){if(e.map)return e.map(t);for(var r=[],a=0;a<e.length;a++)r.push(t(e[a],a));return r}var a=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return"";}};t.exports=function(e,t,o,s){return t=t||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e?r(i(e),function(i){var s=encodeURIComponent(a(i))+o;return n(e[i])?r(e[i],function(e){return s+encodeURIComponent(a(e))}).join(t):s+encodeURIComponent(a(e[i]))}).join(t):s?encodeURIComponent(a(s))+o+encodeURIComponent(a(e)):""};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],186:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":184,"./encode":185}],187:[function(e,t){"use strict";function r(e,l,d,u,p){for(d=d||0,u=u||e.length-1,p=p||o;u>d;){if(600<u-d){var c=u-d+1,n=l-d+1,_=Math.log(c),h=0.5*Math.exp(2*_/3),s=0.5*Math.sqrt(_*h*(c-h)/c)*(0>n-c/2?-1:1),f=Math.max(d,i(l-n*h/c+s)),g=Math.min(u,i(l+(c-n)*h/c+s));r(e,l,f,g,p)}var m=e[l],t=d,y=u;for(a(e,d,l),0<p(e[u],m)&&a(e,d,u);t<y;){for(a(e,t,y),t++,y--;0>p(e[t],m);)t++;for(;0<p(e[y],m);)y--}0===p(e[d],m)?a(e,d,y):(y++,a(e,y,u)),y<=l&&(d=y+1),l<=y&&(u=y-1)}}function a(e,t,r){var a=e[t];e[t]=e[r],e[r]=a}function o(e,t){return e<t?-1:e>t?1:0}var i=Math.floor;t.exports=r},{}],188:[function(e,t){"use strict";function r(e,t){return this instanceof r?void(this._maxEntries=T(4,e||9),this._minEntries=T(2,y(0.4*this._maxEntries)),t&&this._initFormat(t),this.clear()):new r(e,t)}function a(e,t,r){if(!r)return t.indexOf(e);for(var a=0;a<t.length;a++)if(r(e,t[a]))return a;return-1}function n(e,t){o(e,0,e.children.length,t,e)}function o(e,t,r,a,n){n||(n=f(null)),n.minX=Infinity,n.minY=Infinity,n.maxX=-Infinity,n.maxY=-Infinity;for(var o=t,i;o<r;o++)i=e.children[o],s(n,e.leaf?a(i):i);return n}function s(e,t){return e.minX=x(e.minX,t.minX),e.minY=x(e.minY,t.minY),e.maxX=T(e.maxX,t.maxX),e.maxY=T(e.maxY,t.maxY),e}function i(e,t){return e.minX-t.minX}function l(e,t){return e.minY-t.minY}function d(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function u(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return(T(t.maxX,e.maxX)-x(t.minX,e.minX))*(T(t.maxY,e.maxY)-x(t.minY,e.minY))}function c(e,t){var r=T(e.minX,t.minX),a=T(e.minY,t.minY),n=x(e.maxX,t.maxX),i=x(e.maxY,t.maxY);return T(0,n-r)*T(0,i-a)}function _(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function h(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function f(e){return{children:e,height:1,leaf:!0,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function g(e,t,r,a,n){for(var i=[t,r],o;i.length;)r=i.pop(),t=i.pop(),r-t<=a||(o=t+y((r-t)/a/2)*a,b(e,o,t,r,n),i.push(t,o,o,r))}var m=Math.log,y=Math.ceil,x=Math.min,T=Math.max;t.exports=r;var b=e("quickselect");r.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],a=this.toBBox;if(!h(e,t))return r;for(var n=[],o,i,s,l;t;){for(o=0,i=t.children.length;o<i;o++)s=t.children[o],l=t.leaf?a(s):s,h(e,l)&&(t.leaf?r.push(s):_(e,l)?this._all(s,r):n.push(s));t=n.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!h(e,t))return!1;for(var a=[],n,i,o,s;t;){for(n=0,i=t.children.length;n<i;n++)if(o=t.children[n],s=t.leaf?r(o):o,h(e,s)){if(t.leaf||_(e,s))return!0;a.push(o)}t=a.pop()}return!1},load:function(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var a=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=a;else if(this.data.height===a.height)this._splitRoot(this.data,a);else{if(this.data.height<a.height){var n=this.data;this.data=a,a=n}this._insert(a,this.data.height-a.height-1,!0)}return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=f([]),this},remove:function(e,t){if(!e)return this;for(var r=this.data,n=this.toBBox(e),o=[],s=[],l,i,d,u;r||o.length;){if(r||(r=o.pop(),i=o[o.length-1],l=s.pop(),u=!0),r.leaf&&(d=a(e,r.children,t),-1!==d))return r.children.splice(d,1),o.push(r),this._condense(o),this;u||r.leaf||!_(r,n)?i?(l++,r=i.children[l],u=!1):r=null:(o.push(r),s.push(l),l=0,i=r,r=r.children[0])}return this},toBBox:function(e){return e},compareMinX:i,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,a){var o=r-t+1,s=this._maxEntries,l;if(o<=s)return l=f(e.slice(t,r+1)),n(l,this.toBBox),l;a||(a=y(m(o)/m(s)),s=y(o/Math.pow(s,a-1))),l=f([]),l.leaf=!1,l.height=a;var d=y(o/s),u=d*y(Math.sqrt(s)),p,i,c,_;for(g(e,t,r,u,this.compareMinX),p=t;p<=r;p+=u)for(c=x(p+u-1,r),g(e,p,c,d,this.compareMinY),i=p;i<=c;i+=d)_=x(i+d-1,c),l.children.push(this._build(e,i,_,a-1));return n(l,this.toBBox),l},_chooseSubtree:function(e,t,r,a){for(var n,i,o,s,l,u,c,_;a.push(t),!(t.leaf||a.length-1===r);){for(c=_=Infinity,n=0,i=t.children.length;n<i;n++)o=t.children[n],l=d(o),u=p(e,o)-l,u<_?(_=u,c=l<c?l:c,s=o):u===_&&l<c&&(c=l,s=o);t=s||t.children[0]}return t},_insert:function(e,t,r){var a=this.toBBox,n=r?e:a(e),i=[],o=this._chooseSubtree(n,this.data,t,i);for(o.children.push(e),s(o,n);0<=t&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(n,i,t)},_split:function(e,t){var r=e[t],a=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,a);var o=this._chooseSplitIndex(r,i,a),s=f(r.children.splice(o,r.children.length-o));s.height=r.height,s.leaf=r.leaf,n(r,this.toBBox),n(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},_splitRoot:function(e,t){this.data=f([e,t]),this.data.height=e.height+1,this.data.leaf=!1,n(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var a,n,i,s,l,u,p,_;for(u=p=Infinity,a=t;a<=r-t;a++)n=o(e,0,a,this.toBBox),i=o(e,a,r,this.toBBox),s=c(n,i),l=d(n)+d(i),s<u?(u=s,_=a,p=l<p?l:p):s===u&&l<p&&(p=l,_=a);return _},_chooseSplitAxis:function(e,t,r){var a=e.leaf?this.compareMinX:i,n=e.leaf?this.compareMinY:l,o=this._allDistMargin(e,t,r,a),s=this._allDistMargin(e,t,r,n);o<s&&e.children.sort(a)},_allDistMargin:function(e,t,r,a){e.children.sort(a);var n=this.toBBox,l=o(e,0,t,n),d=o(e,r-t,r,n),p=u(l)+u(d),c,i;for(c=t;c<r-t;c++)i=e.children[c],s(l,e.leaf?n(i):i),p+=u(l);for(c=r-t-1;c>=t;c--)i=e.children[c],s(d,e.leaf?n(i):i),p+=u(d);return p},_adjustParentBBoxes:function(e,t,r){for(var a=r;0<=a;a--)s(t[a],e)},_condense:function(e){for(var t=e.length-1,r;0<=t;t--)0===e[t].children.length?0<t?(r=e[t-1].children,r.splice(r.indexOf(e[t]),1)):this.clear():n(e[t],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}},{quickselect:187}],189:[function(e,t){"use strict";t.exports=function(e,t,r){var a=e.length,n;if(!(t>=a||0===r)){r=t+r>a?a-t:r;var i=a-r;for(n=t;n<i;++n)e[n]=e[n+r];e.length=i}}},{}],190:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("mini-signals"),s=a(i),l=e("parse-uri"),d=a(l),u=e("./async"),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),c=e("./Resource"),_=a(c),h=/(#[\w-]+)?$/,f=function(){function e(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;n(this,e),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,r){return t._loadResource(e,r)},this._queue=p.queue(this._boundLoadResource,a),this._queue.pause(),this.resources={},this.onProgress=new s.default,this.onError=new s.default,this.onLoad=new s.default,this.onStart=new s.default,this.onComplete=new s.default}return e.prototype.add=function(e,t,r,a){if(Array.isArray(e)){for(var n=0;n<e.length;++n)this.add(e[n]);return this}if("object"===("undefined"==typeof e?"undefined":o(e))&&(a=t||e.callback||e.onComplete,r=e,t=e.url,e=e.name||e.key||e.url),"string"!=typeof t&&(a=r,r=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(a=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error("Resource named \""+e+"\" already exists.");if(t=this._prepareUrl(t),this.resources[e]=new _.default(e,t,r),"function"==typeof a&&this.resources[e].onAfterMiddleware.once(a),this.loading){for(var i=r.parentResource,s=[],l=0;l<i.children.length;++l)i.children[l].isComplete||s.push(i.children[l]);var d=i.progressChunk*(s.length+1),u=d/(s.length+2);i.children.push(this.resources[e]),i.progressChunk=u;for(var p=0;p<s.length;++p)s[p].progressChunk=u;this.resources[e].progressChunk=u}return this._queue.push(this.resources[e]),this},e.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},e.prototype.use=function(e){return this._afterMiddleware.push(e),this},e.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this},e.prototype.load=function(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;for(var t=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=t;return this.loading=!0,this.onStart.dispatch(this),this._queue.resume(),this},e.prototype._prepareUrl=function(e){var t=(0,d.default)(e,{strictMode:!0}),r;if(r=t.protocol||!t.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var a=h.exec(r)[0];r=r.substr(0,r.length-a.length),r+=-1===r.indexOf("?")?"?"+this.defaultQueryString:"&"+this.defaultQueryString,r+=a}return r},e.prototype._loadResource=function(e,t){var r=this;e._dequeue=t,p.eachSeries(this._beforeMiddleware,function(t,a){t.call(r,e,function(){a(e.isComplete?{}:null)})},function(){e.isComplete?r._onLoad(e):(e._onLoadBinding=e.onComplete.once(r._onLoad,r),e.load())},!0)},e.prototype._onComplete=function(){this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),p.eachSeries(this._afterMiddleware,function(r,a){r.call(t,e,a)},function(){e.onAfterMiddleware.dispatch(e),t.progress+=e.progressChunk,t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&(t.progress=100,t._onComplete())},!0)},e}();r.default=f},{"./Resource":191,"./async":192,"mini-signals":10,"parse-uri":12}],191:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){}function o(e,t,r){t&&0===t.indexOf(".")&&(t=t.substring(1));t&&(e[t]=r)}function s(e){return e.toString().replace("object ","")}r.__esModule=!0;var l=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=e("parse-uri"),u=a(d),p=e("mini-signals"),c=a(p),_=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),h=null,f=200,g=function(){function e(t,r,a){if(n(this,e),"string"!=typeof t||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");a=a||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===a.crossOrigin?"anonymous":a.crossOrigin,this.loadType=a.loadType||this._determineLoadType(),this.xhrType=a.xhrType,this.metadata=a.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=i,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new c.default,this.onProgress=new c.default,this.onComplete=new c.default,this.onAfterMiddleware=new c.default}return e.setExtensionLoadType=function(t,r){o(e._loadTypeMap,t,r)},e.setExtensionXhrType=function(t,r){o(e._xhrTypeMap,t,r)},e.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},e.prototype.load=function(t){var r=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout(function(){return t(r)},1));switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:_&&this.crossOrigin?this._loadXdr():this._loadXhr();}}},e.prototype._hasFlag=function(e){return!!(this._flags&e)},e.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},e.prototype._loadElement=function(e){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===e&&"undefined"!=typeof window.Image?new Image:document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},e.prototype._loadSourceElement=function(e){if(this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===e&&"undefined"!=typeof window.Audio?new Audio:document.createElement(e),null===this.data)return void this.abort("Unsupported element: "+e);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(e,this.url[r],Array.isArray(t)?t[r]:t));else{var a=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(a)?a[0]:a))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},e.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.responseType=this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?e.XHR_RESPONSE_TYPE.TEXT:this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXdrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},e.prototype._createSource=function(e,t,r){r||(r=e+"/"+this._getExtension(t));var a=document.createElement("source");return a.src=t,a.type=r,a},e.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},e.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},e.prototype._xhrOnError=function(){var e=this.xhr;this.abort(s(e)+" Request failed. Status: "+e.status+", text: \""+e.statusText+"\"")},e.prototype._xhrOnAbort=function(){this.abort(s(this.xhr)+" Request was aborted by the user.")},e.prototype._xdrOnTimeout=function(){this.abort(s(this.xhr)+" Request timed out.")},e.prototype._xhrOnLoad=function(){var t=this.xhr,r="",a="undefined"==typeof t.status?f:t.status;(""===t.responseType||"text"===t.responseType||"undefined"==typeof t.responseType)&&(r=t.responseText),a===0&&0<r.length?a=f:a===1223&&(a=204);var n=0|a/100;if(n!=2)return void this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL);if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=e.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=t.response||r;this.complete()},e.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";t=t||window.location,h||(h=document.createElement("a")),h.href=e,e=(0,u.default)(h.href,{strictMode:!0});var r=!e.port&&""===t.port||e.port===t.port,a=e.protocol?e.protocol+":":"";return e.host===t.hostname&&r&&a===t.protocol?"":"anonymous"},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(){var e=this.url,t="";if(this.isDataUrl){var r=e.indexOf("/");t=e.substring(r+1,e.indexOf(";",r))}else{var a=e.indexOf("?"),n=e.indexOf("#"),i=Math.min(-1<a?a:e.length,-1<n?n:e.length);e=e.substring(0,i),t=e.substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain";}},l(e,[{key:"isDataUrl",get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();r.default=g,g.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},g.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},g.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},g.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},g._loadTypeMap={gif:g.LOAD_TYPE.IMAGE,png:g.LOAD_TYPE.IMAGE,bmp:g.LOAD_TYPE.IMAGE,jpg:g.LOAD_TYPE.IMAGE,jpeg:g.LOAD_TYPE.IMAGE,tif:g.LOAD_TYPE.IMAGE,tiff:g.LOAD_TYPE.IMAGE,webp:g.LOAD_TYPE.IMAGE,tga:g.LOAD_TYPE.IMAGE,svg:g.LOAD_TYPE.IMAGE,"svg+xml":g.LOAD_TYPE.IMAGE,mp3:g.LOAD_TYPE.AUDIO,ogg:g.LOAD_TYPE.AUDIO,wav:g.LOAD_TYPE.AUDIO,mp4:g.LOAD_TYPE.VIDEO,webm:g.LOAD_TYPE.VIDEO},g._xhrTypeMap={xhtml:g.XHR_RESPONSE_TYPE.DOCUMENT,html:g.XHR_RESPONSE_TYPE.DOCUMENT,htm:g.XHR_RESPONSE_TYPE.DOCUMENT,xml:g.XHR_RESPONSE_TYPE.DOCUMENT,tmx:g.XHR_RESPONSE_TYPE.DOCUMENT,svg:g.XHR_RESPONSE_TYPE.DOCUMENT,tsx:g.XHR_RESPONSE_TYPE.DOCUMENT,gif:g.XHR_RESPONSE_TYPE.BLOB,png:g.XHR_RESPONSE_TYPE.BLOB,bmp:g.XHR_RESPONSE_TYPE.BLOB,jpg:g.XHR_RESPONSE_TYPE.BLOB,jpeg:g.XHR_RESPONSE_TYPE.BLOB,tif:g.XHR_RESPONSE_TYPE.BLOB,tiff:g.XHR_RESPONSE_TYPE.BLOB,webp:g.XHR_RESPONSE_TYPE.BLOB,tga:g.XHR_RESPONSE_TYPE.BLOB,json:g.XHR_RESPONSE_TYPE.JSON,text:g.XHR_RESPONSE_TYPE.TEXT,txt:g.XHR_RESPONSE_TYPE.TEXT,ttf:g.XHR_RESPONSE_TYPE.BUFFER,otf:g.XHR_RESPONSE_TYPE.BUFFER},g.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},{"mini-signals":10,"parse-uri":12}],192:[function(e,t,r){"use strict";function a(){}function n(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}r.__esModule=!0,r.eachSeries=function(e,t,r,a){var n=0,i=e.length;(function o(s){return s||n===i?void(r&&r(s)):void(a?setTimeout(function(){t(e[n++],o)},1):t(e[n++],o))})()},r.queue=function(e,t){function r(e,t,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(s.started=!0,null==e&&s.idle())return void setTimeout(function(){return s.drain()},1);var n={data:e,callback:"function"==typeof r?r:a};t?s._tasks.unshift(n):s._tasks.push(n),setTimeout(function(){return s.process()},1)}function i(e){return function(){o-=1,e.callback.apply(e,arguments),null!=arguments[0]&&s.error(arguments[0],e.data),o<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var o=0,s={_tasks:[],concurrency:t,saturated:a,unsaturated:a,buffer:t/4,empty:a,drain:a,error:a,started:!1,paused:!1,push:function(e,t){r(e,!1,t)},kill:function(){o=0,s.drain=a,s.started=!1,s._tasks=[]},unshift:function(e,t){r(e,!0,t)},process:function(){for(;!s.paused&&o<s.concurrency&&s._tasks.length;){var t=s._tasks.shift();0===s._tasks.length&&s.empty(),o+=1,o===s.concurrency&&s.saturated(),e(t.data,n(i(t)))}},length:function(){return s._tasks.length},running:function(){return o},idle:function(){return 0===s._tasks.length+o},pause:function(){!0===s.paused||(s.paused=!0)},resume:function(){if(!1!==s.paused){s.paused=!1;for(var e=1;e<=s.concurrency;e++)s.process()}}};return s}},{}],193:[function(e,t,r){"use strict";r.__esModule=!0,r.encodeBinary=function(e){for(var t="",r=0;r<e.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)n[o]=r<e.length?255&e.charCodeAt(r++):0;i[0]=n[0]>>2,i[1]=(3&n[0])<<4|n[1]>>4,i[2]=(15&n[1])<<2|n[2]>>6,i[3]=63&n[2];var s=r-(e.length-1);switch(s){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break;default:}for(var l=0;l<i.length;++l)t+=a.charAt(i[l])}return t};var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},{}],194:[function(e,t){"use strict";var r=e("./Loader").default,a=e("./Resource").default,n=e("./async"),i=e("./b64");r.Resource=a,r.async=n,r.base64=i,t.exports=r,t.exports.default=r},{"./Loader":190,"./Resource":191,"./async":192,"./b64":193}],195:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.blobMiddlewareFactory=function(){return function(e,t){if(!e.data)return void t();if(e.xhr&&e.xhrType===o.default.XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||"string"==typeof e.data){var r=e.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return e.data=new Image,e.data.src="data:"+r+";base64,"+l.default.encodeBinary(e.xhr.responseText),e.type=o.default.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}else if(0===e.data.type.indexOf("image")){var a=function(){var r=d.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=r,e.type=o.default.TYPE.IMAGE,e.data.onload=function(){d.revokeObjectURL(r),e.data.onload=null,t()},{v:void 0}}();if("object"===("undefined"==typeof a?"undefined":n(a)))return a.v}t()}};var i=e("../../Resource"),o=a(i),s=e("../../b64"),l=a(s),d=window.URL||window.webkitURL},{"../../Resource":191,"../../b64":193}],196:[function(e,t,r){"use strict";function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function n(e,t,r){if(e&&d.isObject(e)&&e instanceof a)return e;var n=new a;return n.parse(e,t,r),n}var o=e("punycode"),d=e("./util");r.parse=n,r.resolve=function(e,t){return n(e,!1,!0).resolve(t)},r.resolveObject=function(e,t){return e?n(e,!1,!0).resolveObject(t):t},r.format=function(e){return d.isString(e)&&(e=n(e)),e instanceof a?e.format():a.prototype.format.call(e)},r.Url=a;var u=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">","\"","`"," ","\r","\n","\t"]),p=["'"].concat(l),c=["%","/","?",";","#"].concat(p),_=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=e("querystring");a.prototype.parse=function(e,t,r){if(!d.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),n=-1!==a&&a<e.indexOf("#")?"?":"#",T=e.split(n),b=/\\/g;T[0]=T[0].replace(b,"/"),e=T.join(n);var v=e;if(v=v.trim(),!r&&1===e.split("#").length){var E=s.exec(v);if(E)return this.path=v,this.href=v,this.pathname=E[1],E[2]?(this.search=E[2],this.query=t?x.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var P=u.exec(v);if(P){P=P[0];var S=P.toLowerCase();this.protocol=S,v=v.substr(P.length)}if(r||P||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===v.substr(0,2);C&&!(P&&m[P])&&(v=v.substr(2),this.slashes=!0)}if(!m[P]&&(C||P&&!y[P])){for(var O=-1,R=0,i;R<_.length;R++)i=v.indexOf(_[R]),-1!==i&&(-1==O||i<O)&&(O=i);var w,A;A=-1===O?v.lastIndexOf("@"):v.lastIndexOf("@",O),-1!==A&&(w=v.slice(0,A),v=v.slice(A+1),this.auth=decodeURIComponent(w)),O=-1;for(var R=0,i;R<c.length;R++)i=v.indexOf(c[R]),-1!==i&&(-1===O||i<O)&&(O=i);-1===O&&(O=v.length),this.host=v.slice(0,O),v=v.slice(O),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var D=this.hostname.split(/\./),R=0,I=D.length,l;R<I;R++)if(l=D[R],l&&!l.match(h)){for(var L="",N=0,B=l.length;N<B;N++)L+=127<l.charCodeAt(N)?"x":l[N];if(!L.match(h)){var k=D.slice(0,R),F=D.slice(R+1),U=l.match(f);U&&(k.push(U[1]),F.unshift(U[2])),F.length&&(v="/"+F.join(".")+v),this.hostname=k.join(".");break}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),M||(this.hostname=o.toASCII(this.hostname));var X=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+X,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!g[S])for(var R=0,I=p.length,j;R<I;R++)if(j=p[R],-1!==v.indexOf(j)){var Y=encodeURIComponent(j);Y===j&&(Y=escape(j)),v=v.split(j).join(Y)}var W=v.indexOf("#");-1!==W&&(this.hash=v.substr(W),v=v.slice(0,W));var z=v.indexOf("?");if(-1===z?t&&(this.search="",this.query={}):(this.search=v.substr(z),this.query=v.substr(z+1),t&&(this.query=x.parse(this.query)),v=v.slice(0,z)),v&&(this.pathname=v),y[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var X=this.pathname||"",H=this.search||"";this.path=X+H}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",a=this.hash||"",n=!1,i="";this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&d.isObject(this.query)&&Object.keys(this.query).length&&(i=x.stringify(this.query));var o=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==n?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):!n&&(n=""),a&&"#"!==a.charAt(0)&&(a="#"+a),o&&"?"!==o.charAt(0)&&(o="?"+o),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),o=o.replace("#","%23"),t+n+r+o+a},a.prototype.resolve=function(e){return this.resolveObject(n(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(d.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var r=new a,n=Object.keys(this),o=0,l;o<n.length;o++)l=n[o],r[l]=this[l];if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0,_;c<u.length;c++)_=u[c],"protocol"!==_&&(r[_]=e[_]);return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var h=Object.keys(e),f=0,g;f<h.length;f++)g=h[f],r[g]=e[g];return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!m[e.protocol]){for(var x=(e.pathname||"").split("/");x.length&&!(e.host=x.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==x[0]&&x.unshift(""),2>x.length&&x.unshift(""),r.pathname=x.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var T=r.pathname||"",p=r.search||"";r.path=T+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var s=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=b||s||r.host&&e.pathname,E=v,P=r.pathname&&r.pathname.split("/")||[],x=e.pathname&&e.pathname.split("/")||[],S=r.protocol&&!y[r.protocol];if(S&&(r.hostname="",r.port=null,r.host&&(""===P[0]?P[0]=r.host:P.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===x[0]?x[0]=e.host:x.unshift(e.host)),e.host=null),v=v&&(""===x[0]||""===P[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,P=x;else if(x.length)P||(P=[]),P.pop(),P=P.concat(x),r.search=e.search,r.query=e.query;else if(!d.isNullOrUndefined(e.search)){if(S){r.hostname=r.host=P.shift();var C=r.host&&0<r.host.indexOf("@")&&r.host.split("@");C&&(r.auth=C.shift(),r.host=r.hostname=C.shift())}return r.search=e.search,r.query=e.query,d.isNull(r.pathname)&&d.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!P.length)return r.pathname=null,r.path=r.search?"/"+r.search:null,r.href=r.format(),r;for(var O=P.slice(-1)[0],R=(r.host||e.host||1<P.length)&&("."===O||".."===O)||""===O,w=0,A=P.length;0<=A;A--)O=P[A],"."===O?P.splice(A,1):".."===O?(P.splice(A,1),w++):w&&(P.splice(A,1),w--);if(!v&&!E)for(;w--;w)P.unshift("..");v&&""!==P[0]&&(!P[0]||"/"!==P[0].charAt(0))&&P.unshift(""),R&&"/"!==P.join("/").substr(-1)&&P.push("");var i=""===P[0]||P[0]&&"/"===P[0].charAt(0);if(S){r.hostname=r.host=i?"":P.length?P.shift():"";var C=r.host&&0<r.host.indexOf("@")&&r.host.split("@");C&&(r.auth=C.shift(),r.host=r.hostname=C.shift())}return v=v||r.host&&P.length,v&&!i&&P.unshift(""),P.length?r.pathname=P.join("/"):(r.pathname=null,r.path=null),d.isNull(r.pathname)&&d.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var e=this.host,t=i.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":197,punycode:183,querystring:186}],197:[function(e,t){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],198:[function(e,t){const r=e("pixi.js"),a=e("./camera.js"),n=e("rbush");class i extends r.Container{constructor(e){super(),this.config=Object.assign({culling:!0},e),this.camera=new a(this.config.width,this.config.height),this.camera.on("frustrumChanged",(e)=>this.onCameraChange(e)),this.worldContainer=new r.Container,super.addChild(this.worldContainer);let t=new r.filters.AlphaFilter;t.padding=0,this.filters=[t],this.filterArea=new r.Rectangle(0,0,this.config.width,this.config.height),this.config.culling&&(this.tree=n())}onCameraChange(e){this.worldContainer.setTransform(-e.position.x,-e.position.y,1/e.scale.x,1/e.scale.y,-e.rotation,-e.skew.x,-e.skew.y,e.pivot.x,e.pivot.y)}addChild(e){const t=this.worldContainer.addChild(e);return this.insertToTree(e),t}addChildAt(e,t){const r=this.worldContainer.addChildAt(e,t);return this.insertToTree(e),r}swapChildren(e,t){return this.worldContainer.swapChildren(e,t)}getChildIndex(e){return this.worldContainer.getChildIndex(e)}setChildIndex(e,t){return this.worldContainer.setChildIndex(e,t)}getChildAt(e){return this.worldContainer.getChildAt(e)}removeChild(e){return this.removeFromTree(e),this.worldContainer.removeChild(e)}removeChildAt(e){const t=this.getChildAt(e);return this.removeFromTree(t),this.worldContainer.removeChildAt(e)}removeChildren(e=0,t){let r=this.worldContainer.removeChildren(e,t);return r.forEach((e)=>this.removeFromTree(e)),r}getChildren(){return this.worldContainer.children}setChildren(e){this.worldContainer.children=e}insertToTree(e){if(this.config.culling){const{camera:t,worldContainer:r}=this,a=e.getBounds(),n=e.getLocalBounds(),i=r.toLocal(a);e.__culling={minX:i.x,minY:i.y,maxX:i.x+n.width*e.scale.x,maxY:i.y+n.height*e.scale.y,instance:e},this.tree.insert(e.__culling)}}updateCullingBound(e){this.config.culling&&(this.removeFromTree(e),this.insertToTree(e))}removeFromTree(e){this.config.culling&&(this.tree.remove(e.__culling),e.__culling=void 0)}setOrigin(e=this.camera.getFrustrumCenter()){let t=this.camera.position.x,r=this.camera.position.y,a=this.camera.pivot.x,n=this.camera.pivot.y,i=this.camera.scale.x,o=this.camera.scale.y;this.camera.pivot.set(e.x,e.y),this.camera.position.set(t-(e.x-a)/i,r-(e.y-n)/o)}setCameraSize(e,t){this.config.width=this.filterArea.width=e,this.config.height=this.filterArea.height=t,this.camera.emit("changeSize",e,t)}_renderWebGL(){this.filterArea.x!==this.x&&(this.filterArea.x=this.x),this.filterArea.y!==this.y&&(this.filterArea.y=this.y);!this.config.culling||this.camera.frustrumChanged&&(this.camera.frustrumChanged=!1,this.tree.all().forEach((e)=>{e.instance.visible=!1}),this.tree.search({minX:this.camera.frustrum.left,minY:this.camera.frustrum.top,maxX:this.camera.frustrum.right,maxY:this.camera.frustrum.bottom}).forEach((e)=>{e.instance.visible=!0}))}}t.exports=i},{"./camera.js":1,"pixi.js":147,rbush:188}]},{},[2]);

</script>
</html>
